(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[636],{92:(e,t,r)=>{(window.__NEXT_P=window.__NEXT_P||[]).push(["/_app",function(){return r(28509)}])},1144:(e,t,r)=>{"use strict";r.d(t,{DU:()=>b,Ei:()=>S,OU:()=>A,Ts:()=>x,hZ:()=>v,iI:()=>k,lO:()=>_,yo:()=>C});var n=r(81383),s=r.n(n),i=r(44480),o=r(7e3),a=r(78567),l=r(45261),c=r(54040);let u=a.A.config.apiEndpoints.analytics,d=a.A.config.analyticsSalt,h="linkme_analytics_id",f=a.A.config.analyticsDisabled,p=function(e,t){let r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};if("undefined"==typeof document)return;let n="".concat(e,"=").concat(encodeURIComponent(t));r.expires&&(n+="; expires=".concat(r.expires.toUTCString())),r.path&&(n+="; path=".concat(r.path)),r.sameSite&&(n+="; samesite=".concat(r.sameSite)),r.secure&&(n+="; secure"),document.cookie=n},m=e=>{p(h,e,{expires:new Date(Date.now()+63072e6),path:"/",sameSite:"lax"})},g=e=>{var t;if(!(null==e||null==(t=e.response)?void 0:t.cookieId))return;let r=e.response.cookieId;e.response.cookieCreated,m(r)},y=async function(e,t){let r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},n={...r};t instanceof FormData||(n={...n,"Content-Type":"application/json"}),n={...n,platform:"web",version:"4.0.0",ip:l.A.hashIpHeader()};try{let r=(e=>{let t=(()=>{let e=new URLSearchParams(window.location.search).get("lid");if(e)return m(e),e;let t=(0,o.Ri)(h);return t||null})();if(!t)return e;let r=e.includes("?")?"&":"?";return"".concat(e).concat(r).concat("lid","=").concat(encodeURIComponent(t))})(e);return(await i.A.post(r,JSON.stringify(t),{headers:n})).data}catch(e){if(e.response)return e.response.data;return{}}},v=async function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=arguments.length>2?arguments[2]:void 0;if(f)return;let n=r||(()=>{try{let e=localStorage.getItem("userInfo");if(e){let t=JSON.parse(e);if(null==t?void 0:t._userIdS)return t._userIdS}let t=localStorage.getItem("userPageUUID");if(t)return t;return"unknown"}catch(e){return"unknown"}})(),s={eventType:e,userId:n,url:window.location.href,...(0,o.HT)()?{cookie:!0}:{},...t};t.label&&(s.label=String(t.label)),t.value&&(s.value=String(t.value)),t.meta&&(s.meta=t.meta),t.webLinkId&&(s.meta||(s.meta={}),s.meta.weblinkId=t.webLinkId),t.profileLinkId&&(s.meta||(s.meta={}),s.meta.profilelinkId=t.profileLinkId);let i=n;switch(e){case"links_click":i="".concat(n,":").concat(t.label||"",":").concat(t.value||"");break;case"profile_visit":case"qr_code_opened":case"chat_activity_create_group":case"chat_activity_message_reply":case"chat_activity_message_sent":case"chat_activity_send_camera_image":case"chat_activity_send_gallery_image":case"view_cart":case"express_checkout_click":case"begin_checkout":case"add_shipping_info":case"add_payment_info":case"view_item":case"view_item_list":case"add_to_cart":case"remove_from_cart":i=n;break;case"shout_entry":i=t.shoutId?String(t.shoutId):n;break;case"purchase":i=t.transaction_id?String(t.transaction_id):n;break;case"view_subscription_plan":case"select_subscription_plan":case"start_free_trial":i=t.plan_id?"".concat(n,":").concat(t.plan_id):n;break;case"sign_up":i=t.method?"".concat(n,":signup:").concat(t.method):"".concat(n,":signup");break;case"design_maker_entered":case"design_maker_category_selected":case"design_maker_product_selected":case"design_maker_begin_customization":case"design_maker_design_completed":case"tool_interaction":i=t.product_id?"".concat(n,":").concat(t.product_id):t.category_id?"".concat(n,":").concat(t.category_id):n;break;case"view_monetization_options":case"select_monetization_option":case"request_early_access":i="".concat(n,":monetization");break;case"product_created":case"product_published":case"product_unpublished":case"product_details_saved":case"product_mockups_saved":i=t.product_id?"".concat(n,":").concat(t.product_id):"".concat(n,":publish");break;default:i="".concat(n,":").concat(e)}let a={hash:w(i),ip:l.A.hashIpHeader()};try{var c;let e=await y("".concat(u,"/analytics/api/v1/events/trigger"),s,a);return(0,o.HT)()&&(null==e||null==(c=e.response)?void 0:c.cookieId)&&g(e),(null==e?void 0:e.response)||null}catch(e){return null}},b=async(e,t,r,n,s)=>v("links_click",{label:t,value:r,webLinkId:n,profileLinkId:s},e),w=e=>s()("".concat(d).concat(e)),x=async function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1?arguments[1]:void 0,r="".concat(u,"/analytics/api/v2/dashboard/visits/overview").concat(e),n=t?{"x-manage-user-id":t}:{};return new Promise(e=>{(0,c.HU)(r,n).then(t=>{e((null==t?void 0:t.response)||null)}).catch(t=>{e(null)})})},k=async function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1?arguments[1]:void 0,r="".concat(u,"/analytics/api/v2/dashboard/visits/location").concat(e),n=t?{"x-manage-user-id":t}:{};return new Promise(e=>{(0,c.HU)(r,n).then(t=>{e((null==t?void 0:t.response)||null)})})},S=async(e,t)=>{let r="".concat(u,"/analytics/api/v2/dashboard/linksClick").concat(e),n=t?{"x-manage-user-id":t}:{};return new Promise(e=>{(0,c.HU)(r,n).then(t=>{e((null==t?void 0:t.response)||null)})})},C=async(e,t)=>{let r="".concat(u,"/analytics/api/v2/dashboard/links/location").concat(e),n=t?{"x-manage-user-id":t}:{};return new Promise(e=>{(0,c.HU)(r,n).then(t=>{e((null==t?void 0:t.response)||null)})})},A=async(e,t)=>{let r="".concat(u,"/analytics/api/v2/dashboard/links/overview").concat(e),n=t?{"x-manage-user-id":t}:{};return new Promise(e=>{(0,c.HU)(r,n).then(t=>{e((null==t?void 0:t.response)||null)}).catch(t=>{e(null)})})},_=async e=>{let t={eventType:"profile_visit",userId:e,label:"",value:"",url:window.location.href,...(0,o.HT)()?{cookie:!0}:{}},r={hash:w(e),ip:l.A.hashIpHeader(),"original-referrer":document.referrer||""};try{var n;let e=await y("".concat(u,"/analytics/api/v1/events/trigger"),t,r);return(0,o.HT)()&&(null==e||null==(n=e.response)?void 0:n.cookieId)&&g(e),(null==e?void 0:e.response)||null}catch(e){return null}}},1593:(e,t,r)=>{"use strict";let n,s;r.d(t,{A:()=>tj});var i,o,a=r(60388),l=r(37149);let c="1.29.1";for(var u=[],d=[],h=Uint8Array,f="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",p=0,m=f.length;p<m;++p)u[p]=f[p],d[f.charCodeAt(p)]=p;function g(e){var t,r,n=function(e){var t=e.length;if(t%4>0)throw Error("Invalid string. Length must be a multiple of 4");var r=e.indexOf("=");-1===r&&(r=t);var n=r===t?0:4-r%4;return[r,n]}(e),s=n[0],i=n[1],o=new h((s+i)*3/4-i),a=0,l=i>0?s-4:s;for(r=0;r<l;r+=4)t=d[e.charCodeAt(r)]<<18|d[e.charCodeAt(r+1)]<<12|d[e.charCodeAt(r+2)]<<6|d[e.charCodeAt(r+3)],o[a++]=t>>16&255,o[a++]=t>>8&255,o[a++]=255&t;return 2===i&&(t=d[e.charCodeAt(r)]<<2|d[e.charCodeAt(r+1)]>>4,o[a++]=255&t),1===i&&(t=d[e.charCodeAt(r)]<<10|d[e.charCodeAt(r+1)]<<4|d[e.charCodeAt(r+2)]>>2,o[a++]=t>>8&255,o[a++]=255&t),o}function y(e){for(var t,r=e.length,n=r%3,s=[],i=0,o=r-n;i<o;i+=16383)s.push(function(e,t,r){for(var n,s=[],i=t;i<r;i+=3)n=(e[i]<<16&0xff0000)+(e[i+1]<<8&65280)+(255&e[i+2]),s.push(u[n>>18&63]+u[n>>12&63]+u[n>>6&63]+u[63&n]);return s.join("")}(e,i,i+16383>o?o:i+16383));return 1===n?s.push(u[(t=e[r-1])>>2]+u[t<<4&63]+"=="):2===n&&s.push(u[(t=(e[r-2]<<8)+e[r-1])>>10]+u[t>>4&63]+u[t<<2&63]+"="),s.join("")}function v(e){if(void 0===e)return{};if(!w(e))throw Error(`The arguments to a Convex function must be an object. Received: ${e}`);return e}function b(e){if(void 0===e)throw Error("Client created with undefined deployment address. If you used an environment variable, check that it's set.");if("string"!=typeof e)throw Error(`Invalid deployment address: found ${e}".`);if(!(e.startsWith("http:")||e.startsWith("https:")))throw Error(`Invalid deployment address: Must start with "https://" or "http://". Found "${e}".`);try{new URL(e)}catch{throw Error(`Invalid deployment address: "${e}" is not a valid URL. If you believe this URL is correct, use the \`skipConvexDeploymentUrlCheck\` option to bypass this.`)}if(e.endsWith(".convex.site"))throw Error(`Invalid deployment address: "${e}" ends with .convex.site, which is used for HTTP Actions. Convex deployment URLs typically end with .convex.cloud? If you believe this URL is correct, use the \`skipConvexDeploymentUrlCheck\` option to bypass this.`)}function w(e){let t="object"==typeof e,r=Object.getPrototypeOf(e),n=null===r||r===Object.prototype||r?.constructor?.name==="Object";return t&&n}d[45]=62,d[95]=63;let x=BigInt("-9223372036854775808"),k=BigInt("9223372036854775807"),S=BigInt("0"),C=BigInt("8"),A=BigInt("256");function _(e){return Number.isNaN(e)||!Number.isFinite(e)||Object.is(e,-0)}let E=DataView.prototype.setBigInt64?function(e){if(e<x||k<e)throw Error(`BigInt ${e} does not fit into a 64-bit signed integer.`);let t=new ArrayBuffer(8);return new DataView(t).setBigInt64(0,e,!0),y(new Uint8Array(t))}:function(e){e<S&&(e-=x+x);let t=e.toString(16);t.length%2==1&&(t="0"+t);let r=new Uint8Array(new ArrayBuffer(8)),n=0;for(let s of t.match(/.{2}/g).reverse())r.set([parseInt(s,16)],n++),e>>=C;return y(r)},T=DataView.prototype.getBigInt64?function(e){let t=g(e);if(8!==t.byteLength)throw Error(`Received ${t.byteLength} bytes, expected 8 for $integer`);return new DataView(t.buffer).getBigInt64(0,!0)}:function(e){let t=g(e);if(8!==t.byteLength)throw Error(`Received ${t.byteLength} bytes, expected 8 for $integer`);let r=S,n=S;for(let e of t)r+=BigInt(e)*A**n,n++;return r>k&&(r+=x+x),r};function R(e){if(e.length>1024)throw Error(`Field name ${e} exceeds maximum field name length 1024.`);if(e.startsWith("$"))throw Error(`Field name ${e} starts with a '$', which is reserved.`);for(let t=0;t<e.length;t+=1){let r=e.charCodeAt(t);if(r<32||r>=127)throw Error(`Field name ${e} has invalid character '${e[t]}': Field names can only contain non-control ASCII characters`)}}function O(e){if(null===e||"boolean"==typeof e||"number"==typeof e||"string"==typeof e)return e;if(Array.isArray(e))return e.map(e=>O(e));if("object"!=typeof e)throw Error(`Unexpected type of ${e}`);let t=Object.entries(e);if(1===t.length){let r=t[0][0];if("$bytes"===r){if("string"!=typeof e.$bytes)throw Error(`Malformed $bytes field on ${e}`);return g(e.$bytes).buffer}if("$integer"===r){if("string"!=typeof e.$integer)throw Error(`Malformed $integer field on ${e}`);return T(e.$integer)}if("$float"===r){if("string"!=typeof e.$float)throw Error(`Malformed $float field on ${e}`);let t=g(e.$float);if(8!==t.byteLength)throw Error(`Received ${t.byteLength} bytes, expected 8 for $float`);let r=new DataView(t.buffer).getFloat64(0,!0);if(!_(r))throw Error(`Float ${r} should be encoded as a number`);return r}if("$set"===r)throw Error("Received a Set which is no longer supported as a Convex type.");if("$map"===r)throw Error("Received a Map which is no longer supported as a Convex type.")}let r={};for(let[t,n]of Object.entries(e))R(t),r[t]=O(n);return r}function I(e){let t=JSON.stringify(e,(e,t)=>void 0===t?"undefined":"bigint"==typeof t?`${t.toString()}n`:t);if(t.length>16384){let e="[...truncated]",r=16384-e.length,n=t.codePointAt(r-1);return void 0!==n&&n>65535&&(r-=1),t.substring(0,r)+e}return t}function P(e,t,r,n){if(void 0===e){let e=r&&` (present at path ${r} in original object ${I(t)})`;throw Error(`undefined is not a valid Convex value${e}. To learn about Convex's supported types, see https://docs.convex.dev/using/types.`)}if(null===e)return e;if("bigint"==typeof e){if(e<x||k<e)throw Error(`BigInt ${e} does not fit into a 64-bit signed integer.`);return{$integer:E(e)}}if("number"==typeof e)if(!_(e))return e;else{let t=new ArrayBuffer(8);return new DataView(t).setFloat64(0,e,!0),{$float:y(new Uint8Array(t))}}if("boolean"==typeof e||"string"==typeof e)return e;if(e instanceof ArrayBuffer)return{$bytes:y(new Uint8Array(e))};if(Array.isArray(e))return e.map((e,n)=>P(e,t,r+`[${n}]`,!1));if(e instanceof Set)throw Error(j(r,"Set",[...e],t));if(e instanceof Map)throw Error(j(r,"Map",[...e],t));if(!w(e)){let n=e?.constructor?.name;throw Error(j(r,n?`${n} `:"",e,t))}let s={},i=Object.entries(e);for(let[e,o]of(i.sort(([e,t],[r,n])=>e===r?0:e<r?-1:1),i))void 0!==o?(R(e),s[e]=P(o,t,r+`.${e}`,!1)):n&&(R(e),s[e]=q(o,t,r+`.${e}`));return s}function j(e,t,r,n){return e?`${t}${I(r)} is not a supported Convex type (present at path ${e} in original object ${I(n)}). To learn about Convex's supported types, see https://docs.convex.dev/using/types.`:`${t}${I(r)} is not a supported Convex type.`}function q(e,t,r){if(void 0===e)return{$undefined:null};if(void 0===t)throw Error(`Programming error. Current value is ${I(e)} but original value is undefined`);return P(e,t,r,!1)}function L(e){return P(e,e,"",!1)}function N(e){return q(e,e,"")}var M=Object.defineProperty,D=(e,t,r)=>((e,t,r)=>t in e?M(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r)(e,"symbol"!=typeof t?t+"":t,r);class U{constructor({isOptional:e}){D(this,"type"),D(this,"fieldPaths"),D(this,"isOptional"),D(this,"isConvexValidator"),this.isOptional=e,this.isConvexValidator=!0}}class F extends U{constructor(){super(...arguments),D(this,"kind","float64")}get json(){return{type:"number"}}asOptional(){return new F({isOptional:"optional"})}}class $ extends U{constructor(){super(...arguments),D(this,"kind","string")}get json(){return{type:this.kind}}asOptional(){return new $({isOptional:"optional"})}}class Q extends U{constructor(){super(...arguments),D(this,"kind","null")}get json(){return{type:this.kind}}asOptional(){return new Q({isOptional:"optional"})}}class z extends U{constructor(){super(...arguments),D(this,"kind","any")}get json(){return{type:this.kind}}asOptional(){return new z({isOptional:"optional"})}}class V extends U{constructor({isOptional:e,fields:t}){super({isOptional:e}),D(this,"fields"),D(this,"kind","object"),globalThis.Object.values(t).forEach(e=>{if(!e.isConvexValidator)throw Error("v.object() entries must be validators")}),this.fields=t}get json(){return{type:this.kind,value:globalThis.Object.fromEntries(globalThis.Object.entries(this.fields).map(([e,t])=>[e,{fieldType:t.json,optional:"optional"===t.isOptional}]))}}asOptional(){return new V({isOptional:"optional",fields:this.fields})}omit(...e){let t={...this.fields};for(let r of e)delete t[r];return new V({isOptional:this.isOptional,fields:t})}pick(...e){let t={};for(let r of e)t[r]=this.fields[r];return new V({isOptional:this.isOptional,fields:t})}partial(){let e={};for(let[t,r]of globalThis.Object.entries(this.fields))e[t]=r.asOptional();return new V({isOptional:this.isOptional,fields:e})}extend(e){return new V({isOptional:this.isOptional,fields:{...this.fields,...e}})}}class B extends U{constructor({isOptional:e,value:t}){if(super({isOptional:e}),D(this,"value"),D(this,"kind","literal"),"string"!=typeof t&&"boolean"!=typeof t&&"number"!=typeof t&&"bigint"!=typeof t)throw Error("v.literal(value) must be a string, number, or boolean");this.value=t}get json(){return{type:this.kind,value:L(this.value)}}asOptional(){return new B({isOptional:"optional",value:this.value})}}class H extends U{constructor({isOptional:e,element:t}){super({isOptional:e}),D(this,"element"),D(this,"kind","array"),this.element=t}get json(){return{type:this.kind,value:this.element.json}}asOptional(){return new H({isOptional:"optional",element:this.element})}}class W extends U{constructor({isOptional:e,members:t}){super({isOptional:e}),D(this,"members"),D(this,"kind","union"),t.forEach(e=>{if(!e.isConvexValidator)throw Error("All members of v.union() must be validators")}),this.members=t}get json(){return{type:this.kind,value:this.members.map(e=>e.json)}}asOptional(){return new W({isOptional:"optional",members:this.members})}}let K={null:()=>new Q({isOptional:"required"}),number:()=>new F({isOptional:"required"}),float64:()=>new F({isOptional:"required"}),string:()=>new $({isOptional:"required"}),literal:e=>new B({isOptional:"required",value:e}),array:e=>new H({isOptional:"required",element:e}),object:e=>new V({isOptional:"required",fields:e}),union:(...e)=>new W({isOptional:"required",members:e}),any:()=>new z({isOptional:"required"}),optional:e=>e.asOptional()};var G=Object.defineProperty,J=(e,t,r)=>((e,t,r)=>t in e?G(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r)(e,"symbol"!=typeof t?t+"":t,r);let Y=Symbol.for("ConvexError");class X extends(o=Error,i=Y,o){constructor(e){super("string"==typeof e?e:I(e)),J(this,"name","ConvexError"),J(this,"data"),J(this,i,!0),this.data=e}}let Z=()=>Array.from({length:4},()=>0);Z(),Z();var ee=Object.defineProperty,et=(e,t,r)=>((e,t,r)=>t in e?ee(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r)(e,"symbol"!=typeof t?t+"":t,r);function er(e){switch(e){case"query":return"Q";case"mutation":return"M";case"action":return"A";case"any":return"?"}}class en{constructor(e){et(this,"_onLogLineFuncs"),et(this,"_verbose"),this._onLogLineFuncs={},this._verbose=e.verbose}addLogLineListener(e){let t=Math.random().toString(36).substring(2,15);for(let e=0;e<10&&void 0!==this._onLogLineFuncs[t];e++)t=Math.random().toString(36).substring(2,15);return this._onLogLineFuncs[t]=e,()=>{delete this._onLogLineFuncs[t]}}logVerbose(...e){if(this._verbose)for(let t of Object.values(this._onLogLineFuncs))t("debug",`${new Date().toISOString()}`,...e)}log(...e){for(let t of Object.values(this._onLogLineFuncs))t("info",...e)}warn(...e){for(let t of Object.values(this._onLogLineFuncs))t("warn",...e)}error(...e){for(let t of Object.values(this._onLogLineFuncs))t("error",...e)}}function es(e){let t=new en(e);return t.addLogLineListener((e,...t)=>{switch(e){case"debug":console.debug(...t);break;case"info":default:console.log(...t);break;case"warn":console.warn(...t);break;case"error":console.error(...t)}}),t}function ei(e,t,r,n,s){let i=er(r);if("object"==typeof s&&(s=`ConvexError ${JSON.stringify(s.errorData,null,2)}`),"info"===t){let t=s.match(/^\[.*?\] /);if(null===t)return void e.error(`[CONVEX ${i}(${n})] Could not parse console.log`);let r=s.slice(1,t[0].length-2),o=s.slice(t[0].length);e.log(`%c[CONVEX ${i}(${n})] [${r}]`,"color:rgb(0, 145, 255)",o)}else e.error(`[CONVEX ${i}(${n})] ${s}`)}function eo(e,t,r){let n=er(e);return`[CONVEX ${n}(${t})] ${r.errorMessage}
  Called by client`}function ea(e,t){return t.data=e.errorData,t}function el(e){let t,r,n=e.split(":");return 1===n.length?(t=n[0],r="default"):(t=n.slice(0,n.length-1).join(":"),r=n[n.length-1]),t.endsWith(".js")&&(t=t.slice(0,-3)),`${t}:${r}`}function ec(e,t){return JSON.stringify({udfPath:el(e),args:L(t)})}var eu=Object.defineProperty,ed=(e,t,r)=>((e,t,r)=>t in e?eu(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r)(e,"symbol"!=typeof t?t+"":t,r);class eh{constructor(){ed(this,"nextQueryId"),ed(this,"querySetVersion"),ed(this,"querySet"),ed(this,"queryIdToToken"),ed(this,"identityVersion"),ed(this,"auth"),ed(this,"outstandingQueriesOlderThanRestart"),ed(this,"outstandingAuthOlderThanRestart"),ed(this,"paused"),ed(this,"pendingQuerySetModifications"),this.nextQueryId=0,this.querySetVersion=0,this.identityVersion=0,this.querySet=new Map,this.queryIdToToken=new Map,this.outstandingQueriesOlderThanRestart=new Set,this.outstandingAuthOlderThanRestart=!1,this.paused=!1,this.pendingQuerySetModifications=new Map}hasSyncedPastLastReconnect(){return 0===this.outstandingQueriesOlderThanRestart.size&&!this.outstandingAuthOlderThanRestart}markAuthCompletion(){this.outstandingAuthOlderThanRestart=!1}subscribe(e,t,r,n){let s=el(e),i=ec(s,t),o=this.querySet.get(i);if(void 0!==o)return o.numSubscribers+=1,{queryToken:i,modification:null,unsubscribe:()=>this.removeSubscriber(i)};{let e=this.nextQueryId++;this.querySet.set(i,{id:e,canonicalizedUdfPath:s,args:t,numSubscribers:1,journal:r,componentPath:n}),this.queryIdToToken.set(e,i);let o=this.querySetVersion,a=this.querySetVersion+1,l={type:"Add",queryId:e,udfPath:s,args:[L(t)],journal:r,componentPath:n};return this.paused?this.pendingQuerySetModifications.set(e,l):this.querySetVersion=a,{queryToken:i,modification:{type:"ModifyQuerySet",baseVersion:o,newVersion:a,modifications:[l]},unsubscribe:()=>this.removeSubscriber(i)}}}transition(e){for(let t of e.modifications)switch(t.type){case"QueryUpdated":case"QueryFailed":{this.outstandingQueriesOlderThanRestart.delete(t.queryId);let e=t.journal;if(void 0!==e){let r=this.queryIdToToken.get(t.queryId);void 0!==r&&(this.querySet.get(r).journal=e)}break}case"QueryRemoved":this.outstandingQueriesOlderThanRestart.delete(t.queryId);break;default:throw Error(`Invalid modification ${t.type}`)}}queryId(e,t){let r=ec(el(e),t),n=this.querySet.get(r);return void 0!==n?n.id:null}isCurrentOrNewerAuthVersion(e){return e>=this.identityVersion}getAuth(){return this.auth}setAuth(e){this.auth={tokenType:"User",value:e};let t=this.identityVersion;return this.paused||(this.identityVersion=t+1),{type:"Authenticate",baseVersion:t,...this.auth}}setAdminAuth(e,t){let r={tokenType:"Admin",value:e,impersonating:t};this.auth=r;let n=this.identityVersion;return this.paused||(this.identityVersion=n+1),{type:"Authenticate",baseVersion:n,...r}}clearAuth(){this.auth=void 0,this.markAuthCompletion();let e=this.identityVersion;return this.paused||(this.identityVersion=e+1),{type:"Authenticate",tokenType:"None",baseVersion:e}}hasAuth(){return!!this.auth}isNewAuth(e){return this.auth?.value!==e}queryPath(e){let t=this.queryIdToToken.get(e);return t?this.querySet.get(t).canonicalizedUdfPath:null}queryArgs(e){let t=this.queryIdToToken.get(e);return t?this.querySet.get(t).args:null}queryToken(e){return this.queryIdToToken.get(e)??null}queryJournal(e){return this.querySet.get(e)?.journal}restart(e){this.unpause(),this.outstandingQueriesOlderThanRestart.clear();let t=[];for(let r of this.querySet.values()){let n={type:"Add",queryId:r.id,udfPath:r.canonicalizedUdfPath,args:[L(r.args)],journal:r.journal,componentPath:r.componentPath};t.push(n),e.has(r.id)||this.outstandingQueriesOlderThanRestart.add(r.id)}this.querySetVersion=1;let r={type:"ModifyQuerySet",baseVersion:0,newVersion:1,modifications:t};if(!this.auth)return this.identityVersion=0,[r,void 0];this.outstandingAuthOlderThanRestart=!0;let n={type:"Authenticate",baseVersion:0,...this.auth};return this.identityVersion=1,[r,n]}pause(){this.paused=!0}resume(){let e=this.pendingQuerySetModifications.size>0?{type:"ModifyQuerySet",baseVersion:this.querySetVersion,newVersion:++this.querySetVersion,modifications:Array.from(this.pendingQuerySetModifications.values())}:void 0,t=void 0!==this.auth?{type:"Authenticate",baseVersion:this.identityVersion++,...this.auth}:void 0;return this.unpause(),[e,t]}unpause(){this.paused=!1,this.pendingQuerySetModifications.clear()}removeSubscriber(e){let t=this.querySet.get(e);if(t.numSubscribers>1)return t.numSubscribers-=1,null;{this.querySet.delete(e),this.queryIdToToken.delete(t.id),this.outstandingQueriesOlderThanRestart.delete(t.id);let r=this.querySetVersion,n=this.querySetVersion+1,s={type:"Remove",queryId:t.id};return this.paused?this.pendingQuerySetModifications.has(t.id)?this.pendingQuerySetModifications.delete(t.id):this.pendingQuerySetModifications.set(t.id,s):this.querySetVersion=n,{type:"ModifyQuerySet",baseVersion:r,newVersion:n,modifications:[s]}}}}var ef=Object.defineProperty,ep=(e,t,r)=>((e,t,r)=>t in e?ef(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r)(e,"symbol"!=typeof t?t+"":t,r);class em{constructor(e,t){this.logger=e,this.markConnectionStateDirty=t,ep(this,"inflightRequests"),ep(this,"requestsOlderThanRestart"),ep(this,"inflightMutationsCount",0),ep(this,"inflightActionsCount",0),this.inflightRequests=new Map,this.requestsOlderThanRestart=new Set}request(e,t){let r=new Promise(r=>{this.inflightRequests.set(e.requestId,{message:e,status:{status:t?"Requested":"NotSent",requestedAt:new Date,onResult:r}}),"Mutation"===e.type?this.inflightMutationsCount++:"Action"===e.type&&this.inflightActionsCount++});return this.markConnectionStateDirty(),r}onResponse(e){let t,r,n=this.inflightRequests.get(e.requestId);if(void 0===n||"Completed"===n.status.status)return null;let s="Mutation"===n.message.type?"mutation":"action",i=n.message.udfPath;for(let t of e.logLines)ei(this.logger,"info",s,i,t);let o=n.status;if(e.success)t={success:!0,logLines:e.logLines,value:O(e.result)},r=()=>o.onResult(t);else{let n=e.result,{errorData:a}=e;ei(this.logger,"error",s,i,n),t={success:!1,errorMessage:n,errorData:void 0!==a?O(a):void 0,logLines:e.logLines},r=()=>o.onResult(t)}return"ActionResponse"!==e.type&&e.success?(n.status={status:"Completed",result:t,ts:e.ts,onResolve:r},null):(r(),this.inflightRequests.delete(e.requestId),this.requestsOlderThanRestart.delete(e.requestId),"Action"===n.message.type?this.inflightActionsCount--:"Mutation"===n.message.type&&this.inflightMutationsCount--,this.markConnectionStateDirty(),{requestId:e.requestId,result:t})}removeCompleted(e){let t=new Map;for(let[r,n]of this.inflightRequests.entries()){let s=n.status;"Completed"===s.status&&s.ts.lessThanOrEqual(e)&&(s.onResolve(),t.set(r,s.result),"Mutation"===n.message.type?this.inflightMutationsCount--:"Action"===n.message.type&&this.inflightActionsCount--,this.inflightRequests.delete(r),this.requestsOlderThanRestart.delete(r))}return t.size>0&&this.markConnectionStateDirty(),t}restart(){this.requestsOlderThanRestart=new Set(this.inflightRequests.keys());let e=[];for(let[t,r]of this.inflightRequests){if("NotSent"===r.status.status){r.status.status="Requested",e.push(r.message);continue}if("Mutation"===r.message.type)e.push(r.message);else if("Action"===r.message.type){if(this.inflightRequests.delete(t),this.requestsOlderThanRestart.delete(t),this.inflightActionsCount--,"Completed"===r.status.status)throw Error("Action should never be in 'Completed' state");r.status.onResult({success:!1,errorMessage:"Connection lost while action was in flight",logLines:[]})}}return this.markConnectionStateDirty(),e}resume(){let e=[];for(let[,t]of this.inflightRequests)if("NotSent"===t.status.status){t.status.status="Requested",e.push(t.message);continue}return e}hasIncompleteRequests(){for(let e of this.inflightRequests.values())if("Requested"===e.status.status)return!0;return!1}hasInflightRequests(){return this.inflightRequests.size>0}hasSyncedPastLastReconnect(){return 0===this.requestsOlderThanRestart.size}timeOfOldestInflightRequest(){if(0===this.inflightRequests.size)return null;let e=Date.now();for(let t of this.inflightRequests.values())"Completed"!==t.status.status&&t.status.requestedAt.getTime()<e&&(e=t.status.requestedAt.getTime());return new Date(e)}inflightMutations(){return this.inflightMutationsCount}inflightActions(){return this.inflightActionsCount}}let eg=Symbol.for("functionName"),ey=Symbol.for("toReferencePath");function ev(e){let t=function(e){let t;if("string"==typeof e)t=e.startsWith("function://")?{functionHandle:e}:{name:e};else if(e[eg])t={name:e[eg]};else{let r=e[ey]??null;if(!r)throw Error(`${e} is not a functionReference`);t={reference:r}}return t}(e);if(void 0===t.name){if(void 0!==t.functionHandle)throw Error(`Expected function reference like "api.file.func" or "internal.file.func", but received function handle ${t.functionHandle}`);if(void 0!==t.reference)throw Error(`Expected function reference in the current component like "api.file.func" or "internal.file.func", but received reference ${t.reference}`);throw Error(`Expected function reference like "api.file.func" or "internal.file.func", but received ${JSON.stringify(t)}`)}if("string"==typeof e)return e;let r=e[eg];if(!r)throw Error(`${e} is not a functionReference`);return r}!function e(t=[]){return new Proxy({},{get(r,n){if("string"==typeof n)return e([...t,n]);if(n===eg){if(t.length<2){let e=["api",...t].join(".");throw Error(`API path is expected to be of the form \`api.moduleName.functionName\`. Found: \`${e}\``)}let e=t.slice(0,-1).join("/"),r=t[t.length-1];return"default"===r?e:e+":"+r}return n===Symbol.toStringTag?"FunctionReference":void 0}})}();var eb=Object.defineProperty,ew=(e,t,r)=>((e,t,r)=>t in e?eb(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r)(e,"symbol"!=typeof t?t+"":t,r);class ex{constructor(e){ew(this,"queryResults"),ew(this,"modifiedQueries"),this.queryResults=e,this.modifiedQueries=[]}getQuery(e,...t){let r=v(t[0]),n=ev(e),s=this.queryResults.get(ec(n,r));if(void 0!==s)return ex.queryValue(s.result)}getAllQueries(e){let t=[],r=ev(e);for(let e of this.queryResults.values())e.udfPath===el(r)&&t.push({args:e.args,value:ex.queryValue(e.result)});return t}setQuery(e,t,r){let n=v(t),s=ev(e),i=ec(s,n);this.queryResults.set(i,{udfPath:s,args:n,result:void 0===r?void 0:{success:!0,value:r,logLines:[]}}),this.modifiedQueries.push(i)}static queryValue(e){return void 0===e?void 0:e.success?e.value:void 0}}class ek{constructor(){ew(this,"queryResults"),ew(this,"optimisticUpdates"),this.queryResults=new Map,this.optimisticUpdates=[]}ingestQueryResultsFromServer(e,t){this.optimisticUpdates=this.optimisticUpdates.filter(e=>!t.has(e.mutationId));let r=this.queryResults;this.queryResults=new Map(e);let n=new ex(this.queryResults);for(let e of this.optimisticUpdates)e.update(n);let s=[];for(let[e,t]of this.queryResults){let n=r.get(e);(void 0===n||n.result!==t.result)&&s.push(e)}return s}applyOptimisticUpdate(e,t){this.optimisticUpdates.push({update:e,mutationId:t});let r=new ex(this.queryResults);return e(r),r.modifiedQueries}rawQueryResult(e){return this.queryResults.get(e)}queryResult(e){let t=this.queryResults.get(e);if(void 0===t)return;let r=t.result;if(void 0!==r){if(r.success)return r.value;if(void 0!==r.errorData)throw ea(r,new X(eo("query",t.udfPath,r)));throw Error(eo("query",t.udfPath,r))}}hasQueryResult(e){return void 0!==this.queryResults.get(e)}queryLogs(e){let t=this.queryResults.get(e);return t?.result?.logLines}}var eS=Object.defineProperty,eC=(e,t,r)=>((e,t,r)=>t in e?eS(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r)(e,"symbol"!=typeof t?t+"":t,r);class eA{constructor(e,t){eC(this,"low"),eC(this,"high"),eC(this,"__isUnsignedLong__"),this.low=0|e,this.high=0|t,this.__isUnsignedLong__=!0}static isLong(e){return!0===(e&&e.__isUnsignedLong__)}static fromBytesLE(e){return new eA(e[0]|e[1]<<8|e[2]<<16|e[3]<<24,e[4]|e[5]<<8|e[6]<<16|e[7]<<24)}toBytesLE(){let e=this.high,t=this.low;return[255&t,t>>>8&255,t>>>16&255,t>>>24,255&e,e>>>8&255,e>>>16&255,e>>>24]}static fromNumber(e){return isNaN(e)||e<0?e_:e>=eT?eR:new eA(e%eE|0,e/eE|0)}toString(){return(BigInt(this.high)*BigInt(eE)+BigInt(this.low)).toString()}equals(e){return eA.isLong(e)||(e=eA.fromValue(e)),(this.high>>>31!=1||e.high>>>31!=1)&&this.high===e.high&&this.low===e.low}notEquals(e){return!this.equals(e)}comp(e){return(eA.isLong(e)||(e=eA.fromValue(e)),this.equals(e))?0:e.high>>>0>this.high>>>0||e.high===this.high&&e.low>>>0>this.low>>>0?-1:1}lessThanOrEqual(e){return 0>=this.comp(e)}static fromValue(e){return"number"==typeof e?eA.fromNumber(e):new eA(e.low,e.high)}}let e_=new eA(0,0),eE=0x100000000,eT=0xffffffffffffffff,eR=new eA(-1,-1);var eO=Object.defineProperty,eI=(e,t,r)=>((e,t,r)=>t in e?eO(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r)(e,"symbol"!=typeof t?t+"":t,r);class eP{constructor(e,t){eI(this,"version"),eI(this,"remoteQuerySet"),eI(this,"queryPath"),eI(this,"logger"),this.version={querySet:0,ts:eA.fromNumber(0),identity:0},this.remoteQuerySet=new Map,this.queryPath=e,this.logger=t}transition(e){let t=e.startVersion;if(this.version.querySet!==t.querySet||this.version.ts.notEquals(t.ts)||this.version.identity!==t.identity)throw Error(`Invalid start version: ${t.ts.toString()}:${t.querySet}:${t.identity}, transitioning from ${this.version.ts.toString()}:${this.version.querySet}:${this.version.identity}`);for(let t of e.modifications)switch(t.type){case"QueryUpdated":{let e=this.queryPath(t.queryId);if(e)for(let r of t.logLines)ei(this.logger,"info","query",e,r);let r=O(t.value??null);this.remoteQuerySet.set(t.queryId,{success:!0,value:r,logLines:t.logLines});break}case"QueryFailed":{let e=this.queryPath(t.queryId);if(e)for(let r of t.logLines)ei(this.logger,"info","query",e,r);let{errorData:r}=t;this.remoteQuerySet.set(t.queryId,{success:!1,errorMessage:t.errorMessage,errorData:void 0!==r?O(r):void 0,logLines:t.logLines});break}case"QueryRemoved":this.remoteQuerySet.delete(t.queryId);break;default:throw Error(`Invalid modification ${t.type}`)}this.version=e.endVersion}remoteQueryResults(){return this.remoteQuerySet}timestamp(){return this.version.ts}}function ej(e){let t=g(e);return eA.fromBytesLE(Array.from(t))}function eq(e){switch(e.type){case"FatalError":case"AuthError":case"ActionResponse":case"TransitionChunk":case"Ping":return{...e};case"MutationResponse":if(e.success)return{...e,ts:ej(e.ts)};return{...e};case"Transition":return{...e,startVersion:{...e.startVersion,ts:ej(e.startVersion.ts)},endVersion:{...e.endVersion,ts:ej(e.endVersion.ts)}}}}var eL=Object.defineProperty,eN=(e,t,r)=>((e,t,r)=>t in e?eL(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r)(e,"symbol"!=typeof t?t+"":t,r);function eM(){return(void 0===n&&(n=Date.now()),"undefined"!=typeof performance&&performance.now)?Math.round(n+performance.now()):Date.now()}function eD(){return`t=${Math.round((eM()-n)/100)/10}s`}let eU={InternalServerError:{timeout:1e3},SubscriptionsWorkerFullError:{timeout:3e3},TooManyConcurrentRequests:{timeout:3e3},CommitterFullError:{timeout:3e3},AwsTooManyRequestsException:{timeout:3e3},ExecuteFullError:{timeout:3e3},SystemTimeoutError:{timeout:3e3},ExpiredInQueue:{timeout:3e3},VectorIndexesUnavailable:{timeout:1e3},SearchIndexesUnavailable:{timeout:1e3},TableSummariesUnavailable:{timeout:1e3},VectorIndexTooLarge:{timeout:3e3},SearchIndexTooLarge:{timeout:3e3},TooManyWritesInTimePeriod:{timeout:3e3}};class eF{constructor(e,t,r,n,s,i){this.markConnectionStateDirty=s,this.debug=i,eN(this,"socket"),eN(this,"connectionCount"),eN(this,"_hasEverConnected",!1),eN(this,"lastCloseReason"),eN(this,"transitionChunkBuffer",null),eN(this,"defaultInitialBackoff"),eN(this,"maxBackoff"),eN(this,"retries"),eN(this,"serverInactivityThreshold"),eN(this,"reconnectDueToServerInactivityTimeout"),eN(this,"uri"),eN(this,"onOpen"),eN(this,"onResume"),eN(this,"onMessage"),eN(this,"webSocketConstructor"),eN(this,"logger"),eN(this,"onServerDisconnectError"),this.webSocketConstructor=r,this.socket={state:"disconnected"},this.connectionCount=0,this.lastCloseReason="InitialConnect",this.defaultInitialBackoff=1e3,this.maxBackoff=16e3,this.retries=0,this.serverInactivityThreshold=6e4,this.reconnectDueToServerInactivityTimeout=null,this.uri=e,this.onOpen=t.onOpen,this.onResume=t.onResume,this.onMessage=t.onMessage,this.onServerDisconnectError=t.onServerDisconnectError,this.logger=n,this.connect()}setSocketState(e){this.socket=e,this._logVerbose(`socket state changed: ${this.socket.state}, paused: ${"paused"in this.socket?this.socket.paused:void 0}`),this.markConnectionStateDirty()}assembleTransition(e){if(e.partNumber<0||e.partNumber>=e.totalParts||0===e.totalParts||this.transitionChunkBuffer&&(this.transitionChunkBuffer.totalParts!==e.totalParts||this.transitionChunkBuffer.transitionId!==e.transitionId))throw this.transitionChunkBuffer=null,Error("Invalid TransitionChunk");if(null===this.transitionChunkBuffer&&(this.transitionChunkBuffer={chunks:[],totalParts:e.totalParts,transitionId:e.transitionId}),e.partNumber!==this.transitionChunkBuffer.chunks.length){let t=this.transitionChunkBuffer.chunks.length;throw this.transitionChunkBuffer=null,Error(`TransitionChunk received out of order: expected part ${t}, got ${e.partNumber}`)}if(this.transitionChunkBuffer.chunks.push(e.chunk),this.transitionChunkBuffer.chunks.length===e.totalParts){let e=this.transitionChunkBuffer.chunks.join("");this.transitionChunkBuffer=null;let t=eq(JSON.parse(e));if("Transition"!==t.type)throw Error(`Expected Transition, got ${t.type} after assembling chunks`);return t}return null}connect(){if("terminated"===this.socket.state)return;if("disconnected"!==this.socket.state&&"stopped"!==this.socket.state)throw Error("Didn't start connection from disconnected state: "+this.socket.state);let e=new this.webSocketConstructor(this.uri);this._logVerbose("constructed WebSocket"),this.setSocketState({state:"connecting",ws:e,paused:"no"}),this.resetServerInactivityTimeout(),e.onopen=()=>{if(this.logger.logVerbose("begin ws.onopen"),"connecting"!==this.socket.state)throw Error("onopen called with socket not in connecting state");this.setSocketState({state:"ready",ws:e,paused:"yes"===this.socket.paused?"uninitialized":"no"}),this.resetServerInactivityTimeout(),"no"===this.socket.paused&&(this._hasEverConnected=!0,this.onOpen({connectionCount:this.connectionCount,lastCloseReason:this.lastCloseReason,clientTs:eM()})),"InitialConnect"!==this.lastCloseReason&&(this.lastCloseReason?this.logger.log("WebSocket reconnected at",eD(),"after disconnect due to",this.lastCloseReason):this.logger.log("WebSocket reconnected at",eD())),this.connectionCount+=1,this.lastCloseReason=null},e.onerror=e=>{this.transitionChunkBuffer=null;let t=e.message;t&&this.logger.log(`WebSocket error message: ${t}`)},e.onmessage=e=>{this.resetServerInactivityTimeout();let t=e.data.length,r=eq(JSON.parse(e.data));if(this._logVerbose(`received ws message with type ${r.type}`),"Ping"!==r.type){if("TransitionChunk"===r.type){let e=this.assembleTransition(r);if(!e)return;r=e,this._logVerbose(`assembled full ws message of type ${r.type}`)}null!==this.transitionChunkBuffer&&(this.transitionChunkBuffer=null,this.logger.log(`Received unexpected ${r.type} while buffering TransitionChunks`)),"Transition"===r.type&&this.reportLargeTransition({messageLength:t,transition:r}),this.onMessage(r).hasSyncedPastLastReconnect&&(this.retries=0,this.markConnectionStateDirty())}},e.onclose=e=>{if(this._logVerbose("begin ws.onclose"),this.transitionChunkBuffer=null,null===this.lastCloseReason&&(this.lastCloseReason=e.reason||`closed with code ${e.code}`),1e3!==e.code&&1001!==e.code&&1005!==e.code&&4040!==e.code){let t=`WebSocket closed with code ${e.code}`;e.reason&&(t+=`: ${e.reason}`),this.logger.log(t),this.onServerDisconnectError&&e.reason&&this.onServerDisconnectError(t)}let t=function(e){if(void 0===e)return"Unknown";for(let t of Object.keys(eU))if(e.startsWith(t))return t;return"Unknown"}(e.reason);this.scheduleReconnect(t)}}socketState(){return this.socket.state}sendMessage(e){let t={type:e.type,..."Authenticate"===e.type&&"User"===e.tokenType?{value:`...${e.value.slice(-7)}`}:{}};if("ready"===this.socket.state&&"no"===this.socket.paused){let r=JSON.stringify(function(e){switch(e.type){case"Authenticate":case"ModifyQuerySet":case"Mutation":case"Action":case"Event":return{...e};case"Connect":if(void 0===e.maxObservedTimestamp)return{...e,maxObservedTimestamp:void 0};return{...e,maxObservedTimestamp:y(new Uint8Array(e.maxObservedTimestamp.toBytesLE()))}}}(e)),n=!1;try{this.socket.ws.send(r),n=!0}catch(e){this.logger.log(`Failed to send message on WebSocket, reconnecting: ${e}`),this.closeAndReconnect("FailedToSendMessage")}return this._logVerbose(`${n?"sent":"failed to send"} message with type ${e.type}: ${JSON.stringify(t)}`),!0}return this._logVerbose(`message not sent (socket state: ${this.socket.state}, paused: ${"paused"in this.socket?this.socket.paused:void 0}): ${JSON.stringify(t)}`),!1}resetServerInactivityTimeout(){"terminated"!==this.socket.state&&(null!==this.reconnectDueToServerInactivityTimeout&&(clearTimeout(this.reconnectDueToServerInactivityTimeout),this.reconnectDueToServerInactivityTimeout=null),this.reconnectDueToServerInactivityTimeout=setTimeout(()=>{this.closeAndReconnect("InactiveServer")},this.serverInactivityThreshold))}scheduleReconnect(e){this.socket={state:"disconnected"};let t=this.nextBackoff(e);this.markConnectionStateDirty(),this.logger.log(`Attempting reconnect in ${Math.round(t)}ms`),setTimeout(()=>this.connect(),t)}closeAndReconnect(e){switch(this._logVerbose(`begin closeAndReconnect with reason ${e}`),this.socket.state){case"disconnected":case"terminated":case"stopped":return;case"connecting":case"ready":this.lastCloseReason=e,this.close(),this.scheduleReconnect("client");return;default:this.socket}}close(){switch(this.transitionChunkBuffer=null,this.socket.state){case"disconnected":case"terminated":case"stopped":return Promise.resolve();case"connecting":{let e=this.socket.ws;return e.onmessage=e=>{this._logVerbose("Ignoring message received after close")},new Promise(t=>{e.onclose=()=>{this._logVerbose("Closed after connecting"),t()},e.onopen=()=>{this._logVerbose("Opened after connecting"),e.close()}})}case"ready":{this._logVerbose("ws.close called");let e=this.socket.ws;e.onmessage=e=>{this._logVerbose("Ignoring message received after close")};let t=new Promise(t=>{e.onclose=()=>{t()}});return e.close(),t}default:return this.socket,Promise.resolve()}}terminate(){switch(this.reconnectDueToServerInactivityTimeout&&clearTimeout(this.reconnectDueToServerInactivityTimeout),this.socket.state){case"terminated":case"stopped":case"disconnected":case"connecting":case"ready":{let e=this.close();return this.setSocketState({state:"terminated"}),e}default:throw this.socket,Error(`Invalid websocket state: ${this.socket.state}`)}}stop(){switch(this.socket.state){case"terminated":return Promise.resolve();case"connecting":case"stopped":case"disconnected":case"ready":{let e=this.close();return this.socket={state:"stopped"},e}default:return this.socket,Promise.resolve()}}tryRestart(){switch(this.socket.state){case"stopped":break;case"terminated":case"connecting":case"ready":case"disconnected":this.logger.logVerbose("Restart called without stopping first");return;default:this.socket}this.connect()}pause(){switch(this.socket.state){case"disconnected":case"stopped":case"terminated":return;case"connecting":case"ready":this.socket={...this.socket,paused:"yes"};return;default:return void this.socket}}resume(){switch(this.socket.state){case"connecting":this.socket={...this.socket,paused:"no"};return;case"ready":"uninitialized"===this.socket.paused?(this.socket={...this.socket,paused:"no"},this.onOpen({connectionCount:this.connectionCount,lastCloseReason:this.lastCloseReason,clientTs:eM()})):"yes"===this.socket.paused&&(this.socket={...this.socket,paused:"no"},this.onResume());return;case"terminated":case"stopped":case"disconnected":return;default:this.socket}this.connect()}connectionState(){return{isConnected:"ready"===this.socket.state,hasEverConnected:this._hasEverConnected,connectionCount:this.connectionCount,connectionRetries:this.retries}}_logVerbose(e){this.logger.logVerbose(e)}nextBackoff(e){let t=("client"===e?100:"Unknown"===e?this.defaultInitialBackoff:eU[e].timeout)*Math.pow(2,this.retries);this.retries+=1;let r=Math.min(t,this.maxBackoff),n=r*(Math.random()-.5);return r+n}reportLargeTransition({transition:e,messageLength:t}){if(void 0===e.clientClockSkew||void 0===e.serverTs)return;let r=eM()-e.clientClockSkew-e.serverTs/1e6,n=`${Math.round(r)}ms`,s=`${Math.round(t/1e4)/100}MB`,i=t/(r/1e3),o=`${Math.round(i/1e4)/100}MB per second`;this._logVerbose(`received ${s} transition in ${n} at ${o}`),t>2e7?this.logger.log(`received query results totaling more that 20MB (${s}) which will take a long time to download on slower connections`):r>2e4&&this.logger.log(`received query results totaling ${s} which took more than 20s to arrive (${n})`),this.debug&&this.sendMessage({type:"Event",eventType:"ClientReceivedTransition",event:{transitionTransitTime:r,messageLength:t}})}}class e$ extends Error{}function eQ(e,t){let r;if("string"!=typeof e)throw new e$("Invalid token specified: must be a string");t||(t={});let n=+(!0!==t.header),s=e.split(".")[n];if("string"!=typeof s)throw new e$(`Invalid token specified: missing part #${n+1}`);try{r=function(e){let t=e.replace(/-/g,"+").replace(/_/g,"/");switch(t.length%4){case 0:break;case 2:t+="==";break;case 3:t+="=";break;default:throw Error("base64 string is not of the correct length")}try{var r;return r=t,decodeURIComponent(atob(r).replace(/(.)/g,(e,t)=>{let r=t.charCodeAt(0).toString(16).toUpperCase();return r.length<2&&(r="0"+r),"%"+r}))}catch{return atob(t)}}(s)}catch(e){throw new e$(`Invalid token specified: invalid base64 for part #${n+1} (${e.message})`)}try{return JSON.parse(r)}catch(e){throw new e$(`Invalid token specified: invalid json for part #${n+1} (${e.message})`)}}e$.prototype.name="InvalidTokenError";var ez=Object.defineProperty,eV=(e,t,r)=>((e,t,r)=>t in e?ez(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r)(e,"symbol"!=typeof t?t+"":t,r);class eB{constructor(e,t,r){eV(this,"authState",{state:"noAuth"}),eV(this,"configVersion",0),eV(this,"syncState"),eV(this,"authenticate"),eV(this,"stopSocket"),eV(this,"tryRestartSocket"),eV(this,"pauseSocket"),eV(this,"resumeSocket"),eV(this,"clearAuth"),eV(this,"logger"),eV(this,"refreshTokenLeewaySeconds"),eV(this,"tokenConfirmationAttempts",0),this.syncState=e,this.authenticate=t.authenticate,this.stopSocket=t.stopSocket,this.tryRestartSocket=t.tryRestartSocket,this.pauseSocket=t.pauseSocket,this.resumeSocket=t.resumeSocket,this.clearAuth=t.clearAuth,this.logger=r.logger,this.refreshTokenLeewaySeconds=r.refreshTokenLeewaySeconds}async setConfig(e,t){this.resetAuthState(),this._logVerbose("pausing WS for auth token fetch"),this.pauseSocket();let r=await this.fetchTokenAndGuardAgainstRace(e,{forceRefreshToken:!1});r.isFromOutdatedConfig||(r.value?(this.setAuthState({state:"waitingForServerConfirmationOfCachedToken",config:{fetchToken:e,onAuthChange:t},hasRetried:!1}),this.authenticate(r.value)):(this.setAuthState({state:"initialRefetch",config:{fetchToken:e,onAuthChange:t}}),await this.refetchToken()),this._logVerbose("resuming WS after auth token fetch"),this.resumeSocket())}onTransition(e){if(this.syncState.isCurrentOrNewerAuthVersion(e.endVersion.identity)&&!(e.endVersion.identity<=e.startVersion.identity)){if("waitingForServerConfirmationOfCachedToken"===this.authState.state){this._logVerbose("server confirmed auth token is valid"),this.refetchToken(),this.authState.config.onAuthChange(!0);return}"waitingForServerConfirmationOfFreshToken"===this.authState.state&&(this._logVerbose("server confirmed new auth token is valid"),this.scheduleTokenRefetch(this.authState.token),this.tokenConfirmationAttempts=0,this.authState.hadAuth||this.authState.config.onAuthChange(!0))}}onAuthError(e){if(!1===e.authUpdateAttempted&&("waitingForServerConfirmationOfFreshToken"===this.authState.state||"waitingForServerConfirmationOfCachedToken"===this.authState.state))return void this._logVerbose("ignoring non-auth token expired error");let{baseVersion:t}=e;if(!this.syncState.isCurrentOrNewerAuthVersion(t+1))return void this._logVerbose("ignoring auth error for previous auth attempt");this.tryToReauthenticate(e)}async tryToReauthenticate(e){if(this._logVerbose(`attempting to reauthenticate: ${e.error}`),"noAuth"===this.authState.state||"waitingForServerConfirmationOfFreshToken"===this.authState.state&&this.tokenConfirmationAttempts>=2){this.logger.error(`Failed to authenticate: "${e.error}", check your server auth config`),this.syncState.hasAuth()&&this.syncState.clearAuth(),"noAuth"!==this.authState.state&&this.setAndReportAuthFailed(this.authState.config.onAuthChange);return}"waitingForServerConfirmationOfFreshToken"===this.authState.state&&(this.tokenConfirmationAttempts++,this._logVerbose(`retrying reauthentication, ${2-this.tokenConfirmationAttempts} attempts remaining`)),await this.stopSocket();let t=await this.fetchTokenAndGuardAgainstRace(this.authState.config.fetchToken,{forceRefreshToken:!0});t.isFromOutdatedConfig||(t.value&&this.syncState.isNewAuth(t.value)?(this.authenticate(t.value),this.setAuthState({state:"waitingForServerConfirmationOfFreshToken",config:this.authState.config,token:t.value,hadAuth:"notRefetching"===this.authState.state||"waitingForScheduledRefetch"===this.authState.state})):(this._logVerbose("reauthentication failed, could not fetch a new token"),this.syncState.hasAuth()&&this.syncState.clearAuth(),this.setAndReportAuthFailed(this.authState.config.onAuthChange)),this.tryRestartSocket())}async refetchToken(){if("noAuth"===this.authState.state)return;this._logVerbose("refetching auth token");let e=await this.fetchTokenAndGuardAgainstRace(this.authState.config.fetchToken,{forceRefreshToken:!0});e.isFromOutdatedConfig||(e.value?this.syncState.isNewAuth(e.value)?(this.setAuthState({state:"waitingForServerConfirmationOfFreshToken",hadAuth:this.syncState.hasAuth(),token:e.value,config:this.authState.config}),this.authenticate(e.value)):this.setAuthState({state:"notRefetching",config:this.authState.config}):(this._logVerbose("refetching token failed"),this.syncState.hasAuth()&&this.clearAuth(),this.setAndReportAuthFailed(this.authState.config.onAuthChange)),this._logVerbose("restarting WS after auth token fetch (if currently stopped)"),this.tryRestartSocket())}scheduleTokenRefetch(e){if("noAuth"===this.authState.state)return;let t=this.decodeToken(e);if(!t)return void this.logger.error("Auth token is not a valid JWT, cannot refetch the token");let{iat:r,exp:n}=t;if(!r||!n)return void this.logger.error("Auth token does not have required fields, cannot refetch the token");let s=n-r;if(s<=2)return void this.logger.error("Auth token does not live long enough, cannot refetch the token");let i=Math.min(1728e6,(s-this.refreshTokenLeewaySeconds)*1e3);i<=0&&(this.logger.warn(`Refetching auth token immediately, configured leeway ${this.refreshTokenLeewaySeconds}s is larger than the token's lifetime ${s}s`),i=0);let o=setTimeout(()=>{this._logVerbose("running scheduled token refetch"),this.refetchToken()},i);this.setAuthState({state:"waitingForScheduledRefetch",refetchTokenTimeoutId:o,config:this.authState.config}),this._logVerbose(`scheduled preemptive auth token refetching in ${i}ms`)}async fetchTokenAndGuardAgainstRace(e,t){let r=++this.configVersion;this._logVerbose(`fetching token with config version ${r}`);let n=await e(t);return this.configVersion!==r?(this._logVerbose(`stale config version, expected ${r}, got ${this.configVersion}`),{isFromOutdatedConfig:!0}):{isFromOutdatedConfig:!1,value:n}}stop(){this.resetAuthState(),this.configVersion++,this._logVerbose(`config version bumped to ${this.configVersion}`)}setAndReportAuthFailed(e){e(!1),this.resetAuthState()}resetAuthState(){this.setAuthState({state:"noAuth"})}setAuthState(e){let t="waitingForServerConfirmationOfFreshToken"===e.state?{hadAuth:e.hadAuth,state:e.state,token:`...${e.token.slice(-7)}`}:{state:e.state};switch(this._logVerbose(`setting auth state to ${JSON.stringify(t)}`),e.state){case"waitingForScheduledRefetch":case"notRefetching":case"noAuth":this.tokenConfirmationAttempts=0}"waitingForScheduledRefetch"===this.authState.state&&(clearTimeout(this.authState.refetchTokenTimeoutId),this.syncState.markAuthCompletion()),this.authState=e}decodeToken(e){try{return eQ(e)}catch(e){return this._logVerbose(`Error decoding token: ${e instanceof Error?e.message:"Unknown error"}`),null}}_logVerbose(e){this.logger.logVerbose(`${e} [v${this.configVersion}]`)}}let eH=["convexClientConstructed","convexWebSocketOpen","convexFirstMessageReceived"];function eW(e){let t=e.name.slice(6);return{name:t=t.charAt(0).toLowerCase()+t.slice(1),startTime:e.startTime}}var eK=Object.defineProperty,eG=(e,t,r)=>((e,t,r)=>t in e?eK(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r)(e,"symbol"!=typeof t?t+"":t,r);class eJ{constructor(e,t,r){let n;if(eG(this,"address"),eG(this,"state"),eG(this,"requestManager"),eG(this,"webSocketManager"),eG(this,"authenticationManager"),eG(this,"remoteQuerySet"),eG(this,"optimisticQueryResults"),eG(this,"_transitionHandlerCounter",0),eG(this,"_nextRequestId"),eG(this,"_onTransitionFns",new Map),eG(this,"_sessionId"),eG(this,"firstMessageReceived",!1),eG(this,"debug"),eG(this,"logger"),eG(this,"maxObservedTimestamp"),eG(this,"connectionStateSubscribers",new Map),eG(this,"nextConnectionStateSubscriberId",0),eG(this,"_lastPublishedConnectionState"),eG(this,"markConnectionStateDirty",()=>{Promise.resolve().then(()=>{let e=this.connectionState();if(JSON.stringify(e)!==JSON.stringify(this._lastPublishedConnectionState))for(let t of(this._lastPublishedConnectionState=e,this.connectionStateSubscribers.values()))t(e)})}),eG(this,"mark",e=>{var t;this.debug&&(t=this.sessionId,"undefined"!=typeof performance&&performance.mark&&performance.mark(e,{detail:{sessionId:t}}))}),"object"==typeof e)throw Error("Passing a ClientConfig object is no longer supported. Pass the URL of the Convex deployment as a string directly.");r?.skipConvexDeploymentUrlCheck!==!0&&b(e);let s=(r={...r}).authRefreshTokenLeewaySeconds??2,i=r.webSocketConstructor;if(!i&&"undefined"==typeof WebSocket)throw Error("No WebSocket global variable defined! To use Convex in an environment without WebSocket try the HTTP client: https://docs.convex.dev/api/classes/browser.ConvexHttpClient");i=i||WebSocket,this.debug=r.reportDebugInfoToConvex??!1,this.address=e,this.logger=!1===r.logger?new en({verbose:r.verbose??!1}):!0!==r.logger&&r.logger?r.logger:es({verbose:r.verbose??!1});let o=e.search("://");if(-1===o)throw Error("Provided address was not an absolute URL.");let a=e.substring(o+3),l=e.substring(0,o);if("http"===l)n="ws";else if("https"===l)n="wss";else throw Error(`Unknown parent protocol ${l}`);let u=`${n}://${a}/api/${c}/sync`;this.state=new eh,this.remoteQuerySet=new eP(e=>this.state.queryPath(e),this.logger),this.requestManager=new em(this.logger,this.markConnectionStateDirty);let d=()=>{this.webSocketManager.pause(),this.state.pause()};this.authenticationManager=new eB(this.state,{authenticate:e=>{let t=this.state.setAuth(e);return this.webSocketManager.sendMessage(t),t.baseVersion},stopSocket:()=>this.webSocketManager.stop(),tryRestartSocket:()=>this.webSocketManager.tryRestart(),pauseSocket:d,resumeSocket:()=>this.webSocketManager.resume(),clearAuth:()=>{this.clearAuth()}},{logger:this.logger,refreshTokenLeewaySeconds:s}),this.optimisticQueryResults=new ek,this.addOnTransitionHandler(e=>{t(e.queries.map(e=>e.token))}),this._nextRequestId=0,this._sessionId="xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,e=>{let t=16*Math.random()|0;return("x"===e?t:3&t|8).toString(16)});let{unsavedChangesWarning:h}=r;if("undefined"==typeof window||void 0===window.addEventListener){if(!0===h)throw Error("unsavedChangesWarning requested, but window.addEventListener not found! Remove {unsavedChangesWarning: true} from Convex client options.")}else!1!==h&&window.addEventListener("beforeunload",e=>{if(this.requestManager.hasIncompleteRequests()){e.preventDefault();let t="Are you sure you want to leave? Your changes may not be saved.";return(e||window.event).returnValue=t,t}});this.webSocketManager=new eF(u,{onOpen:e=>{this.mark("convexWebSocketOpen"),this.webSocketManager.sendMessage({...e,type:"Connect",sessionId:this._sessionId,maxObservedTimestamp:this.maxObservedTimestamp});let t=new Set(this.remoteQuerySet.remoteQueryResults().keys());this.remoteQuerySet=new eP(e=>this.state.queryPath(e),this.logger);let[r,n]=this.state.restart(t);for(let e of(n&&this.webSocketManager.sendMessage(n),this.webSocketManager.sendMessage(r),this.requestManager.restart()))this.webSocketManager.sendMessage(e)},onResume:()=>{let[e,t]=this.state.resume();for(let r of(t&&this.webSocketManager.sendMessage(t),e&&this.webSocketManager.sendMessage(e),this.requestManager.resume()))this.webSocketManager.sendMessage(r)},onMessage:e=>{switch(!this.firstMessageReceived&&(this.firstMessageReceived=!0,this.mark("convexFirstMessageReceived"),this.reportMarks()),e.type){case"Transition":{this.observedTimestamp(e.endVersion.ts),this.authenticationManager.onTransition(e),this.remoteQuerySet.transition(e),this.state.transition(e);let t=this.requestManager.removeCompleted(this.remoteQuerySet.timestamp());this.notifyOnQueryResultChanges(t);break}case"MutationResponse":{e.success&&this.observedTimestamp(e.ts);let t=this.requestManager.onResponse(e);null!==t&&this.notifyOnQueryResultChanges(new Map([[t.requestId,t.result]]));break}case"ActionResponse":this.requestManager.onResponse(e);break;case"AuthError":this.authenticationManager.onAuthError(e);break;case"FatalError":{let t=function(e,t){let r=`[CONVEX FATAL ERROR] ${t}`;return e.error(r),Error(r)}(this.logger,e.error);throw this.webSocketManager.terminate(),t}}return{hasSyncedPastLastReconnect:this.hasSyncedPastLastReconnect()}},onServerDisconnectError:r.onServerDisconnectError},i,this.logger,this.markConnectionStateDirty,this.debug),this.mark("convexClientConstructed"),r.expectAuth&&d()}hasSyncedPastLastReconnect(){return this.requestManager.hasSyncedPastLastReconnect()||this.state.hasSyncedPastLastReconnect()}observedTimestamp(e){(void 0===this.maxObservedTimestamp||this.maxObservedTimestamp.lessThanOrEqual(e))&&(this.maxObservedTimestamp=e)}getMaxObservedTimestamp(){return this.maxObservedTimestamp}notifyOnQueryResultChanges(e){let t=this.remoteQuerySet.remoteQueryResults(),r=new Map;for(let[e,n]of t){let t=this.state.queryToken(e);if(null!==t){let s={result:n,udfPath:this.state.queryPath(e),args:this.state.queryArgs(e)};r.set(t,s)}}let n=this.optimisticQueryResults.ingestQueryResultsFromServer(r,new Set(e.keys()));this.handleTransition({queries:n.map(e=>{let t=this.optimisticQueryResults.rawQueryResult(e);return{token:e,modification:{kind:"Updated",result:t.result}}}),reflectedMutations:Array.from(e).map(([e,t])=>({requestId:e,result:t})),timestamp:this.remoteQuerySet.timestamp()})}handleTransition(e){for(let t of this._onTransitionFns.values())t(e)}addOnTransitionHandler(e){let t=this._transitionHandlerCounter++;return this._onTransitionFns.set(t,e),()=>this._onTransitionFns.delete(t)}getCurrentAuthClaims(){let e=this.state.getAuth(),t={};if(e&&"User"===e.tokenType){try{t=e?eQ(e.value):{}}catch{t={}}return{token:e.value,decoded:t}}}setAuth(e,t){this.authenticationManager.setConfig(e,t)}hasAuth(){return this.state.hasAuth()}setAdminAuth(e,t){let r=this.state.setAdminAuth(e,t);this.webSocketManager.sendMessage(r)}clearAuth(){let e=this.state.clearAuth();this.webSocketManager.sendMessage(e)}subscribe(e,t,r){let n=v(t),{modification:s,queryToken:i,unsubscribe:o}=this.state.subscribe(e,n,r?.journal,r?.componentPath);return null!==s&&this.webSocketManager.sendMessage(s),{queryToken:i,unsubscribe:()=>{let e=o();e&&this.webSocketManager.sendMessage(e)}}}localQueryResult(e,t){let r=ec(e,v(t));return this.optimisticQueryResults.queryResult(r)}localQueryResultByToken(e){return this.optimisticQueryResults.queryResult(e)}hasLocalQueryResultByToken(e){return this.optimisticQueryResults.hasQueryResult(e)}localQueryLogs(e,t){let r=ec(e,v(t));return this.optimisticQueryResults.queryLogs(r)}queryJournal(e,t){let r=ec(e,v(t));return this.state.queryJournal(r)}connectionState(){let e=this.webSocketManager.connectionState();return{hasInflightRequests:this.requestManager.hasInflightRequests(),isWebSocketConnected:e.isConnected,hasEverConnected:e.hasEverConnected,connectionCount:e.connectionCount,connectionRetries:e.connectionRetries,timeOfOldestInflightRequest:this.requestManager.timeOfOldestInflightRequest(),inflightMutations:this.requestManager.inflightMutations(),inflightActions:this.requestManager.inflightActions()}}subscribeToConnectionState(e){let t=this.nextConnectionStateSubscriberId++;return this.connectionStateSubscribers.set(t,e),()=>{this.connectionStateSubscribers.delete(t)}}async mutation(e,t,r){let n=await this.mutationInternal(e,t,r);if(!n.success){if(void 0!==n.errorData)throw ea(n,new X(eo("mutation",e,n)));throw Error(eo("mutation",e,n))}return n.value}async mutationInternal(e,t,r,n){let{mutationPromise:s}=this.enqueueMutation(e,t,r,n);return s}enqueueMutation(e,t,r,n){let s=v(t);this.tryReportLongDisconnect();let i=this.nextRequestId;if(this._nextRequestId++,void 0!==r){let e=r.optimisticUpdate;if(void 0!==e){let t=t=>{e(t,s)instanceof Promise&&this.logger.warn("Optimistic update handler returned a Promise. Optimistic updates should be synchronous.")},r=this.optimisticQueryResults.applyOptimisticUpdate(t,i).map(e=>{let t=this.localQueryResultByToken(e);return{token:e,modification:{kind:"Updated",result:void 0===t?void 0:{success:!0,value:t,logLines:[]}}}});this.handleTransition({queries:r,reflectedMutations:[],timestamp:this.remoteQuerySet.timestamp()})}}let o={type:"Mutation",requestId:i,udfPath:e,componentPath:n,args:[L(s)]},a=this.webSocketManager.sendMessage(o);return{requestId:i,mutationPromise:this.requestManager.request(o,a)}}async action(e,t){let r=await this.actionInternal(e,t);if(!r.success){if(void 0!==r.errorData)throw ea(r,new X(eo("action",e,r)));throw Error(eo("action",e,r))}return r.value}async actionInternal(e,t,r){let n=v(t),s=this.nextRequestId;this._nextRequestId++,this.tryReportLongDisconnect();let i={type:"Action",requestId:s,udfPath:e,componentPath:r,args:[L(n)]},o=this.webSocketManager.sendMessage(i);return this.requestManager.request(i,o)}async close(){return this.authenticationManager.stop(),this.webSocketManager.terminate()}get url(){return this.address}get nextRequestId(){return this._nextRequestId}get sessionId(){return this._sessionId}reportMarks(){if(this.debug){let e=function(e){if("undefined"==typeof performance||!performance.getEntriesByName)return[];let t=[];for(let r of eH){let n=performance.getEntriesByName(r).filter(e=>"mark"===e.entryType).filter(t=>t.detail.sessionId===e);t.push(...n)}return t.map(eW)}(this.sessionId);this.webSocketManager.sendMessage({type:"Event",eventType:"ClientConnect",event:e})}}tryReportLongDisconnect(){if(!this.debug)return;let e=this.connectionState().timeOfOldestInflightRequest;null===e||Date.now()-e.getTime()<=6e4||fetch(`${this.address}/api/debug_event`,{method:"POST",headers:{"Content-Type":"application/json","Convex-Client":`npm-${c}`},body:JSON.stringify({event:"LongWebsocketDisconnect"})}).then(e=>{e.ok||this.logger.warn("Analytics request failed with response:",e.body)}).catch(e=>{this.logger.warn("Analytics response failed with error:",e)})}}var eY=Object.defineProperty,eX=(e,t,r)=>((e,t,r)=>t in e?eY(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r)(e,"symbol"!=typeof t?t+"":t,r);class eZ{constructor(e,t){if(eX(this,"address"),eX(this,"auth"),eX(this,"adminAuth"),eX(this,"encodedTsPromise"),eX(this,"debug"),eX(this,"fetchOptions"),eX(this,"logger"),eX(this,"mutationQueue",[]),eX(this,"isProcessingQueue",!1),"boolean"==typeof t)throw Error("skipConvexDeploymentUrlCheck as the second argument is no longer supported. Please pass an options object, `{ skipConvexDeploymentUrlCheck: true }`.");!0!==(t??{}).skipConvexDeploymentUrlCheck&&b(e),this.logger=t?.logger===!1?new en({verbose:!1}):t?.logger!==!0&&t?.logger?t.logger:es({verbose:!1}),this.address=e,this.debug=!0,this.auth=void 0,this.adminAuth=void 0,t?.auth&&this.setAuth(t.auth)}backendUrl(){return`${this.address}/api`}get url(){return this.address}setAuth(e){this.clearAuth(),this.auth=e}setAdminAuth(e,t){if(this.clearAuth(),void 0!==t){let r=btoa(String.fromCodePoint(...new TextEncoder().encode(JSON.stringify(t))));this.adminAuth=`${e}:${r}`}else this.adminAuth=e}clearAuth(){this.auth=void 0,this.adminAuth=void 0}setDebug(e){this.debug=e}setFetchOptions(e){this.fetchOptions=e}async consistentQuery(e,...t){let r=v(t[0]),n=this.getTimestamp();return await this.queryInner(e,r,{timestampPromise:n})}async getTimestamp(){return this.encodedTsPromise?this.encodedTsPromise:this.encodedTsPromise=this.getTimestampInner()}async getTimestampInner(){let e=s||fetch,t={"Content-Type":"application/json","Convex-Client":`npm-${c}`},r=await e(`${this.address}/api/query_ts`,{...this.fetchOptions,method:"POST",headers:t});if(!r.ok)throw Error(await r.text());let{ts:n}=await r.json();return n}async query(e,...t){let r=v(t[0]);return await this.queryInner(e,r,{})}async queryInner(e,t,r){let n=ev(e),i=[L(t)],o={"Content-Type":"application/json","Convex-Client":`npm-${c}`};this.adminAuth?o.Authorization=`Convex ${this.adminAuth}`:this.auth&&(o.Authorization=`Bearer ${this.auth}`);let a=s||fetch,l=r.timestampPromise?await r.timestampPromise:void 0,u=JSON.stringify({path:n,format:"convex_encoded_json",args:i,...l?{ts:l}:{}}),d=l?`${this.address}/api/query_at_ts`:`${this.address}/api/query`,h=await a(d,{...this.fetchOptions,body:u,method:"POST",headers:o});if(!h.ok&&560!==h.status)throw Error(await h.text());let f=await h.json();if(this.debug)for(let e of f.logLines??[])ei(this.logger,"info","query",n,e);switch(f.status){case"success":return O(f.value);case"error":if(void 0!==f.errorData)throw e0(f.errorData,new X(f.errorMessage));throw Error(f.errorMessage);default:throw Error(`Invalid response: ${JSON.stringify(f)}`)}}async mutationInner(e,t){let r=ev(e),n=JSON.stringify({path:r,format:"convex_encoded_json",args:[L(t)]}),i={"Content-Type":"application/json","Convex-Client":`npm-${c}`};this.adminAuth?i.Authorization=`Convex ${this.adminAuth}`:this.auth&&(i.Authorization=`Bearer ${this.auth}`);let o=s||fetch,a=await o(`${this.address}/api/mutation`,{...this.fetchOptions,body:n,method:"POST",headers:i});if(!a.ok&&560!==a.status)throw Error(await a.text());let l=await a.json();if(this.debug)for(let e of l.logLines??[])ei(this.logger,"info","mutation",r,e);switch(l.status){case"success":return O(l.value);case"error":if(void 0!==l.errorData)throw e0(l.errorData,new X(l.errorMessage));throw Error(l.errorMessage);default:throw Error(`Invalid response: ${JSON.stringify(l)}`)}}async processMutationQueue(){if(!this.isProcessingQueue){for(this.isProcessingQueue=!0;this.mutationQueue.length>0;){let{mutation:e,args:t,resolve:r,reject:n}=this.mutationQueue.shift();try{let n=await this.mutationInner(e,t);r(n)}catch(e){n(e)}}this.isProcessingQueue=!1}}enqueueMutation(e,t){return new Promise((r,n)=>{this.mutationQueue.push({mutation:e,args:t,resolve:r,reject:n}),this.processMutationQueue()})}async mutation(e,...t){let[r,n]=t,s=v(r);return n?.skipQueue?await this.mutationInner(e,s):await this.enqueueMutation(e,s)}async action(e,...t){let r=v(t[0]),n=ev(e),i=JSON.stringify({path:n,format:"convex_encoded_json",args:[L(r)]}),o={"Content-Type":"application/json","Convex-Client":`npm-${c}`};this.adminAuth?o.Authorization=`Convex ${this.adminAuth}`:this.auth&&(o.Authorization=`Bearer ${this.auth}`);let a=s||fetch,l=await a(`${this.address}/api/action`,{...this.fetchOptions,body:i,method:"POST",headers:o});if(!l.ok&&560!==l.status)throw Error(await l.text());let u=await l.json();if(this.debug)for(let e of u.logLines??[])ei(this.logger,"info","action",n,e);switch(u.status){case"success":return O(u.value);case"error":if(void 0!==u.errorData)throw e0(u.errorData,new X(u.errorMessage));throw Error(u.errorMessage);default:throw Error(`Invalid response: ${JSON.stringify(u)}`)}}async function(e,t,...r){let n=v(r[0]),i="string"==typeof e?e:ev(e),o=JSON.stringify({componentPath:t,path:i,format:"convex_encoded_json",args:L(n)}),a={"Content-Type":"application/json","Convex-Client":`npm-${c}`};this.adminAuth?a.Authorization=`Convex ${this.adminAuth}`:this.auth&&(a.Authorization=`Bearer ${this.auth}`);let l=s||fetch,u=await l(`${this.address}/api/function`,{...this.fetchOptions,body:o,method:"POST",headers:a});if(!u.ok&&560!==u.status)throw Error(await u.text());let d=await u.json();if(this.debug)for(let e of d.logLines??[])ei(this.logger,"info","any",i,e);switch(d.status){case"success":return O(d.value);case"error":if(void 0!==d.errorData)throw e0(d.errorData,new X(d.errorMessage));throw Error(d.errorMessage);default:throw Error(`Invalid response: ${JSON.stringify(d)}`)}}}function e0(e,t){return t.data=O(e),t}var e1=r(14232),e2=Object.defineProperty,e4=(e,t,r)=>((e,t,r)=>t in e?e2(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r)(e,"symbol"!=typeof t?t+"":t,r);if(void 0===e1)throw Error("Required dependency 'react' not found");class e3{constructor(e,t){if(e4(this,"address"),e4(this,"cachedSync"),e4(this,"listeners"),e4(this,"options"),e4(this,"closed",!1),e4(this,"_logger"),e4(this,"adminAuth"),e4(this,"fakeUserIdentity"),void 0===e)throw Error("No address provided to ConvexReactClient.\nIf trying to deploy to production, make sure to follow all the instructions found at https://docs.convex.dev/production/hosting/\nIf running locally, make sure to run `convex dev` and ensure the .env.local file is populated.");if("string"!=typeof e)throw Error(`ConvexReactClient requires a URL like 'https://happy-otter-123.convex.cloud', received something of type ${typeof e} instead.`);if(!e.includes("://"))throw Error("Provided address was not an absolute URL.");this.address=e,this.listeners=new Map,this._logger=t?.logger===!1?new en({verbose:t?.verbose??!1}):t?.logger!==!0&&t?.logger?t.logger:es({verbose:t?.verbose??!1}),this.options={...t,logger:this._logger}}get url(){return this.address}get sync(){if(this.closed)throw Error("ConvexReactClient has already been closed.");return this.cachedSync||(this.cachedSync=new eJ(this.address,e=>this.transition(e),this.options),this.adminAuth&&this.cachedSync.setAdminAuth(this.adminAuth,this.fakeUserIdentity)),this.cachedSync}setAuth(e,t){if("string"==typeof e)throw Error("Passing a string to ConvexReactClient.setAuth is no longer supported, please upgrade to passing in an async function to handle reauthentication.");this.sync.setAuth(e,t??(()=>{}))}clearAuth(){this.sync.clearAuth()}setAdminAuth(e,t){if(this.adminAuth=e,this.fakeUserIdentity=t,this.closed)throw Error("ConvexReactClient has already been closed.");this.cachedSync&&this.sync.setAdminAuth(e,t)}watchQuery(e,...t){let[r,n]=t,s=ev(e);return{onUpdate:e=>{let{queryToken:t,unsubscribe:i}=this.sync.subscribe(s,r,n),o=this.listeners.get(t);return void 0!==o?o.add(e):this.listeners.set(t,new Set([e])),()=>{if(this.closed)return;let r=this.listeners.get(t);r.delete(e),0===r.size&&this.listeners.delete(t),i()}},localQueryResult:()=>{if(this.cachedSync)return this.cachedSync.localQueryResult(s,r)},localQueryLogs:()=>{if(this.cachedSync)return this.cachedSync.localQueryLogs(s,r)},journal:()=>{if(this.cachedSync)return this.cachedSync.queryJournal(s,r)}}}prewarmQuery(e){let t=e.extendSubscriptionFor??5e3;setTimeout(this.watchQuery(e.query,e.args||{}).onUpdate(()=>{}),t)}mutation(e,...t){let[r,n]=t,s=ev(e);return this.sync.mutation(s,r,n)}action(e,...t){let r=ev(e);return this.sync.action(r,...t)}query(e,...t){let r=this.watchQuery(e,...t),n=r.localQueryResult();return void 0!==n?Promise.resolve(n):new Promise((e,t)=>{let n=r.onUpdate(()=>{n();try{e(r.localQueryResult())}catch(e){t(e)}})})}connectionState(){return this.sync.connectionState()}subscribeToConnectionState(e){return this.sync.subscribeToConnectionState(e)}get logger(){return this._logger}async close(){if(this.closed=!0,this.listeners=new Map,this.cachedSync){let e=this.cachedSync;this.cachedSync=void 0,await e.close()}}transition(e){for(let t of e){let e=this.listeners.get(t);if(e)for(let t of e)t()}}}function e5(e,t){if("undefined"==typeof Convex||void 0===Convex.syscall)throw Error("The Convex database and auth objects are being used outside of a Convex backend. Did you mean to use `useQuery` or `useMutation` to call a Convex function?");return JSON.parse(Convex.syscall(e,JSON.stringify(t)))}async function e8(e,t){let r;if("undefined"==typeof Convex||void 0===Convex.asyncSyscall)throw Error("The Convex database and auth objects are being used outside of a Convex backend. Did you mean to use `useQuery` or `useMutation` to call a Convex function?");try{r=await Convex.asyncSyscall(e,JSON.stringify(t))}catch(e){if(void 0!==e.data){let t=new X(e.message);throw t.data=O(e.data),t}throw Error(e.message)}return JSON.parse(r)}e1.createContext(void 0),Symbol("includePageKeys"),Symbol("page"),(0,e1.createContext)(void 0);var e6=Object.defineProperty,e7=(e,t,r)=>((e,t,r)=>t in e?e6(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r)(e,"symbol"!=typeof t?t+"":t,r);class e9{constructor(){e7(this,"_isExpression"),e7(this,"_value")}}var te=Object.defineProperty;class tt extends e9{constructor(e){super(),((e,t,r)=>((e,t,r)=>t in e?te(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r)(e,"symbol"!=typeof t?t+"":t,r))(this,"inner"),this.inner=e}serialize(){return this.inner}}function tr(e){return e instanceof tt?e.serialize():{$literal:N(e)}}let tn={eq:(e,t)=>new tt({$eq:[tr(e),tr(t)]}),neq:(e,t)=>new tt({$neq:[tr(e),tr(t)]}),lt:(e,t)=>new tt({$lt:[tr(e),tr(t)]}),lte:(e,t)=>new tt({$lte:[tr(e),tr(t)]}),gt:(e,t)=>new tt({$gt:[tr(e),tr(t)]}),gte:(e,t)=>new tt({$gte:[tr(e),tr(t)]}),add:(e,t)=>new tt({$add:[tr(e),tr(t)]}),sub:(e,t)=>new tt({$sub:[tr(e),tr(t)]}),mul:(e,t)=>new tt({$mul:[tr(e),tr(t)]}),div:(e,t)=>new tt({$div:[tr(e),tr(t)]}),mod:(e,t)=>new tt({$mod:[tr(e),tr(t)]}),neg:e=>new tt({$neg:tr(e)}),and:(...e)=>new tt({$and:e.map(tr)}),or:(...e)=>new tt({$or:e.map(tr)}),not:e=>new tt({$not:tr(e)}),field:e=>new tt({$field:e})};function ts(e,t,r,n){if(void 0===e)throw TypeError(`Must provide arg ${t} \`${n}\` to \`${r}\``)}var ti=Object.defineProperty,to=(e,t,r)=>((e,t,r)=>t in e?ti(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r)(e,"symbol"!=typeof t?t+"":t,r);function ta(e){throw Error("consumed"===e?"This query is closed and can't emit any more values.":"This query has been chained with another operator and can't be reused.")}Symbol.asyncIterator;class tl{constructor(e){to(this,"state"),to(this,"tableNameForErrorMessages"),this.state={type:"preparing",query:e},"FullTableScan"===e.source.type?this.tableNameForErrorMessages=e.source.tableName:this.tableNameForErrorMessages=e.source.indexName.split(".")[0]}takeQuery(){if("preparing"!==this.state.type)throw Error("A query can only be chained once and can't be chained after iteration begins.");let e=this.state.query;return this.state={type:"closed"},e}startQuery(){if("executing"===this.state.type)throw Error("Iteration can only begin on a query once.");("closed"===this.state.type||"consumed"===this.state.type)&&ta(this.state.type);let{queryId:e}=e5("1.0/queryStream",{query:this.state.query,version:c});return this.state={type:"executing",queryId:e},e}closeQuery(){"executing"===this.state.type&&e5("1.0/queryCleanup",{queryId:this.state.queryId}),this.state={type:"consumed"}}order(e){ts(e,1,"order","order");let t=this.takeQuery();if("Search"===t.source.type)throw Error("Search queries must always be in relevance order. Can not set order manually.");if(null!==t.source.order)throw Error("Queries may only specify order at most once");return t.source.order=e,new tl(t)}filter(e){ts(e,1,"filter","predicate");let t=this.takeQuery();if(t.operators.length>=256)throw Error("Can't construct query with more than 256 operators");return t.operators.push({filter:tr(e(tn))}),new tl(t)}limit(e){ts(e,1,"limit","n");let t=this.takeQuery();return t.operators.push({limit:e}),new tl(t)}[Symbol.asyncIterator](){return this.startQuery(),this}async next(){("closed"===this.state.type||"consumed"===this.state.type)&&ta(this.state.type);let e="preparing"===this.state.type?this.startQuery():this.state.queryId,{value:t,done:r}=await e8("1.0/queryStreamNext",{queryId:e});return r&&this.closeQuery(),{value:O(t),done:r}}return(){return this.closeQuery(),Promise.resolve({done:!0,value:void 0})}async paginate(e){if(ts(e,1,"paginate","options"),"number"!=typeof e?.numItems||e.numItems<0)throw Error(`\`options.numItems\` must be a positive number. Received \`${e?.numItems}\`.`);let t=this.takeQuery(),r=e.numItems,n=e.cursor,s=e?.endCursor??null,i=e.maximumRowsRead??null,{page:o,isDone:a,continueCursor:l,splitCursor:u,pageStatus:d}=await e8("1.0/queryPage",{query:t,cursor:n,endCursor:s,pageSize:r,maximumRowsRead:i,maximumBytesRead:e.maximumBytesRead,version:c});return{page:o.map(e=>O(e)),isDone:a,continueCursor:l,splitCursor:u,pageStatus:d}}async collect(){let e=[];for await(let t of this)e.push(t);return e}async take(e){ts(e,1,"take","n");if(!Number.isInteger(e)||e<0)throw TypeError("Arg 1 `n` to `take` must be a non-negative integer");return this.limit(e).collect()}async first(){let e=await this.take(1);return 0===e.length?null:e[0]}async unique(){let e=await this.take(2);if(0===e.length)return null;if(2===e.length)throw Error(`unique() query returned more than one result from table ${this.tableNameForErrorMessages}:
 [${e[0]._id}, ${e[1]._id}, ...]`);return e[0]}}K.object({numItems:K.number(),cursor:K.union(K.string(),K.null()),endCursor:K.optional(K.union(K.string(),K.null())),id:K.optional(K.number()),maximumRowsRead:K.optional(K.number()),maximumBytesRead:K.optional(K.number())});var tc=Object.defineProperty,tu=(e,t,r)=>((e,t,r)=>t in e?tc(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r)(e,"symbol"!=typeof t?t+"":t,r);class td{constructor(e){tu(this,"indexes"),tu(this,"stagedDbIndexes"),tu(this,"searchIndexes"),tu(this,"stagedSearchIndexes"),tu(this,"vectorIndexes"),tu(this,"stagedVectorIndexes"),tu(this,"validator"),this.indexes=[],this.stagedDbIndexes=[],this.searchIndexes=[],this.stagedSearchIndexes=[],this.vectorIndexes=[],this.stagedVectorIndexes=[],this.validator=e}" indexes"(){return this.indexes}index(e,t){return Array.isArray(t)?this.indexes.push({indexDescriptor:e,fields:t}):t.staged?this.stagedDbIndexes.push({indexDescriptor:e,fields:t.fields}):this.indexes.push({indexDescriptor:e,fields:t.fields}),this}searchIndex(e,t){return t.staged?this.stagedSearchIndexes.push({indexDescriptor:e,searchField:t.searchField,filterFields:t.filterFields||[]}):this.searchIndexes.push({indexDescriptor:e,searchField:t.searchField,filterFields:t.filterFields||[]}),this}vectorIndex(e,t){return t.staged?this.stagedVectorIndexes.push({indexDescriptor:e,vectorField:t.vectorField,dimensions:t.dimensions,filterFields:t.filterFields||[]}):this.vectorIndexes.push({indexDescriptor:e,vectorField:t.vectorField,dimensions:t.dimensions,filterFields:t.filterFields||[]}),this}self(){return this}export(){let e=this.validator.json;if("object"!=typeof e)throw Error("Invalid validator: please make sure that the parameter of `defineTable` is valid (see https://docs.convex.dev/database/schemas)");return{indexes:this.indexes,stagedDbIndexes:this.stagedDbIndexes,searchIndexes:this.searchIndexes,stagedSearchIndexes:this.stagedSearchIndexes,vectorIndexes:this.vectorIndexes,stagedVectorIndexes:this.stagedVectorIndexes,documentType:e}}}function th(e){return new td(e.isConvexValidator?e:K.object(e))}class tf{constructor(e,t){tu(this,"tables"),tu(this,"strictTableNameTypes"),tu(this,"schemaValidation"),this.tables=e,this.schemaValidation=t?.schemaValidation===void 0||t.schemaValidation}export(){return JSON.stringify({tables:Object.entries(this.tables).map(([e,t])=>{let{indexes:r,stagedDbIndexes:n,searchIndexes:s,stagedSearchIndexes:i,vectorIndexes:o,stagedVectorIndexes:a,documentType:l}=t.export();return{tableName:e,indexes:r,stagedDbIndexes:n,searchIndexes:s,stagedSearchIndexes:i,vectorIndexes:o,stagedVectorIndexes:a,documentType:l}}),schemaValidation:this.schemaValidation})}}new tf({_scheduled_functions:th({name:K.string(),args:K.array(K.any()),scheduledTime:K.float64(),completedTime:K.optional(K.float64()),state:K.union(K.object({kind:K.literal("pending")}),K.object({kind:K.literal("inProgress")}),K.object({kind:K.literal("success")}),K.object({kind:K.literal("failed"),error:K.string()}),K.object({kind:K.literal("canceled")}))}),_storage:th({sha256:K.string(),size:K.float64(),contentType:K.optional(K.string())})},void 0);let tp="undefined"==typeof window;function tm(e){return e.length>=2&&["convexQuery","convexAction"].includes(e[0])&&"skip"===e[2]}function tg(e){return e.length>=2&&"convexQuery"===e[0]}class ty{convexClient;subscriptions;unsubscribe;serverHttpClient;_queryClient;ssrQueryMode;get queryClient(){if(!this._queryClient)throw Error("ConvexQueryClient not connected to TanStack QueryClient.");return this._queryClient}constructor(e,t={}){"string"==typeof e?this.convexClient=new e3(e,t):this.convexClient=e,t.dangerouslyUseInconsistentQueriesDuringSSR?this.ssrQueryMode="inconsistent":this.ssrQueryMode="consistent",this.subscriptions={},t.queryClient&&(this._queryClient=t.queryClient,this.unsubscribe=this.subscribeInner(t.queryClient.getQueryCache())),tp&&(this.serverHttpClient=new eZ(this.convexClient.url))}connect(e){if(this.unsubscribe)throw Error("already subscribed!");this._queryClient=e,this.unsubscribe=this.subscribeInner(e.getQueryCache())}onUpdate=()=>{a.jG.batch(()=>{for(let e of Object.keys(this.subscriptions))this.onUpdateQueryKeyHash(e)})};onUpdateQueryKeyHash(e){let t,r=this.subscriptions[e];if(!r)throw Error(`Internal ConvexQueryClient error: onUpdateQueryKeyHash called for ${e}`);let n=this.queryClient.getQueryCache().get(e);if(!n)return;let{queryKey:s,watch:i}=r;try{t={ok:!0,value:i.localQueryResult()}}catch(e){t={ok:!1,error:e}}if(t.ok){let e=t.value;this.queryClient.setQueryData(s,t=>{if(void 0!==t)return e})}else{let{error:e}=t;n?.setState({error:e,errorUpdateCount:n.state.errorUpdateCount+1,errorUpdatedAt:Date.now(),fetchFailureCount:n.state.fetchFailureCount+1,fetchFailureReason:e,fetchStatus:"idle",status:"error"},{meta:"set by ConvexQueryClient"})}}subscribeInner(e){return tp?()=>{}:e.subscribe(e=>{if(tg(e.query.queryKey)&&!tm(e.query.queryKey))switch(e.type){case"removed":this.subscriptions[e.query.queryHash].unsubscribe(),delete this.subscriptions[e.query.queryHash];break;case"added":{let[t,r,n,s]=e.query.queryKey,i=this.convexClient.watchQuery(r,n,{}),o=i.onUpdate(()=>{this.onUpdateQueryKeyHash(e.query.queryHash)});this.subscriptions[e.query.queryHash]={queryKey:e.query.queryKey,watch:i,unsubscribe:o};break}case"observerAdded":case"observerResultsUpdated":break;case"observerRemoved":e.query.getObserversCount();break;case"updated":"setState"===e.action.type&&e.action.setStateOptions?.meta}})}queryFn(e=tv){return async t=>{var r;if(tm(t.queryKey))throw Error("Skipped query should not actually be run, should { enabled: false }");if(tg(t.queryKey)){let[e,r,n]=t.queryKey;return tp?"consistent"===this.ssrQueryMode?await this.serverHttpClient.consistentQuery(r,n):await this.serverHttpClient.query(r,n):await this.convexClient.query(r,n)}if((r=t.queryKey).length>=2&&"convexAction"===r[0]){let[e,r,n]=t.queryKey;return tp?await this.serverHttpClient.action(r,n):await this.convexClient.action(r,n)}return e(t)}}hashFn(e=l.EN){return t=>{if(tg(t))return`convexQuery|${ev(t[1])}|${JSON.stringify(L(t[2]))}`;return e(t)}}queryOptions=(e,t)=>({queryKey:["convexQuery",ev(e),t],queryFn:this.queryFn(),staleTime:1/0})}function tv(e){throw Error("Query key is not for a Convex Query: "+e.queryKey)}var tb=r(58444),tw=r(90089),tx=class extends tw.Q{constructor(e={}){super(),this.config=e,this.#e=new Map}#e;build(e,t,r){let n=t.queryKey,s=t.queryHash??(0,l.F$)(n,t),i=this.get(s);return i||(i=new tb.X({client:e,queryKey:n,queryHash:s,options:e.defaultQueryOptions(t),state:r,defaultOptions:e.getQueryDefaults(n)}),this.add(i)),i}add(e){this.#e.has(e.queryHash)||(this.#e.set(e.queryHash,e),this.notify({type:"added",query:e}))}remove(e){let t=this.#e.get(e.queryHash);t&&(e.destroy(),t===e&&this.#e.delete(e.queryHash),this.notify({type:"removed",query:e}))}clear(){a.jG.batch(()=>{this.getAll().forEach(e=>{this.remove(e)})})}get(e){return this.#e.get(e)}getAll(){return[...this.#e.values()]}find(e){let t={exact:!0,...e};return this.getAll().find(e=>(0,l.MK)(t,e))}findAll(e={}){let t=this.getAll();return Object.keys(e).length>0?t.filter(t=>(0,l.MK)(e,t)):t}notify(e){a.jG.batch(()=>{this.listeners.forEach(t=>{t(e)})})}onFocus(){a.jG.batch(()=>{this.getAll().forEach(e=>{e.onFocus()})})}onOnline(){a.jG.batch(()=>{this.getAll().forEach(e=>{e.onOnline()})})}},tk=r(21407),tS=class extends tw.Q{constructor(e={}){super(),this.config=e,this.#t=new Set,this.#r=new Map,this.#n=0}#t;#r;#n;build(e,t,r){let n=new tk.s({client:e,mutationCache:this,mutationId:++this.#n,options:e.defaultMutationOptions(t),state:r});return this.add(n),n}add(e){this.#t.add(e);let t=tC(e);if("string"==typeof t){let r=this.#r.get(t);r?r.push(e):this.#r.set(t,[e])}this.notify({type:"added",mutation:e})}remove(e){if(this.#t.delete(e)){let t=tC(e);if("string"==typeof t){let r=this.#r.get(t);if(r)if(r.length>1){let t=r.indexOf(e);-1!==t&&r.splice(t,1)}else r[0]===e&&this.#r.delete(t)}}this.notify({type:"removed",mutation:e})}canRun(e){let t=tC(e);if("string"!=typeof t)return!0;{let r=this.#r.get(t),n=r?.find(e=>"pending"===e.state.status);return!n||n===e}}runNext(e){let t=tC(e);if("string"!=typeof t)return Promise.resolve();{let r=this.#r.get(t)?.find(t=>t!==e&&t.state.isPaused);return r?.continue()??Promise.resolve()}}clear(){a.jG.batch(()=>{this.#t.forEach(e=>{this.notify({type:"removed",mutation:e})}),this.#t.clear(),this.#r.clear()})}getAll(){return Array.from(this.#t)}find(e){let t={exact:!0,...e};return this.getAll().find(e=>(0,l.nJ)(t,e))}findAll(e={}){return this.getAll().filter(t=>(0,l.nJ)(e,t))}notify(e){a.jG.batch(()=>{this.listeners.forEach(t=>{t(e)})})}resumePausedMutations(){let e=this.getAll().filter(e=>e.state.isPaused);return a.jG.batch(()=>Promise.all(e.map(e=>e.continue().catch(l.lQ))))}};function tC(e){return e.options.scope?.id}var tA=r(98275),t_=r(18070),tE=r(61482),tT=class{#s;#i;#o;#a;#l;#c;#u;#d;constructor(e={}){this.#s=e.queryCache||new tx,this.#i=e.mutationCache||new tS,this.#o=e.defaultOptions||{},this.#a=new Map,this.#l=new Map,this.#c=0}mount(){this.#c++,1===this.#c&&(this.#u=tA.m.subscribe(async e=>{e&&(await this.resumePausedMutations(),this.#s.onFocus())}),this.#d=t_.t.subscribe(async e=>{e&&(await this.resumePausedMutations(),this.#s.onOnline())}))}unmount(){this.#c--,0===this.#c&&(this.#u?.(),this.#u=void 0,this.#d?.(),this.#d=void 0)}isFetching(e){return this.#s.findAll({...e,fetchStatus:"fetching"}).length}isMutating(e){return this.#i.findAll({...e,status:"pending"}).length}getQueryData(e){let t=this.defaultQueryOptions({queryKey:e});return this.#s.get(t.queryHash)?.state.data}ensureQueryData(e){let t=this.defaultQueryOptions(e),r=this.#s.build(this,t),n=r.state.data;return void 0===n?this.fetchQuery(e):(e.revalidateIfStale&&r.isStaleByTime((0,l.d2)(t.staleTime,r))&&this.prefetchQuery(t),Promise.resolve(n))}getQueriesData(e){return this.#s.findAll(e).map(({queryKey:e,state:t})=>[e,t.data])}setQueryData(e,t,r){let n=this.defaultQueryOptions({queryKey:e}),s=this.#s.get(n.queryHash),i=s?.state.data,o=(0,l.Zw)(t,i);if(void 0!==o)return this.#s.build(this,n).setData(o,{...r,manual:!0})}setQueriesData(e,t,r){return a.jG.batch(()=>this.#s.findAll(e).map(({queryKey:e})=>[e,this.setQueryData(e,t,r)]))}getQueryState(e){let t=this.defaultQueryOptions({queryKey:e});return this.#s.get(t.queryHash)?.state}removeQueries(e){let t=this.#s;a.jG.batch(()=>{t.findAll(e).forEach(e=>{t.remove(e)})})}resetQueries(e,t){let r=this.#s;return a.jG.batch(()=>(r.findAll(e).forEach(e=>{e.reset()}),this.refetchQueries({type:"active",...e},t)))}cancelQueries(e,t={}){let r={revert:!0,...t};return Promise.all(a.jG.batch(()=>this.#s.findAll(e).map(e=>e.cancel(r)))).then(l.lQ).catch(l.lQ)}invalidateQueries(e,t={}){return a.jG.batch(()=>(this.#s.findAll(e).forEach(e=>{e.invalidate()}),e?.refetchType==="none")?Promise.resolve():this.refetchQueries({...e,type:e?.refetchType??e?.type??"active"},t))}refetchQueries(e,t={}){let r={...t,cancelRefetch:t.cancelRefetch??!0};return Promise.all(a.jG.batch(()=>this.#s.findAll(e).filter(e=>!e.isDisabled()&&!e.isStatic()).map(e=>{let t=e.fetch(void 0,r);return r.throwOnError||(t=t.catch(l.lQ)),"paused"===e.state.fetchStatus?Promise.resolve():t}))).then(l.lQ)}fetchQuery(e){let t=this.defaultQueryOptions(e);void 0===t.retry&&(t.retry=!1);let r=this.#s.build(this,t);return r.isStaleByTime((0,l.d2)(t.staleTime,r))?r.fetch(t):Promise.resolve(r.state.data)}prefetchQuery(e){return this.fetchQuery(e).then(l.lQ).catch(l.lQ)}fetchInfiniteQuery(e){return e.behavior=(0,tE.PL)(e.pages),this.fetchQuery(e)}prefetchInfiniteQuery(e){return this.fetchInfiniteQuery(e).then(l.lQ).catch(l.lQ)}ensureInfiniteQueryData(e){return e.behavior=(0,tE.PL)(e.pages),this.ensureQueryData(e)}resumePausedMutations(){return t_.t.isOnline()?this.#i.resumePausedMutations():Promise.resolve()}getQueryCache(){return this.#s}getMutationCache(){return this.#i}getDefaultOptions(){return this.#o}setDefaultOptions(e){this.#o=e}setQueryDefaults(e,t){this.#a.set((0,l.EN)(e),{queryKey:e,defaultOptions:t})}getQueryDefaults(e){let t=[...this.#a.values()],r={};return t.forEach(t=>{(0,l.Cp)(e,t.queryKey)&&Object.assign(r,t.defaultOptions)}),r}setMutationDefaults(e,t){this.#l.set((0,l.EN)(e),{mutationKey:e,defaultOptions:t})}getMutationDefaults(e){let t=[...this.#l.values()],r={};return t.forEach(t=>{(0,l.Cp)(e,t.mutationKey)&&Object.assign(r,t.defaultOptions)}),r}defaultQueryOptions(e){if(e._defaulted)return e;let t={...this.#o.queries,...this.getQueryDefaults(e.queryKey),...e,_defaulted:!0};return t.queryHash||(t.queryHash=(0,l.F$)(t.queryKey,t)),void 0===t.refetchOnReconnect&&(t.refetchOnReconnect="always"!==t.networkMode),void 0===t.throwOnError&&(t.throwOnError=!!t.suspense),!t.networkMode&&t.persister&&(t.networkMode="offlineFirst"),t.queryFn===l.hT&&(t.enabled=!1),t}defaultMutationOptions(e){return e?._defaulted?e:{...this.#o.mutations,...e?.mutationKey&&this.getMutationDefaults(e.mutationKey),...e,_defaulted:!0}}clear(){this.#s.clear(),this.#i.clear()}},tR=r(45261);let tO=new e3("https://convex.link.me");tO.setAuth(()=>Promise.resolve(tR.A.getAccessToken()));let tI=new ty(tO),tP=new tT({defaultOptions:{queries:{refetchOnWindowFocus:!1,retry:1,queryKeyHashFn:tI.hashFn(),queryFn:tI.queryFn()}}});tI.connect(tP);let tj=tP},1897:(e,t,r)=>{"use strict";r.d(t,{m_:()=>W,ZI:()=>G,Bc:()=>H,k$:()=>K});var n=r(37876),s=r(14232),i=r(33716),o=r(10714),a=r(91844),l=r(41907),c=r(70294),u=r(55980),d=r(31893),h=r(96822),f=r(57797),p=Symbol("radix.slottable"),m=r(58162),g=Object.freeze({position:"absolute",border:0,width:1,height:1,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",wordWrap:"normal"}),y=s.forwardRef((e,t)=>(0,n.jsx)(f.sG.span,{...e,ref:t,style:{...g,...e.style}}));y.displayName="VisuallyHidden";var[v,b]=(0,a.A)("Tooltip",[u.Bk]),w=(0,u.Bk)(),x="TooltipProvider",k="tooltip.open",[S,C]=v(x),A=e=>{let{__scopeTooltip:t,delayDuration:r=700,skipDelayDuration:i=300,disableHoverableContent:o=!1,children:a}=e,l=s.useRef(!0),c=s.useRef(!1),u=s.useRef(0);return s.useEffect(()=>{let e=u.current;return()=>window.clearTimeout(e)},[]),(0,n.jsx)(S,{scope:t,isOpenDelayedRef:l,delayDuration:r,onOpen:s.useCallback(()=>{window.clearTimeout(u.current),l.current=!1},[]),onClose:s.useCallback(()=>{window.clearTimeout(u.current),u.current=window.setTimeout(()=>l.current=!0,i)},[i]),isPointerInTransitRef:c,onPointerInTransitChange:s.useCallback(e=>{c.current=e},[]),disableHoverableContent:o,children:a})};A.displayName=x;var _="Tooltip",[E,T]=v(_),R=e=>{let{__scopeTooltip:t,children:r,open:i,defaultOpen:o,onOpenChange:a,disableHoverableContent:l,delayDuration:d}=e,h=C(_,e.__scopeTooltip),f=w(t),[p,g]=s.useState(null),y=(0,c.B)(),v=s.useRef(0),b=l??h.disableHoverableContent,x=d??h.delayDuration,S=s.useRef(!1),[A,T]=(0,m.i)({prop:i,defaultProp:o??!1,onChange:e=>{e?(h.onOpen(),document.dispatchEvent(new CustomEvent(k))):h.onClose(),a?.(e)},caller:_}),R=s.useMemo(()=>A?S.current?"delayed-open":"instant-open":"closed",[A]),O=s.useCallback(()=>{window.clearTimeout(v.current),v.current=0,S.current=!1,T(!0)},[T]),I=s.useCallback(()=>{window.clearTimeout(v.current),v.current=0,T(!1)},[T]),P=s.useCallback(()=>{window.clearTimeout(v.current),v.current=window.setTimeout(()=>{S.current=!0,T(!0),v.current=0},x)},[x,T]);return s.useEffect(()=>()=>{v.current&&(window.clearTimeout(v.current),v.current=0)},[]),(0,n.jsx)(u.bL,{...f,children:(0,n.jsx)(E,{scope:t,contentId:y,open:A,stateAttribute:R,trigger:p,onTriggerChange:g,onTriggerEnter:s.useCallback(()=>{h.isOpenDelayedRef.current?P():O()},[h.isOpenDelayedRef,P,O]),onTriggerLeave:s.useCallback(()=>{b?I():(window.clearTimeout(v.current),v.current=0)},[I,b]),onOpen:O,onClose:I,disableHoverableContent:b,children:r})})};R.displayName=_;var O="TooltipTrigger",I=s.forwardRef((e,t)=>{let{__scopeTooltip:r,...a}=e,l=T(O,r),c=C(O,r),d=w(r),h=s.useRef(null),p=(0,o.s)(t,h,l.onTriggerChange),m=s.useRef(!1),g=s.useRef(!1),y=s.useCallback(()=>m.current=!1,[]);return s.useEffect(()=>()=>document.removeEventListener("pointerup",y),[y]),(0,n.jsx)(u.Mz,{asChild:!0,...d,children:(0,n.jsx)(f.sG.button,{"aria-describedby":l.open?l.contentId:void 0,"data-state":l.stateAttribute,...a,ref:p,onPointerMove:(0,i.mK)(e.onPointerMove,e=>{"touch"!==e.pointerType&&(g.current||c.isPointerInTransitRef.current||(l.onTriggerEnter(),g.current=!0))}),onPointerLeave:(0,i.mK)(e.onPointerLeave,()=>{l.onTriggerLeave(),g.current=!1}),onPointerDown:(0,i.mK)(e.onPointerDown,()=>{l.open&&l.onClose(),m.current=!0,document.addEventListener("pointerup",y,{once:!0})}),onFocus:(0,i.mK)(e.onFocus,()=>{m.current||l.onOpen()}),onBlur:(0,i.mK)(e.onBlur,l.onClose),onClick:(0,i.mK)(e.onClick,l.onClose)})})});I.displayName=O;var P="TooltipPortal",[j,q]=v(P,{forceMount:void 0}),L=e=>{let{__scopeTooltip:t,forceMount:r,children:s,container:i}=e,o=T(P,t);return(0,n.jsx)(j,{scope:t,forceMount:r,children:(0,n.jsx)(h.C,{present:r||o.open,children:(0,n.jsx)(d.Z,{asChild:!0,container:i,children:s})})})};L.displayName=P;var N="TooltipContent",M=s.forwardRef((e,t)=>{let r=q(N,e.__scopeTooltip),{forceMount:s=r.forceMount,side:i="top",...o}=e,a=T(N,e.__scopeTooltip);return(0,n.jsx)(h.C,{present:s||a.open,children:a.disableHoverableContent?(0,n.jsx)(Q,{side:i,...o,ref:t}):(0,n.jsx)(D,{side:i,...o,ref:t})})}),D=s.forwardRef((e,t)=>{let r=T(N,e.__scopeTooltip),i=C(N,e.__scopeTooltip),a=s.useRef(null),l=(0,o.s)(t,a),[c,u]=s.useState(null),{trigger:d,onClose:h}=r,f=a.current,{onPointerInTransitChange:p}=i,m=s.useCallback(()=>{u(null),p(!1)},[p]),g=s.useCallback((e,t)=>{let r=e.currentTarget,n={x:e.clientX,y:e.clientY},s=function(e,t){let r=Math.abs(t.top-e.y),n=Math.abs(t.bottom-e.y),s=Math.abs(t.right-e.x),i=Math.abs(t.left-e.x);switch(Math.min(r,n,s,i)){case i:return"left";case s:return"right";case r:return"top";case n:return"bottom";default:throw Error("unreachable")}}(n,r.getBoundingClientRect());u(function(e){let t=e.slice();return t.sort((e,t)=>e.x<t.x?-1:e.x>t.x?1:e.y<t.y?-1:1*!!(e.y>t.y)),function(e){if(e.length<=1)return e.slice();let t=[];for(let r=0;r<e.length;r++){let n=e[r];for(;t.length>=2;){let e=t[t.length-1],r=t[t.length-2];if((e.x-r.x)*(n.y-r.y)>=(e.y-r.y)*(n.x-r.x))t.pop();else break}t.push(n)}t.pop();let r=[];for(let t=e.length-1;t>=0;t--){let n=e[t];for(;r.length>=2;){let e=r[r.length-1],t=r[r.length-2];if((e.x-t.x)*(n.y-t.y)>=(e.y-t.y)*(n.x-t.x))r.pop();else break}r.push(n)}return(r.pop(),1===t.length&&1===r.length&&t[0].x===r[0].x&&t[0].y===r[0].y)?t:t.concat(r)}(t)}([...function(e,t,r=5){let n=[];switch(t){case"top":n.push({x:e.x-r,y:e.y+r},{x:e.x+r,y:e.y+r});break;case"bottom":n.push({x:e.x-r,y:e.y-r},{x:e.x+r,y:e.y-r});break;case"left":n.push({x:e.x+r,y:e.y-r},{x:e.x+r,y:e.y+r});break;case"right":n.push({x:e.x-r,y:e.y-r},{x:e.x-r,y:e.y+r})}return n}(n,s),...function(e){let{top:t,right:r,bottom:n,left:s}=e;return[{x:s,y:t},{x:r,y:t},{x:r,y:n},{x:s,y:n}]}(t.getBoundingClientRect())])),p(!0)},[p]);return s.useEffect(()=>()=>m(),[m]),s.useEffect(()=>{if(d&&f){let e=e=>g(e,f),t=e=>g(e,d);return d.addEventListener("pointerleave",e),f.addEventListener("pointerleave",t),()=>{d.removeEventListener("pointerleave",e),f.removeEventListener("pointerleave",t)}}},[d,f,g,m]),s.useEffect(()=>{if(c){let e=e=>{let t=e.target,r={x:e.clientX,y:e.clientY},n=d?.contains(t)||f?.contains(t),s=!function(e,t){let{x:r,y:n}=e,s=!1;for(let e=0,i=t.length-1;e<t.length;i=e++){let o=t[e],a=t[i],l=o.x,c=o.y,u=a.x,d=a.y;c>n!=d>n&&r<(u-l)*(n-c)/(d-c)+l&&(s=!s)}return s}(r,c);n?m():s&&(m(),h())};return document.addEventListener("pointermove",e),()=>document.removeEventListener("pointermove",e)}},[d,f,c,h,m]),(0,n.jsx)(Q,{...e,ref:l})}),[U,F]=v(_,{isInside:!1}),$=function(e){let t=({children:e})=>(0,n.jsx)(n.Fragment,{children:e});return t.displayName=`${e}.Slottable`,t.__radixId=p,t}("TooltipContent"),Q=s.forwardRef((e,t)=>{let{__scopeTooltip:r,children:i,"aria-label":o,onEscapeKeyDown:a,onPointerDownOutside:c,...d}=e,h=T(N,r),f=w(r),{onClose:p}=h;return s.useEffect(()=>(document.addEventListener(k,p),()=>document.removeEventListener(k,p)),[p]),s.useEffect(()=>{if(h.trigger){let e=e=>{let t=e.target;t?.contains(h.trigger)&&p()};return window.addEventListener("scroll",e,{capture:!0}),()=>window.removeEventListener("scroll",e,{capture:!0})}},[h.trigger,p]),(0,n.jsx)(l.qW,{asChild:!0,disableOutsidePointerEvents:!1,onEscapeKeyDown:a,onPointerDownOutside:c,onFocusOutside:e=>e.preventDefault(),onDismiss:p,children:(0,n.jsxs)(u.UC,{"data-state":h.stateAttribute,...f,...d,ref:t,style:{...d.style,"--radix-tooltip-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-tooltip-content-available-width":"var(--radix-popper-available-width)","--radix-tooltip-content-available-height":"var(--radix-popper-available-height)","--radix-tooltip-trigger-width":"var(--radix-popper-anchor-width)","--radix-tooltip-trigger-height":"var(--radix-popper-anchor-height)"},children:[(0,n.jsx)($,{children:i}),(0,n.jsx)(U,{scope:r,isInside:!0,children:(0,n.jsx)(y,{id:h.contentId,role:"tooltip",children:o||i})})]})})});M.displayName=N;var z="TooltipArrow",V=s.forwardRef((e,t)=>{let{__scopeTooltip:r,...s}=e,i=w(r);return F(z,r).isInside?null:(0,n.jsx)(u.i3,{...i,...s,ref:t})});V.displayName=z;var B=r(35061);let H=A,W=R,K=I,G=s.forwardRef((e,t)=>{let{children:r,className:s,avoidCollisions:i=!0,sideOffset:o=4,...a}=e;return(0,n.jsx)(L,{children:(0,n.jsxs)(M,{ref:t,sideOffset:o,className:(0,B.cn)("rounded-lg z-[100] bg-accent px-3 py-1.5 text-[12px] text-accent-foreground animate-in fade-in-0 zoom-in-95 data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=closed]:zoom-out-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 origin-[--radix-tooltip-content-transform-origin]",s),avoidCollisions:i,...a,children:[r,(0,n.jsx)(V,{className:"fill-accent"})]})})});G.displayName=M.displayName},3464:()=>{},6826:e=>{function t(e){return!!e.constructor&&"function"==typeof e.constructor.isBuffer&&e.constructor.isBuffer(e)}e.exports=function(e){var r;return null!=e&&(t(e)||"function"==typeof(r=e).readFloatLE&&"function"==typeof r.slice&&t(r.slice(0,0))||!!e._isBuffer)}},7e3:(e,t,r)=>{"use strict";r.d(t,{Ay:()=>p,HT:()=>f,O$:()=>h,Ri:()=>u});var n=r(37876),s=r(14232),i=r(78567),o=r(54040),a=r(23413);let l="linkme_cookie_consent",c=i.A.config.apiEndpoints.analytics,u=e=>{if("undefined"==typeof document)return null;let t=document.cookie.split("; ").find(t=>t.startsWith("".concat(e,"=")));return t?t.split("=")[1]:null},d=(0,s.createContext)({hasConsent:!1,updateConsent:()=>{}}),h=e=>{let{children:t}=e,[r,i]=(0,s.useState)(!1);(0,s.useEffect)(()=>{o()},[]);let o=()=>{try{let e=localStorage.getItem(l);if(e){let{accepted:t}=JSON.parse(e);i(!!t),(0,a.Lc)(!!t)}}catch(e){}};return(0,n.jsx)(d.Provider,{value:{hasConsent:r,updateConsent:e=>{try{let t={accepted:e,timestamp:Date.now()};localStorage.setItem(l,JSON.stringify(t)),i(e),(0,a.Lc)(e)}catch(e){}}},children:t})},f=()=>{try{let e=localStorage.getItem(l);if(!e)return!1;let{accepted:t}=JSON.parse(e);return!!t}catch(e){return!1}},p=()=>{let[e,t]=(0,s.useState)(!1),[r,i]=(0,s.useState)(!0),{updateConsent:a}=(0,s.useContext)(d);(0,s.useEffect)(()=>{u()},[]);let u=async()=>{if(localStorage.getItem(l))return void i(!1);try{var e;let r=await (0,o.HU)("".concat(c,"/analytics/api/v1/events/cookieConsent")),n=null==(e=null==r?void 0:r.cookieConsent)||e;t(n),i(!1),n||h(!0)}catch(e){t(!0),i(!1)}},h=e=>{let r={accepted:e,timestamp:Date.now()};localStorage.setItem(l,JSON.stringify(r)),a(e),t(!1),e||window.location.reload()};return r||!e?null:(0,n.jsx)("div",{className:"cookie-consent",children:(0,n.jsxs)("div",{className:"cookie-consent__container",children:[(0,n.jsxs)("div",{className:"cookie-consent__content",children:[(0,n.jsx)("h3",{children:"Enhance Your Experience"}),(0,n.jsx)("p",{children:'We use cookies to provide you with personalized content, faster loading times, and a seamless browsing experience. Click "Accept All" to enjoy all features & continue your journey with us.'})]}),(0,n.jsxs)("div",{className:"cookie-consent__actions",children:[(0,n.jsx)("button",{className:"btn btn-danger",onClick:()=>h(!1),type:"button",children:"Reject"}),(0,n.jsx)("button",{className:"btn btn-primary",onClick:()=>h(!0),type:"button",children:"Accept All & Continue"})]})]})})}},10714:(e,t,r)=>{"use strict";r.d(t,{s:()=>o,t:()=>i});var n=r(14232);function s(e,t){if("function"==typeof e)return e(t);null!=e&&(e.current=t)}function i(...e){return t=>{let r=!1,n=e.map(e=>{let n=s(e,t);return r||"function"!=typeof n||(r=!0),n});if(r)return()=>{for(let t=0;t<n.length;t++){let r=n[t];"function"==typeof r?r():s(e[t],null)}}}}function o(...e){return n.useCallback(i(...e),e)}},11281:(e,t,r)=>{"use strict";r.d(t,{b:()=>n});let n={ROOT:"/",AUTH:{LOGIN:"/login",SIGNUP:"/signup",FORGOT_PASSWORD:"/forgot-password",OATH:{ONBOARDING:"/oauth/onboarding",GOOGLE:"/oauth/google",LINK:"/oauth/link"}},CREATORS:{ROOT:"/creators",ONBOARDING:"/creators/onboarding",ONBOARDING_COMPLETE:"/creators/onboarding/complete",ONBOARDING_REFRESH:"/creators/onboarding/refresh"},USERNAME:{ROOT:e=>"/".concat(e),SHOP:e=>"/".concat(e,"/shop"),SHOP_PRODUCT:(e,t)=>"/".concat(e,"/shop/").concat(t),SHOP_HEADER:e=>"/".concat(e,"/shop/header")},PROFILE:{ROOT:"/profile",EDIT:"/profile/edit",INTERESTS:"/profile/interests"},DIGITAL_PRODUCTS:{ROOT:"/shop/digital-products",CREATE:"/shop/digital-products/create",PRODUCT:e=>"/shop/digital-products/".concat(e),EDIT:e=>"/shop/digital-products/".concat(e,"/edit")},PHYSICAL_PRODUCTS:{ROOT:"/shop/physical-products",CREATE:"/shop/physical-products/create",PRODUCT:e=>"/shop/physical-products/".concat(e)},AGENCY:{ROOT:"/agency",CREATE:"/agency/create",AGENCY:e=>"/agency/".concat(e),AGENCY_ANALYTICS:e=>"/agency/".concat(e,"/analytics")},SEARCH:"/search",ANALYTICS:"/analytics",MONETIZE:"/monetize",TIPS:"/tips",SALES:"/sales",PAYMENTS:"/payments",EMAIL_LIST:"/email-list",MESSAGES:"/messages",NOTIFICATIONS:"/notifications",SETTINGS:"/settings",TERMS:"/terms",PRIVACY:"/privacy"}},13167:(e,t,r)=>{"use strict";r.d(t,{_A:()=>c,B9:()=>u,I0:()=>l});var n=r(24609);let s=new Set(["none","shine","jello","bounce","pulse","wiggle"]),i=e=>"object"==typeof e&&null!==e&&!Array.isArray(e),o=e=>{if("number"==typeof e&&!Number.isNaN(e))return e;if("string"==typeof e&&e.trim().length>0){let t=Number(e);if(!Number.isNaN(t))return t}},a=e=>{if("string"==typeof e)return e},l=e=>{if(!e)return{preset:null,params:null};let{preset:t,params:r}=e;if(!t||"none"===t)return{preset:null,params:null};let s=(0,n.MJ)(t,null!=r?r:void 0);return{preset:t,params:Object.keys(s).length>0?JSON.stringify(s):null}},c=e=>{var t,r,l,c,u,d,h;if(!e)return e;let{animation:f,animationPreset:p,animationParams:m}=((e,t)=>{let r=(e=>{if("string"!=typeof e)return null;let t=e.trim().toLowerCase();return t&&"null"!==t&&"undefined"!==t&&s.has(t)?t:null})(e);if(!r||"none"===r)return{animation:null,animationPreset:"none",animationParams:null};let l=(e=>{let t;if(!e)return null;let r=null;if("string"==typeof e)try{let t=JSON.parse(e);i(t)&&(r=t)}catch(e){return null}else i(e)&&(r=e);if(!r)return null;let s=o(r.intensity),l=o(r.delay),c=o(r.speed),u=a(r.trigger)||void 0,d=r.repeat;"number"==typeof d?t=d:"string"==typeof d&&("loop"===d||"mirror"===d)&&(t=d);let h=a(r.direction),f="x"===h||"y"===h?h:void 0,p=a(r.target),m="card"===p||"image"===p||"icon"===p||"title"===p?p:void 0,g=a(r.color);return{...g?{color:g}:{},...f?{direction:f}:{},..."number"==typeof s?{intensity:(0,n.qE)(s,0,1)}:{},..."number"==typeof c?{speed:(0,n.qE)(c,.2,8)}:{},..."number"==typeof l?{delay:Math.max(0,l)}:{},...void 0!==t?{repeat:t}:{},...u?{trigger:u}:{},...m?{target:m}:{}}})(t);if(null===l)return{animation:null,animationPreset:"none",animationParams:null};let c=(0,n.MJ)(r,l),u={preset:r},d=Object.keys(c).length>0;return d&&(u.params=c),{animation:u,animationPreset:r,animationParams:d?c:null}})(null!=(c=null!=(l=null==(t=e.animation)?void 0:t.preset)?l:e.animationPreset)?c:null==e?void 0:e.preset,null!=(h=null!=(d=null!=(u=null==(r=e.animation)?void 0:r.params)?u:e.animationParams)?d:null==e?void 0:e.params)?h:null==e?void 0:e.animation_parameters);return{...e,animation:f,animationPreset:p,animationParams:m}},u=e=>Array.isArray(e)?e.map(e=>c(e)):[]},13478:(e,t,r)=>{"use strict";r.d(t,{$:()=>u});var n=r(98275),s=r(60388),i=r(58444),o=r(90089),a=r(81883),l=r(37149),c=r(48306),u=class extends o.Q{constructor(e,t){super(),this.options=t,this.#h=e,this.#f=null,this.#p=(0,a.T)(),this.bindMethods(),this.setOptions(t)}#h;#m=void 0;#g=void 0;#y=void 0;#v;#b;#p;#f;#w;#x;#k;#S;#C;#A;#_=new Set;bindMethods(){this.refetch=this.refetch.bind(this)}onSubscribe(){1===this.listeners.size&&(this.#m.addObserver(this),d(this.#m,this.options)?this.#E():this.updateResult(),this.#T())}onUnsubscribe(){this.hasListeners()||this.destroy()}shouldFetchOnReconnect(){return h(this.#m,this.options,this.options.refetchOnReconnect)}shouldFetchOnWindowFocus(){return h(this.#m,this.options,this.options.refetchOnWindowFocus)}destroy(){this.listeners=new Set,this.#R(),this.#O(),this.#m.removeObserver(this)}setOptions(e){let t=this.options,r=this.#m;if(this.options=this.#h.defaultQueryOptions(e),void 0!==this.options.enabled&&"boolean"!=typeof this.options.enabled&&"function"!=typeof this.options.enabled&&"boolean"!=typeof(0,l.Eh)(this.options.enabled,this.#m))throw Error("Expected enabled to be a boolean or a callback that returns a boolean");this.#I(),this.#m.setOptions(this.options),t._defaulted&&!(0,l.f8)(this.options,t)&&this.#h.getQueryCache().notify({type:"observerOptionsUpdated",query:this.#m,observer:this});let n=this.hasListeners();n&&f(this.#m,r,this.options,t)&&this.#E(),this.updateResult(),n&&(this.#m!==r||(0,l.Eh)(this.options.enabled,this.#m)!==(0,l.Eh)(t.enabled,this.#m)||(0,l.d2)(this.options.staleTime,this.#m)!==(0,l.d2)(t.staleTime,this.#m))&&this.#P();let s=this.#j();n&&(this.#m!==r||(0,l.Eh)(this.options.enabled,this.#m)!==(0,l.Eh)(t.enabled,this.#m)||s!==this.#A)&&this.#q(s)}getOptimisticResult(e){var t,r;let n=this.#h.getQueryCache().build(this.#h,e),s=this.createResult(n,e);return t=this,r=s,(0,l.f8)(t.getCurrentResult(),r)||(this.#y=s,this.#b=this.options,this.#v=this.#m.state),s}getCurrentResult(){return this.#y}trackResult(e,t){return new Proxy(e,{get:(e,r)=>(this.trackProp(r),t?.(r),"promise"===r&&(this.trackProp("data"),this.options.experimental_prefetchInRender||"pending"!==this.#p.status||this.#p.reject(Error("experimental_prefetchInRender feature flag is not enabled"))),Reflect.get(e,r))})}trackProp(e){this.#_.add(e)}getCurrentQuery(){return this.#m}refetch({...e}={}){return this.fetch({...e})}fetchOptimistic(e){let t=this.#h.defaultQueryOptions(e),r=this.#h.getQueryCache().build(this.#h,t);return r.fetch().then(()=>this.createResult(r,t))}fetch(e){return this.#E({...e,cancelRefetch:e.cancelRefetch??!0}).then(()=>(this.updateResult(),this.#y))}#E(e){this.#I();let t=this.#m.fetch(this.options,e);return e?.throwOnError||(t=t.catch(l.lQ)),t}#P(){this.#R();let e=(0,l.d2)(this.options.staleTime,this.#m);if(l.S$||this.#y.isStale||!(0,l.gn)(e))return;let t=(0,l.j3)(this.#y.dataUpdatedAt,e);this.#S=c.zs.setTimeout(()=>{this.#y.isStale||this.updateResult()},t+1)}#j(){return("function"==typeof this.options.refetchInterval?this.options.refetchInterval(this.#m):this.options.refetchInterval)??!1}#q(e){this.#O(),this.#A=e,!l.S$&&!1!==(0,l.Eh)(this.options.enabled,this.#m)&&(0,l.gn)(this.#A)&&0!==this.#A&&(this.#C=c.zs.setInterval(()=>{(this.options.refetchIntervalInBackground||n.m.isFocused())&&this.#E()},this.#A))}#T(){this.#P(),this.#q(this.#j())}#R(){this.#S&&(c.zs.clearTimeout(this.#S),this.#S=void 0)}#O(){this.#C&&(c.zs.clearInterval(this.#C),this.#C=void 0)}createResult(e,t){let r,n=this.#m,s=this.options,o=this.#y,c=this.#v,u=this.#b,h=e!==n?e.state:this.#g,{state:m}=e,g={...m},y=!1;if(t._optimisticResults){let r=this.hasListeners(),o=!r&&d(e,t),a=r&&f(e,n,t,s);(o||a)&&(g={...g,...(0,i.k)(m.data,e.options)}),"isRestoring"===t._optimisticResults&&(g.fetchStatus="idle")}let{error:v,errorUpdatedAt:b,status:w}=g;r=g.data;let x=!1;if(void 0!==t.placeholderData&&void 0===r&&"pending"===w){let e;o?.isPlaceholderData&&t.placeholderData===u?.placeholderData?(e=o.data,x=!0):e="function"==typeof t.placeholderData?t.placeholderData(this.#k?.state.data,this.#k):t.placeholderData,void 0!==e&&(w="success",r=(0,l.pl)(o?.data,e,t),y=!0)}if(t.select&&void 0!==r&&!x)if(o&&r===c?.data&&t.select===this.#w)r=this.#x;else try{this.#w=t.select,r=t.select(r),r=(0,l.pl)(o?.data,r,t),this.#x=r,this.#f=null}catch(e){this.#f=e}this.#f&&(v=this.#f,r=this.#x,b=Date.now(),w="error");let k="fetching"===g.fetchStatus,S="pending"===w,C="error"===w,A=S&&k,_=void 0!==r,E={status:w,fetchStatus:g.fetchStatus,isPending:S,isSuccess:"success"===w,isError:C,isInitialLoading:A,isLoading:A,data:r,dataUpdatedAt:g.dataUpdatedAt,error:v,errorUpdatedAt:b,failureCount:g.fetchFailureCount,failureReason:g.fetchFailureReason,errorUpdateCount:g.errorUpdateCount,isFetched:g.dataUpdateCount>0||g.errorUpdateCount>0,isFetchedAfterMount:g.dataUpdateCount>h.dataUpdateCount||g.errorUpdateCount>h.errorUpdateCount,isFetching:k,isRefetching:k&&!S,isLoadingError:C&&!_,isPaused:"paused"===g.fetchStatus,isPlaceholderData:y,isRefetchError:C&&_,isStale:p(e,t),refetch:this.refetch,promise:this.#p,isEnabled:!1!==(0,l.Eh)(t.enabled,e)};if(this.options.experimental_prefetchInRender){let t=e=>{"error"===E.status?e.reject(E.error):void 0!==E.data&&e.resolve(E.data)},r=()=>{t(this.#p=E.promise=(0,a.T)())},s=this.#p;switch(s.status){case"pending":e.queryHash===n.queryHash&&t(s);break;case"fulfilled":("error"===E.status||E.data!==s.value)&&r();break;case"rejected":("error"!==E.status||E.error!==s.reason)&&r()}}return E}updateResult(){let e=this.#y,t=this.createResult(this.#m,this.options);if(this.#v=this.#m.state,this.#b=this.options,void 0!==this.#v.data&&(this.#k=this.#m),(0,l.f8)(t,e))return;this.#y=t;let r=()=>{if(!e)return!0;let{notifyOnChangeProps:t}=this.options,r="function"==typeof t?t():t;if("all"===r||!r&&!this.#_.size)return!0;let n=new Set(r??this.#_);return this.options.throwOnError&&n.add("error"),Object.keys(this.#y).some(t=>this.#y[t]!==e[t]&&n.has(t))};this.#L({listeners:r()})}#I(){let e=this.#h.getQueryCache().build(this.#h,this.options);if(e===this.#m)return;let t=this.#m;this.#m=e,this.#g=e.state,this.hasListeners()&&(t?.removeObserver(this),e.addObserver(this))}onQueryUpdate(){this.updateResult(),this.hasListeners()&&this.#T()}#L(e){s.jG.batch(()=>{e.listeners&&this.listeners.forEach(e=>{e(this.#y)}),this.#h.getQueryCache().notify({query:this.#m,type:"observerResultsUpdated"})})}};function d(e,t){return!1!==(0,l.Eh)(t.enabled,e)&&void 0===e.state.data&&("error"!==e.state.status||!1!==t.retryOnMount)||void 0!==e.state.data&&h(e,t,t.refetchOnMount)}function h(e,t,r){if(!1!==(0,l.Eh)(t.enabled,e)&&"static"!==(0,l.d2)(t.staleTime,e)){let n="function"==typeof r?r(e):r;return"always"===n||!1!==n&&p(e,t)}return!1}function f(e,t,r,n){return(e!==t||!1===(0,l.Eh)(n.enabled,e))&&(!r.suspense||"error"!==e.state.status)&&p(e,r)}function p(e,t){return!1!==(0,l.Eh)(t.enabled,e)&&e.isStaleByTime((0,l.d2)(t.staleTime,e))}},14e3:(e,t,r)=>{e.exports=r(95092)},14159:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),!function(e,t){for(var r in t)Object.defineProperty(e,r,{enumerable:!0,get:t[r]})}(t,{ServerInsertedHTMLContext:function(){return s},useServerInsertedHTML:function(){return i}});let n=r(88365)._(r(14232)),s=n.default.createContext(null);function i(e){let t=(0,n.useContext)(s);t&&t(e)}},16632:(e,t,r)=>{"use strict";r.d(t,{Ay:()=>d,J9:()=>a,OO:()=>c,Pl:()=>s,S1:()=>l,b3:()=>i,jw:()=>n,qO:()=>u,wP:()=>o});let n=["theme-color","apple-mobile-web-app-status-bar-style","msapplication-navbutton-color"],s=!0,i=["fansly.com","fans.ly","onlyfans.com","loyalfans.com","fanvue.com","justfor.fans","mym.fans","fancentro.com","subs.com","chaturbate.com","livejasmin.com","bongacams.com","myfreecams.com","cam4.com","stripchat.com","camsoda.com","jerkmate.com","manyvids.com","clips4sale.com","modelhub.com","xvideos.red","lustcinema.com","crashpadseries.com","pinklabel.tv","pornhub.com","xvideos.com","xhamster.com","redtube.com","youporn.com","xnxx.com","spankbang.com","spankwire.com","porntube.com","tube8.com","eporner.com","porn.com","sex.com","adultfriendfinder.com","fanbase.com","fanbase.app"],o={light:"light",dark:"purple",black:"dark"},a={USD:"$",GBP:"\xa3",CAD:"CA$",EUR:"",AED:"AED",AFN:"Af"},l=[{label:"$ - USD - USD Dollar",value:"USD"},{label:"\xa3 - GBP - British Pound",value:"GBP"},{label:"CA$ - CAD - Canadian Dollar",value:"CAD"},{label:" - EUR - Euro",value:"EUR"},{label:"AED - AED - United Arab Emirates Dirham",value:"AED"},{label:"Af - AFN - Afghan Afghani",value:"AFN"}],c=[{question:"What is Linkme?",answer:"Linkme is an all-in-one link-in-bio platform designed to help you turn followers into customers. It lets you grow your audience, track performance, and monetize your content across all platforms  all from a single link."},{question:"Who can use Linkme?",answer:"Anyone  from influencers and creators to businesses, athletes, and casual users."},{question:"Is Linkme free to use?",answer:"Yes, Linkme offers a free plan with powerful core features."},{question:"What can I link on my profile?",answer:"You can add social media accounts, websites, stores, payment links, event pages, videos, and more."},{question:"How do I create a Linkme profile?",answer:"Sign up, log in, and start building your profile by adding links and customizing your layout."},{question:"Can I customize my profile?",answer:"Yes! Change your colors, layout, fonts, and themes to match your brand or personality."},{question:"Is there a Linkme mobile app?",answer:"Yes, Linkme is available on iOS and Android."},{question:"Can I track link clicks?",answer:"Yes, Linkme offers built-in analytics to track clicks, views, and traffic sources."},{question:"How do I share my Linkme page?",answer:"Simply copy and paste your unique Linkme URL into your bio, social media, or anywhere online."},{question:"Does Linkme support QR codes?",answer:"Yes, you can generate a scannable QR code that links directly to your profile  great for business cards, events, and in-person networking."},{question:"Is my data safe with Linkme?",answer:"Yes, Linkme uses encryption, secure login, and industry-standard privacy practices."},{question:"Can I use Linkme for business?",answer:"Absolutely  it's ideal for showcasing services, products, teams, and capturing leads."},{question:"Does Linkme have a premium plan?",answer:"Yes, premium plans unlock advanced analytics, deep customization, and exclusive features."},{question:"Can I connect multiple accounts?",answer:"Yes, you can manage multiple profiles and links from a single dashboard."},{question:"Can I make money with Linkme?",answer:"Yes. Linkme helps you monetize your audience through paid content, product sales, email capture, and affiliate or sponsor links  all from your profile."},{question:"How does monetization work on Linkme?",answer:"With Linkme, you can turn followers into customers by adding pay-to-view content, selling products with our AI merch builder, and collecting email leads for future campaigns. Were also launching a creator ad network to help you earn from traffic."},{question:"How do I reset my password?",answer:"Click Forgot Password? on the login screen and follow the instructions."},{question:"Does Linkme work with Instagram and TikTok?",answer:"Yes, Linkme is fully approved and optimized for all major social platforms, including Instagram, TikTok, X, YouTube, and more."},{question:"Will using Linkme affect my Instagram or TikTok visibility?",answer:"No  Linkme is safe and approved. Many alternative platforms can trigger shadowbans, but Linkme is fully compliant and trusted by major creators and brands."},{question:"How do I delete my Linkme account?",answer:"You can delete your account via Settings > Account > Delete, or reach out to our support team for assistance."},{question:"Can I switch between profiles / manage my teams accounts?",answer:"Yes, our Agency Dashboard lets you create and manage multiple profiles in one place  perfect for teams, managers, or businesses."},{question:"Is Linkme better than Linktree or other link-in-bio tools?",answer:"Linkme offers a fully customizable profile, built-in analytics, advanced monetization tools, and a native social network  giving creators and businesses more ways to grow and earn."}],u={youtube:"Youtube"},d={TOKEN:"token",ACCESS_TOKEN:"access_token",REFRESH_TOKEN:"refresh_token",USER_INFO:"userInfo",USER_ID:"userId",USER_PAGE_UUID:"userPageUUID",ANALYTICS_TIMEFRAME_START_DATE:"ANALYTICS_TIMEFRAME_START_DATE",ANALYTICS_TIMEFRAME_END_DATE:"ANALYTICS_TIMEFRAME_END_DATE",ANALYTICS_TIMEFRAME:"ANALYTICS_TIMEFRAME",CLIENT_IP:"CLIENT_IP",THEME:"theme",DATE_DOUBLE_CLICK_COUNT:"DATE_DOUBLE_CLICK_COUNT",CONTACT_LINK_CTA_VISIBLE:"CONTACT_LINK_CTA_VISIBLE",INVEST_POPUP_VARIANT_SHOWN:"INVEST_POPUP_VARIANT_SHOWN",SHARE_INFO_POPUP:"SHARE_INFO_POPUP"}},17963:(e,t,r)=>{"use strict";r.d(t,{A:()=>l});var n=r(14232);let s=e=>{let t=e.replace(/^([A-Z])|[\s-_]+(\w)/g,(e,t,r)=>r?r.toUpperCase():t.toLowerCase());return t.charAt(0).toUpperCase()+t.slice(1)},i=function(){for(var e=arguments.length,t=Array(e),r=0;r<e;r++)t[r]=arguments[r];return t.filter((e,t,r)=>!!e&&""!==e.trim()&&r.indexOf(e)===t).join(" ").trim()};var o={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};let a=(0,n.forwardRef)((e,t)=>{let{color:r="currentColor",size:s=24,strokeWidth:a=2,absoluteStrokeWidth:l,className:c="",children:u,iconNode:d,...h}=e;return(0,n.createElement)("svg",{ref:t,...o,width:s,height:s,stroke:r,strokeWidth:l?24*Number(a)/Number(s):a,className:i("lucide",c),...!u&&!(e=>{for(let t in e)if(t.startsWith("aria-")||"role"===t||"title"===t)return!0})(h)&&{"aria-hidden":"true"},...h},[...d.map(e=>{let[t,r]=e;return(0,n.createElement)(t,r)}),...Array.isArray(u)?u:[u]])}),l=(e,t)=>{let r=(0,n.forwardRef)((r,o)=>{let{className:l,...c}=r;return(0,n.createElement)(a,{ref:o,iconNode:t,className:i("lucide-".concat(s(e).replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase()),"lucide-".concat(e),l),...c})});return r.displayName=s(e),r}},18070:(e,t,r)=>{"use strict";r.d(t,{t:()=>i});var n=r(90089),s=r(37149),i=new class extends n.Q{#N=!0;#M;#D;constructor(){super(),this.#D=e=>{if(!s.S$&&window.addEventListener){let t=()=>e(!0),r=()=>e(!1);return window.addEventListener("online",t,!1),window.addEventListener("offline",r,!1),()=>{window.removeEventListener("online",t),window.removeEventListener("offline",r)}}}}onSubscribe(){this.#M||this.setEventListener(this.#D)}onUnsubscribe(){this.hasListeners()||(this.#M?.(),this.#M=void 0)}setEventListener(e){this.#D=e,this.#M?.(),this.#M=e(this.setOnline.bind(this))}setOnline(e){this.#N!==e&&(this.#N=e,this.listeners.forEach(t=>{t(e)}))}isOnline(){return this.#N}}},18444:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"unstable_rethrow",{enumerable:!0,get:function(){return n}});let n=r(34318).unstable_rethrow;("function"==typeof t.default||"object"==typeof t.default&&null!==t.default)&&void 0===t.default.__esModule&&(Object.defineProperty(t.default,"__esModule",{value:!0}),Object.assign(t.default,t),e.exports=t.default)},20300:(e,t,r)=>{"use strict";r.d(t,{$5:()=>p,A3:()=>v,AG:()=>T,Ag:()=>C,Dv:()=>c,EA:()=>E,EB:()=>y,J$:()=>_,Lz:()=>f,Mj:()=>O,Ow:()=>d,Pi:()=>b,QR:()=>m,TT:()=>A,V6:()=>w,ZL:()=>u,a:()=>x,iB:()=>k,iD:()=>l,jz:()=>g,pn:()=>R,qo:()=>S,ri:()=>h});var n=r(78567),s=r(27972),i=r(54040);let o=e=>({Authorization:"Bearer ".concat(e)}),a=()=>{let e=n.A.config.apiEndpoints.authV4;return"".concat(e,"/v4")};async function l(e,t,r){let n={login:e,password:t};r&&(n.turnstile_token=r);let s=await (0,i.rU)("".concat(a(),"/login"),n,{},!1);if(s&&"object"==typeof s&&"token"in s&&!("mfa"in s)){if(s&&"object"==typeof s){if("access_token"in s&&"refresh_token"in s)return s;if("token"in s)return{access_token:s.token,refresh_token:s.token}}throw Error("Invalid token shape from server")}return s}async function c(e){return(0,i.rU)("".concat(a(),"/register/challenge"),e,{},!1)}async function u(e){return(0,i.rU)("".concat(a(),"/register/complete"),e,{},!1)}async function d(e){return(0,i.rU)("".concat(a(),"/sessions/refresh"),{token:e},{},!1)}async function h(e){return(0,i.rU)("".concat(a(),"/logout"),{},o(e),!1)}async function f(e,t){return(0,i.rU)("".concat(a(),"/oauth/initiate"),{provider:e,return_url:t},{},!1)}async function p(e){return(0,i.rU)("".concat(a(),"/oauth/login"),e,{},!1)}async function m(e){let t=await (0,i.rU)("".concat(a(),"/oauth/onboarding/complete"),e,{},!1);return t&&"object"==typeof t&&"token"in t&&!("access_token"in t),t}async function g(e){return(0,i.rU)("".concat(a(),"/mfa/email/send"),{token:e},{},!1)}async function y(e,t){return(0,i.rU)("".concat(a(),"/mfa/email/login"),{token:e,code:t},{},!1)}async function v(e){return(0,i.rU)("".concat(a(),"/mfa/sms/send"),{token:e},{},!1)}async function b(e,t){return(0,i.rU)("".concat(a(),"/mfa/sms/login"),{token:e,code:t},{},!1)}async function w(e,t){return(0,i.rU)("".concat(a(),"/mfa/totp/login"),{token:e,code:t},{},!1)}async function x(e,t){return(0,i.rU)("".concat(a(),"/mfa/backup/login"),{token:e,code:t},{},!1)}async function k(e){return(0,i.HU)("".concat(a(),"/oauth/integrations"),o(e),!1)}async function S(e,t){return(0,i.uz)("".concat(a(),"/oauth/integrations/").concat(t),{},o(e))}async function C(e){return(0,i.rU)("".concat(a(),"/oauth/link/send"),{token:e},{},!1)}async function A(e,t){return(0,i.rU)("".concat(a(),"/oauth/link/login"),{token:e,code:t},{},!1)}async function _(e){return(0,i.rU)("".concat(a(),"/usernames/check"),e,{},!1)}async function E(e){return(0,i.rU)("".concat(a(),"/sessions/migrate"),{},{"x-linkme-api-sso-token-v2":e,"x-linkme-sso-token":e},!1)}function T(e){var t;let{first_name:r,last_name:n}=function(e,t){let r=(t||"").trim();if(2===e)return{first_name:r||"",last_name:null};if(!r)return{first_name:"",last_name:null};let[n,...s]=r.split(/\s+/);return{first_name:n||"",last_name:s.join(" ").trim()||null}}(e.uiAccountType,e.fullName);return{login:e.login,password:"",username:e.username,first_name:r,last_name:n,date_of_birth:e.birthday.toISOString().split("T")[0],gender:e.gender,account_type:2===(t=e.uiAccountType)?s.CO.Personal:t,referred_by_user_id:void 0===e.referredByUserId?void 0:e.referredByUserId,ad_id:void 0===e.adId?void 0:e.adId}}function R(e,t){var r,n;let s={...e,password:null!=(n=null!=(r=null==t?void 0:t.password)?r:e.password)?n:""};return(null==t?void 0:t.turnstileToken)&&(s.turnstile_token=t.turnstileToken),(null==t?void 0:t.captchaToken)&&(s.captcha_token=t.captchaToken),s}function O(){return!!n.A.config.turnstileSiteKey}},21379:(e,t,r)=>{"use strict";r.d(t,{D:()=>u,N:()=>d});var n=r(14232),s=(e,t,r,n,s,i,o,a)=>{let l=document.documentElement,c=["light","dark"];function u(t){var r;(Array.isArray(e)?e:[e]).forEach(e=>{let r="class"===e,n=r&&i?s.map(e=>i[e]||e):s;r?(l.classList.remove(...n),l.classList.add(i&&i[t]?i[t]:t)):l.setAttribute(e,t)}),r=t,a&&c.includes(r)&&(l.style.colorScheme=r)}if(n)u(n);else try{let e=localStorage.getItem(t)||r,n=o&&"system"===e?window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light":e;u(n)}catch(e){}},i=["light","dark"],o="(prefers-color-scheme: dark)",a="undefined"==typeof window,l=n.createContext(void 0),c={setTheme:e=>{},themes:[]},u=()=>{var e;return null!=(e=n.useContext(l))?e:c},d=e=>n.useContext(l)?n.createElement(n.Fragment,null,e.children):n.createElement(f,{...e}),h=["light","dark"],f=({forcedTheme:e,disableTransitionOnChange:t=!1,enableSystem:r=!0,enableColorScheme:s=!0,storageKey:a="theme",themes:c=h,defaultTheme:u=r?"system":"light",attribute:d="data-theme",value:f,children:v,nonce:b,scriptProps:w})=>{let[x,k]=n.useState(()=>m(a,u)),[S,C]=n.useState(()=>"system"===x?y():x),A=f?Object.values(f):c,_=n.useCallback(e=>{let n=e;if(!n)return;"system"===e&&r&&(n=y());let o=f?f[n]:n,a=t?g(b):null,l=document.documentElement,c=e=>{"class"===e?(l.classList.remove(...A),o&&l.classList.add(o)):e.startsWith("data-")&&(o?l.setAttribute(e,o):l.removeAttribute(e))};if(Array.isArray(d)?d.forEach(c):c(d),s){let e=i.includes(u)?u:null,t=i.includes(n)?n:e;l.style.colorScheme=t}null==a||a()},[b]),E=n.useCallback(e=>{let t="function"==typeof e?e(x):e;k(t);try{localStorage.setItem(a,t)}catch(e){}},[x]),T=n.useCallback(t=>{C(y(t)),"system"===x&&r&&!e&&_("system")},[x,e]);n.useEffect(()=>{let e=window.matchMedia(o);return e.addListener(T),T(e),()=>e.removeListener(T)},[T]),n.useEffect(()=>{let e=e=>{e.key===a&&(e.newValue?k(e.newValue):E(u))};return window.addEventListener("storage",e),()=>window.removeEventListener("storage",e)},[E]),n.useEffect(()=>{_(null!=e?e:x)},[e,x]);let R=n.useMemo(()=>({theme:x,setTheme:E,forcedTheme:e,resolvedTheme:"system"===x?S:x,themes:r?[...c,"system"]:c,systemTheme:r?S:void 0}),[x,E,e,S,r,c]);return n.createElement(l.Provider,{value:R},n.createElement(p,{forcedTheme:e,storageKey:a,attribute:d,enableSystem:r,enableColorScheme:s,defaultTheme:u,value:f,themes:c,nonce:b,scriptProps:w}),v)},p=n.memo(({forcedTheme:e,storageKey:t,attribute:r,enableSystem:i,enableColorScheme:o,defaultTheme:a,value:l,themes:c,nonce:u,scriptProps:d})=>{let h=JSON.stringify([r,t,a,e,c,l,i,o]).slice(1,-1);return n.createElement("script",{...d,suppressHydrationWarning:!0,nonce:"undefined"==typeof window?u:"",dangerouslySetInnerHTML:{__html:`(${s.toString()})(${h})`}})}),m=(e,t)=>{let r;if(!a){try{r=localStorage.getItem(e)||void 0}catch(e){}return r||t}},g=e=>{let t=document.createElement("style");return e&&t.setAttribute("nonce",e),t.appendChild(document.createTextNode("*,*::before,*::after{-webkit-transition:none!important;-moz-transition:none!important;-o-transition:none!important;-ms-transition:none!important;transition:none!important}")),document.head.appendChild(t),()=>{window.getComputedStyle(document.body),setTimeout(()=>{document.head.removeChild(t)},1)}},y=e=>(e||(e=window.matchMedia(o)),e.matches?"dark":"light")},21407:(e,t,r)=>{"use strict";r.d(t,{$:()=>a,s:()=>o});var n=r(60388),s=r(46305),i=r(48149),o=class extends s.k{#h;#U;#i;#F;constructor(e){super(),this.#h=e.client,this.mutationId=e.mutationId,this.#i=e.mutationCache,this.#U=[],this.state=e.state||a(),this.setOptions(e.options),this.scheduleGc()}setOptions(e){this.options=e,this.updateGcTime(this.options.gcTime)}get meta(){return this.options.meta}addObserver(e){this.#U.includes(e)||(this.#U.push(e),this.clearGcTimeout(),this.#i.notify({type:"observerAdded",mutation:this,observer:e}))}removeObserver(e){this.#U=this.#U.filter(t=>t!==e),this.scheduleGc(),this.#i.notify({type:"observerRemoved",mutation:this,observer:e})}optionalRemove(){this.#U.length||("pending"===this.state.status?this.scheduleGc():this.#i.remove(this))}continue(){return this.#F?.continue()??this.execute(this.state.variables)}async execute(e){let t=()=>{this.#$({type:"continue"})},r={client:this.#h,meta:this.options.meta,mutationKey:this.options.mutationKey};this.#F=(0,i.II)({fn:()=>this.options.mutationFn?this.options.mutationFn(e,r):Promise.reject(Error("No mutationFn found")),onFail:(e,t)=>{this.#$({type:"failed",failureCount:e,error:t})},onPause:()=>{this.#$({type:"pause"})},onContinue:t,retry:this.options.retry??0,retryDelay:this.options.retryDelay,networkMode:this.options.networkMode,canRun:()=>this.#i.canRun(this)});let n="pending"===this.state.status,s=!this.#F.canStart();try{if(n)t();else{this.#$({type:"pending",variables:e,isPaused:s}),await this.#i.config.onMutate?.(e,this,r);let t=await this.options.onMutate?.(e,r);t!==this.state.context&&this.#$({type:"pending",context:t,variables:e,isPaused:s})}let i=await this.#F.start();return await this.#i.config.onSuccess?.(i,e,this.state.context,this,r),await this.options.onSuccess?.(i,e,this.state.context,r),await this.#i.config.onSettled?.(i,null,this.state.variables,this.state.context,this,r),await this.options.onSettled?.(i,null,e,this.state.context,r),this.#$({type:"success",data:i}),i}catch(t){try{throw await this.#i.config.onError?.(t,e,this.state.context,this,r),await this.options.onError?.(t,e,this.state.context,r),await this.#i.config.onSettled?.(void 0,t,this.state.variables,this.state.context,this,r),await this.options.onSettled?.(void 0,t,e,this.state.context,r),t}finally{this.#$({type:"error",error:t})}}finally{this.#i.runNext(this)}}#$(e){this.state=(t=>{switch(e.type){case"failed":return{...t,failureCount:e.failureCount,failureReason:e.error};case"pause":return{...t,isPaused:!0};case"continue":return{...t,isPaused:!1};case"pending":return{...t,context:e.context,data:void 0,failureCount:0,failureReason:null,error:null,isPaused:e.isPaused,status:"pending",variables:e.variables,submittedAt:Date.now()};case"success":return{...t,data:e.data,failureCount:0,failureReason:null,error:null,status:"success",isPaused:!1};case"error":return{...t,data:void 0,error:e.error,failureCount:t.failureCount+1,failureReason:e.error,isPaused:!1,status:"error"}}})(this.state),n.jG.batch(()=>{this.#U.forEach(t=>{t.onMutationUpdate(e)}),this.#i.notify({mutation:this,type:"updated",action:e})})}};function a(){return{context:void 0,data:void 0,error:null,failureCount:0,failureReason:null,isPaused:!1,status:"idle",variables:void 0,submittedAt:0}}},21815:(e,t,r)=>{"use strict";r.d(t,{I:()=>a,r:()=>o});var n=r(74359),s=r(46583),i=r(41518);let o=async e=>{if(!e)return null;let t=String(e);try{var r;let[e,n]=await Promise.all([(0,s.YC)(t).catch(e=>null),(0,s.Vs)(parseInt(t)).catch(e=>null)]);if(!e)return null;let o=(0,i.Ib)(e);if(!o||!(null==(r=o.agency)?void 0:r.id))return null;let a=n?(0,i.n2)(n):null;if(n){let e=(null==n?void 0:n.data)||(null==n?void 0:n.response)||n,t=null==e?void 0:e.agency;t&&(o.agency={...o.agency,...t});let r=null==e?void 0:e.invoice,s=null==e?void 0:e.billingPortalUrl;(r||s)&&(o.agency={...o.agency,...r?{pendingInvoice:r}:{},...s?{billingPortalUrl:s}:{}})}return o.agency=(0,i.dO)(o.agency,a),o}catch(e){return null}},a=e=>{let{agencyId:t,enabled:r=!0,refetchKey:s=0}=e;return(0,n.I)({queryKey:["agencyWithSubscription",t,s],queryFn:async()=>t?o(Array.isArray(t)?t[0]:t):null,enabled:!!t&&r,refetchOnWindowFocus:!1,staleTime:3e4})}},23413:(e,t,r)=>{"use strict";r.d(t,{$1:()=>w,Bs:()=>g,Lc:()=>c,Nu:()=>v,WO:()=>m,sx:()=>u,ty:()=>b,uk:()=>y});var n=r(1144);let s=r(78567).A.config.analyticsDisabled,i={begin_checkout:"InitiateCheckout",add_payment_info:"AddPaymentInfo",purchase:"Subscribe",start_free_trial:"StartTrial",view_subscription_plan:"ViewContent",select_subscription_plan:"AddToCart"},o=e=>{let t={...e};return"plan_id"in t&&(t.content_ids=[t.plan_id],t.content_type="product"),!t.currency&&(t.value||t.price)&&(t.currency="USD"),!t.value&&t.price&&(t.value=t.price),t},a=(e,t)=>{},l=(e,t)=>{},c=e=>{window.gtag&&window.gtag("consent","update",{ad_storage:e?"granted":"denied",analytics_storage:e?"granted":"denied",functionality_storage:"granted",personalization_storage:e?"granted":"denied",security_storage:"granted"})},u=(e,t)=>{try{var r;let s=null!=(r=i[e])?r:e,c={...t,platform:"web"},u=o(c);a(s,u),l(s,u),window.gtag&&window.gtag("event",e,null!=t?t:{}),(0,n.hZ)(e,t||{})}catch(e){}},d=e=>e.map(e=>({product_id:e.id,name:e.name,price:e.price,quantity:e.quantity,category:e.category||"merchandise"})),h={"Product Viewed":"view_item","Product List Viewed":"view_item_list","Product Added":"add_to_cart","Product Removed":"remove_from_cart","Checkout Started":"begin_checkout","Shipping Info Entered":"add_shipping_info","Payment Info Entered":"add_payment_info","Order Completed":"purchase"},f=(e,t)=>{try{let r=h[e]||e,i=function(e,t){let r={...t};if(((null==t?void 0:t.value)||(null==t?void 0:t.revenue))&&!(null==t?void 0:t.currency)&&(r.currency="USD"),"Order Completed"===e){if("number"==typeof r.order_id&&(r.order_id="order_".concat(r.order_id)),!r.total&&r.revenue){let e="number"==typeof r.tax?r.tax:0,t="number"==typeof r.shipping?r.shipping:0;r.total=Number(r.revenue)+e+t}r.products&&Array.isArray(r.products)&&r.products.length}return r}(e,t),o=function(e){return({"Product Viewed":"ViewContent","Product List Viewed":"ViewContent","Product Added":"AddToCart","Product Removed":"RemoveFromCart","Checkout Started":"InitiateCheckout","Shipping Info Entered":"AddShippingInfo","Payment Info Entered":"AddPaymentInfo","Order Completed":"Purchase"})[e]||e}(e);a(o,p(i));let c=function(e){return({"Product Viewed":"ViewContent","Product List Viewed":"ViewContent","Product Added":"AddToCart","Product Removed":"RemoveFromCart","Checkout Started":"InitiateCheckout","Shipping Info Entered":"AddShippingInfo","Payment Info Entered":"AddPaymentInfo","Order Completed":"Purchase"})[e]||e}(e);l(c,p(i)),function(e,t){var r;if(s||!window.gtag)return;let n={};n.currency=t.currency||"USD",["view_item","add_to_cart","begin_checkout","add_shipping_info","add_payment_info","purchase"].includes(e)&&(n.value=t.value||t.revenue||0),Array.isArray(t.products)?n.items=t.products.map(e=>({item_id:String(e.product_id||""),item_name:String(e.name||""),price:Number(e.price||0),quantity:Number(e.quantity||1),item_category:e.category?String(e.category):void 0})):(r=e,["view_item","add_to_cart","view_item_list","begin_checkout","add_shipping_info","add_payment_info","purchase"].includes(r)&&(n.items=[])),function(e,t,r){switch(e){case"purchase":t.transaction_id=r.order_id,void 0!==r.tax&&(t.tax=r.tax),void 0!==r.shipping&&(t.shipping=r.shipping),t.value=r.revenue;break;case"add_shipping_info":r.shipping_tier&&(t.shipping_tier=r.shipping_tier);break;case"add_payment_info":r.payment_type&&(t.payment_type=r.payment_type||"card");break;case"view_item_list":r.list_name&&(t.item_list_name=r.list_name),r.list_id&&(t.item_list_id=r.list_id)}}(e,n,t);try{window.gtag("event",e,n)}catch(e){}}(r,i),(0,n.hZ)(r,i)}catch(e){}};function p(e){let t={};if(e.currency&&(t.currency=e.currency),(e.value||e.revenue)&&(t.value=e.value||e.revenue),Array.isArray(e.products)){let r=e.products;t.content_ids=r.map(e=>String(e.product_id)),t.content_type="product",t.contents=r.map(e=>({id:String(e.product_id),quantity:1,item_price:e.price}))}return e.order_id&&(t.order_id=e.order_id),t}let m={success:e=>{u("sign_up",{method:(null==e?void 0:e.method)||"email",role:(null==e?void 0:e.role)||"user"})}},g={view:e=>{u("view_subscription_plan",{plan_id:e.id,plan_name:e.name,price:e.price,currency:e.currency||"USD",interval:e.interval||"monthly"})},select:e=>{u("select_subscription_plan",{plan_id:e.id,plan_name:e.name,price:e.price,currency:e.currency||"USD",interval:e.interval||"monthly"})},beginCheckout:e=>{u("begin_checkout",{plan_id:e.id,plan_name:e.name,value:e.price,currency:e.currency||"USD",items:[{item_id:e.id,item_name:e.name,price:e.price,item_category:"subscription",quantity:1}]})},addPaymentInfo:e=>{u("add_payment_info",{plan_id:e.id,plan_name:e.name,value:e.price,payment_type:e.payment_type||"card",currency:e.currency||"USD",items:[{item_id:e.id,item_name:e.name,price:e.price,item_category:"subscription",quantity:1}]})},purchase:e=>{let t="string"==typeof e.price?Number(e.price):e.price,r={transaction_id:e.transaction_id||"sub_".concat(Date.now()),value:t,currency:e.currency||"USD",subscription_id:e.id,subscription_name:e.name,subscription_interval:e.interval||"monthly",has_trial:e.has_trial||!1,trial_days:e.trial_days||0,items:[{item_id:e.id,item_name:e.name,price:t,item_category:"subscription",item_variant:e.interval||"monthly",quantity:1}]};u("purchase",r);let n=o({...r,platform:"web"});a("Subscribe",n),l("Subscribe",n)},startTrial:e=>{u("start_free_trial",{plan_id:e.id,plan_name:e.name,trial_days:e.trial_days,currency:e.currency||"USD"})}},y={viewCart:e=>{u("view_cart",{value:e.total,currency:"USD",items:e.items.map(e=>({item_id:e.id,item_name:e.name,price:e.price,quantity:e.quantity,item_category:e.category||"merchandise"}))})},expressCheckoutClick:e=>{u("express_checkout_click",{value:e.total,currency:"USD",payment_type:e.payment_type,items:e.items.map(e=>({item_id:e.id,item_name:e.name,price:e.price,quantity:e.quantity,item_category:e.category||"merchandise"}))})},beginCheckout:e=>{f("Checkout Started",{value:e.total,currency:"USD",products:d(e.items)})},addShippingInfo:e=>{f("Shipping Info Entered",{shipping_tier:null==e?void 0:e.shipping_tier,value:null==e?void 0:e.value,currency:"USD",products:(null==e?void 0:e.items)?d(e.items):[]})},addPaymentInfo:e=>{f("Payment Info Entered",{payment_type:(null==e?void 0:e.payment_type)||"card",value:null==e?void 0:e.value,currency:"USD",products:(null==e?void 0:e.items)?d(e.items):[]})},purchase:e=>{f("Order Completed",{order_id:e.id,revenue:e.total,total:e.total+(e.tax||0)+(e.shipping||0),tax:e.tax||0,shipping:e.shipping||0,currency:e.currency||"USD",products:d(e.items)})}},v={productCreated:e=>{u("product_created",{product_id:e.id,product_name:e.name,product_type:e.product_type||"custom",category_id:e.category_id,price:e.price,has_custom_design:e.has_custom_design||!0})},productViewed:e=>{f("Product Viewed",{currency:e.currency||"USD",value:e.price||0,products:[{product_id:e.id,name:e.name,price:e.price||0,quantity:1,category:e.category,variant:e.variant,brand:e.brand}]})},productsViewed:e=>{f("Product List Viewed",{currency:"USD",list_name:e.list_name||"Product List",list_id:e.list_id,products:e.products.map((e,t)=>({product_id:e.id,name:e.name,price:e.price||0,quantity:1,category:e.category,position:e.position||t+1}))})},productAdded:e=>{f("Product Added",{currency:e.currency||"USD",value:e.price*e.quantity,products:[{product_id:e.id,name:e.name,price:e.price,quantity:e.quantity,category:e.category,variant:e.variant}]})},designMaker:{enter:()=>{u("design_maker_entered",{entry_point:"shop",screen:"category_selection",step:"begin_product_creation"})},selectCategory:e=>{u("design_maker_category_selected",{category_id:e.id,category_name:e.name,has_subcategories:e.has_children,step:"category_selection"})},selectProduct:e=>{u("design_maker_product_selected",{product_id:e.id,product_name:e.name,category:e.category_name,price:e.price,step:"product_selection"})},initiateCustomization:e=>{u("design_maker_begin_customization",{product_id:e.id,product_name:e.name,colors_selected:e.colors.join(", "),sizes_selected:e.sizes.join(", "),technique:e.technique,step:"product_customization"})},completeDesign:e=>{u("design_maker_design_completed",{product_id:e.id,product_name:e.name,category:e.category,price:e.price,step:"design_completion"})}},toolEvent:e=>{u("tool_interaction",{tool_name:e.tool_name,step:e.step,action:e.action,option_selected:e.option_selected,category:e.category})}},b={viewPage:()=>{u("view_monetization_options",{page_name:"monetize",section:"make_money",user_intent:"explore_monetization"})},selectOption:e=>{u("select_monetization_option",{option_name:e.name,option_type:e.is_available?"available":"coming_soon",destination:e.destination||"early_access"})},requestEarlyAccess:e=>{u("request_early_access",{feature_name:e,section:"monetization",destination:"/creators"})}},w={publishProduct:e=>{u("product_published",{product_id:e.id,product_name:e.name,product_type:e.type,price:e.price,category:e.category,timestamp:new Date().toISOString()})},unpublishProduct:e=>{u("product_unpublished",{product_id:e.id,product_name:e.name,product_type:e.type,timestamp:new Date().toISOString()})},saveProductDetails:e=>{u("product_details_saved",{product_id:e.id,product_name:e.name,price:e.price,has_description:e.has_description||!1})},saveMockups:e=>{u("product_mockups_saved",{template_id:e.id,template_name:e.name,mockup_count:e.mockup_count})}}},23836:(e,t,r)=>{"use strict";r.d(t,{t:()=>u});var n=r(14232),s=r(60388),i=r(37149),o=r(67768);r(37876);var a=n.createContext(function(){let e=!1;return{clearReset:()=>{e=!1},reset:()=>{e=!0},isReset:()=>e}}()),l=n.createContext(!1);l.Provider;var c=(e,t,r)=>t.fetchOptimistic(e).catch(()=>{r.clearReset()});function u(e,t,r){let u=n.useContext(l),d=n.useContext(a),h=(0,o.jE)(r),f=h.defaultQueryOptions(e);if(h.getDefaultOptions().queries?._experimental_beforeQuery?.(f),f._optimisticResults=u?"isRestoring":"optimistic",f.suspense){let e=e=>"static"===e?e:Math.max(e??1e3,1e3),t=f.staleTime;f.staleTime="function"==typeof t?(...r)=>e(t(...r)):e(t),"number"==typeof f.gcTime&&(f.gcTime=Math.max(f.gcTime,1e3))}(f.suspense||f.throwOnError||f.experimental_prefetchInRender)&&!d.isReset()&&(f.retryOnMount=!1),n.useEffect(()=>{d.clearReset()},[d]);let p=!h.getQueryCache().get(f.queryHash),[m]=n.useState(()=>new t(h,f)),g=m.getOptimisticResult(f),y=!u&&!1!==e.subscribed;if(n.useSyncExternalStore(n.useCallback(e=>{let t=y?m.subscribe(s.jG.batchCalls(e)):i.lQ;return m.updateResult(),t},[m,y]),()=>m.getCurrentResult(),()=>m.getCurrentResult()),n.useEffect(()=>{m.setOptions(f)},[f,m]),f?.suspense&&g.isPending)throw c(f,m,d);if((({result:e,errorResetBoundary:t,throwOnError:r,query:n,suspense:s})=>e.isError&&!t.isReset()&&!e.isFetching&&n&&(s&&void 0===e.data||(0,i.GU)(r,[e.error,n])))({result:g,errorResetBoundary:d,throwOnError:f.throwOnError,query:h.getQueryCache().get(f.queryHash),suspense:f.suspense}))throw g.error;if(h.getDefaultOptions().queries?._experimental_afterQuery?.(f,g),f.experimental_prefetchInRender&&!i.S$&&g.isLoading&&g.isFetching&&!u){let e=p?c(f,m,d):h.getQueryCache().get(f.queryHash)?.promise;e?.catch(i.lQ).finally(()=>{m.updateResult()})}return f.notifyOnChangeProps?g:m.trackResult(g)}},24609:(e,t,r)=>{"use strict";r.d(t,{FN:()=>u,MJ:()=>c,qE:()=>s,rl:()=>d});var n=r(47880);let s=(e,t,r)=>Math.min(Math.max(e,t),r),i=/^#(?:[A-Fa-f0-9]{3}|[A-Fa-f0-9]{4}|[A-Fa-f0-9]{6}|[A-Fa-f0-9]{8})$/,o=/^var\(--[A-Za-z0-9_-]+\)$/,a=/^[a-zA-Z]+$/,l=new Set(["rgb","rgba","hsl","hsla","hwb","lab","lch","oklab","oklch","color","linear-gradient","radial-gradient","conic-gradient"]),c=(e,t)=>{var r;if(!t)return{};let c=n.N[e],u=null!=(r=null==c?void 0:c.allowed)?r:{},d={};return Object.entries(t).forEach(e=>{var t,r,n;let[c,h]=e;if(null!=h&&("string"!=typeof h||0!==h.trim().length))switch(c){case"intensity":{let{min:e=0,max:r=1}=null!=(t=u.intensity)?t:{},n=((e,t,r)=>{if("string"==typeof e&&e.trim().length>0){let n=Number(e);return Number.isNaN(n)?void 0:s(n,t,r)}if((e=>"number"==typeof e&&Number.isFinite(e))(e))return s(e,t,r)})(h,e,r);void 0!==n&&(d.intensity=n);break}case"speed":case"delay":case"trigger":break;case"direction":"x"===h||"y"===h?d.direction=h:(null==(n=u.direction)||null==(r=n.options)?void 0:r.includes(h))&&(d.direction=h);break;case"repeat":"loop"===h&&(d.repeat=h);break;case"color":"string"==typeof h&&(e=>{let t=e.trim();return!!t&&!!(i.test(t)||o.test(t)||a.test(t)||(e=>{let t=/^([a-z-]+)\((.*)\)$/i.exec(e);if(!t)return!1;let[,r,n]=t;return!!l.has(r)&&!/[;{}]/.test(n)})(t))})(h)&&(d.color=h.trim())}}),d},u=(e,t)=>{let r=(0,n.M)(e),s=c(e,t),i={...r,...s};return i.delay=0,i.trigger="always",i.target="card",i},d=e=>e&&e.preset&&"none"!==e.preset?{preset:e.preset,params:u(e.preset,e.params)}:null},27972:(e,t,r)=>{"use strict";r.d(t,{CO:()=>s,LD:()=>i,YT:()=>n});var n=function(e){return e[e.Unspecified=0]="Unspecified",e[e.Male=1]="Male",e[e.Female=2]="Female",e[e.PreferNotToSay=3]="PreferNotToSay",e[e.Other=4]="Other",e}({}),s=function(e){return e[e.Personal=0]="Personal",e[e.Business=1]="Business",e}({}),i=function(e){return e[e.Google=0]="Google",e[e.Apple=1]="Apple",e[e.Facebook=2]="Facebook",e[e.TikTok=3]="TikTok",e}({})},28509:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>M});var n=r(37876),s=r(14232),i=r(77328),o=r.n(i);let a=()=>(0,n.jsxs)(o(),{children:[(0,n.jsx)("title",{children:"LinkMe"}),(0,n.jsx)("link",{rel:"icon",href:"/favicon.webp"}),(0,n.jsx)("link",{rel:"preconnect",href:"https://d3f259a8n8vf68.cloudfront.net"}),(0,n.jsx)("link",{rel:"dns-prefetch",href:"https://d3f259a8n8vf68.cloudfront.net"})]}),l=()=>null,c=()=>(0,n.jsx)("footer",{});var u=r(51819),d=r(48156),h=r(21379),f=r(43939),p=r(1897);r(3464);var m=r(58070),g=r(54143),y=r(95947),v=r(73982);class b extends s.Component{static getDerivedStateFromError(e){return{hasError:!0,error:e,errorInfo:null}}componentDidCatch(e,t){this.setState({errorInfo:t})}render(){if(this.state.hasError){var e,t,r;return(0,n.jsx)("div",{className:"viewContainer",children:(0,n.jsxs)("div",{className:"h-screen flex flex-col justify-center items-center",children:[(0,n.jsx)("div",{className:"icon-container",children:(0,n.jsx)("img",{src:"/dummy/Bitmap.png",alt:""})}),(0,n.jsx)("div",{className:"error-heading-text",children:"Oops! Something went wrong"}),(0,n.jsxs)("div",{className:"error-main-text text-center",children:["We encountered an unexpected error while loading this page.",(0,n.jsx)("br",{}),"If you believe this shouldn't happen, please open the error details and contact support with a screenshot."]}),(0,n.jsxs)("div",{className:"flex gap-4 mt-8",children:[(0,n.jsx)("button",{type:"button",className:"px-4 py-2 gradient-button-active text-white rounded",onClick:()=>this.setState({hasError:!1}),children:"Try Again"}),(0,n.jsx)("button",{type:"button",className:"px-4 py-2 border gradient-button-active text-white rounded",onClick:()=>{var e;return null==(e=document.getElementById("errorModal"))?void 0:e.showModal()},children:"View Error Details"})]}),(0,n.jsx)("dialog",{id:"errorModal",className:"modal p-6 max-w-2xl rounded-lg shadow-xl backdrop:bg-black/50",children:(0,n.jsxs)("div",{className:"space-y-4",children:[(0,n.jsx)("h3",{className:"text-lg font-semibold",children:"Error Details"}),(0,n.jsxs)("div",{children:[(0,n.jsx)("strong",{children:"Error Message:"}),(0,n.jsx)("div",{className:"mt-1 p-2 bg-gray-50 rounded text-black",children:null==(e=this.state.error)?void 0:e.message})]}),(0,n.jsxs)("div",{children:[(0,n.jsx)("strong",{children:"Stack Trace:"}),(0,n.jsx)("pre",{className:"mt-1 p-2 bg-gray-50 rounded text-sm whitespace-pre-wrap text-black overflow-auto max-h-40",children:null==(t=this.state.error)?void 0:t.stack})]}),(0,n.jsxs)("div",{children:[(0,n.jsx)("strong",{children:"Component Stack:"}),(0,n.jsx)("pre",{className:"mt-1 p-2 bg-gray-50 rounded text-sm whitespace-pre-wrap text-black overflow-auto max-h-40",children:null==(r=this.state.errorInfo)?void 0:r.componentStack})]}),(0,n.jsx)("div",{className:"flex justify-end mt-4",children:(0,n.jsx)("button",{type:"button",className:"px-4 py-2 border gradient-button-active text-white rounded",onClick:()=>{var e;return null==(e=document.getElementById("errorModal"))?void 0:e.close()},children:"Close"})})]})})]})})}return this.props.children}constructor(e){super(e),this.state={hasError:!1,error:null,errorInfo:null}}}var w=r(45105),x=r.n(w);let k=()=>(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)(x(),{strategy:"afterInteractive",src:"https://www.googletagmanager.com/gtag/js?id=G-5VS05V8C4F",defer:!0,async:!0}),(0,n.jsx)(x(),{id:"google-analytics",strategy:"afterInteractive",dangerouslySetInnerHTML:{__html:"\n          window.dataLayer = window.dataLayer || [];\n          function gtag(){dataLayer.push(arguments);}\n          gtag('js', new Date());\n          gtag('config', 'G-5VS05V8C4F');\n        "},defer:!0})]});var S=r(7e3),C=r(67768),A=r(1593),_=r(89099),E=r(45261),T=r(16632);let R=()=>{let e=(0,_.useRouter)(),{handleUpdateTheme:t}=(0,d.eP)(),r="true"===e.query.inapp;return(0,s.useEffect)(()=>{if(r){let e=E.A.getCookie(T.Ay.TOKEN,!1),r=E.A.getLocalstorage(T.Ay.TOKEN,!1);e&&e!==r&&E.A.setLocalstorage(T.Ay.TOKEN,e,!1);let n=E.A.getCookie(T.Ay.THEME,!1);n&&(E.A.getLocalstorage(T.Ay.THEME,!1),t("Black"===n?"dark":"light"))}},[r,e.pathname]),null};var O=r(56460),I=r(66039),P=r(77098),j=r(40325),q=r.n(j),L=r(62298),N=r(86008);let M=e=>{var t;let{Component:r,pageProps:i}=e;s.useEffect(()=>{(0,N.A)()},[]),(0,L.Ay)();let w=null!=(t=r.getLayout)?t:e=>e,x=r.isDashboard?w((0,n.jsx)(r,{...i})):(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)(a,{}),(0,n.jsx)(l,{}),(0,n.jsx)(r,{...i}),(0,n.jsx)(c,{})]});return(0,n.jsxs)("div",{className:"".concat(q().variable," ").concat(q().className," relative"),children:[(0,n.jsx)("div",{"aria-hidden":"true",className:"fixed inset-0 -z-20 bg-[#FDFDFD] dark:bg-[#09090B] pointer-events-none"}),(0,n.jsxs)(b,{children:[(0,n.jsx)(o(),{children:(0,n.jsx)("meta",{name:"viewport",content:"width=device-width, initial-scale=1.0"})}),(0,n.jsx)(C.Ht,{client:A.A,children:(0,n.jsx)(h.N,{attribute:"class",defaultTheme:"system",enableSystem:!0,storageKey:"linkme-theme",children:(0,n.jsx)(v.i,{children:(0,n.jsx)(g.Hc,{children:(0,n.jsx)(u.Dv,{children:(0,n.jsxs)(d.Iv,{children:[(0,n.jsx)(p.Bc,{delayDuration:250,children:(0,n.jsx)(y.A,{children:(0,n.jsx)(m.hB,{children:(0,n.jsx)(I.hr,{children:(0,n.jsxs)(O.GU,{children:[(0,n.jsx)(R,{}),(0,n.jsxs)(S.O$,{children:[(0,n.jsx)(P.A,{}),(0,n.jsx)(k,{}),(0,n.jsx)(S.Ay,{}),x]})]})})})})}),(0,n.jsx)(f.l,{closeButton:!0,position:"top-center"})]})})})})})})]})]})}},31893:(e,t,r)=>{"use strict";r.d(t,{Z:()=>l});var n=r(14232),s=r(98477),i=r(57797),o=r(81285),a=r(37876),l=n.forwardRef((e,t)=>{let{container:r,...l}=e,[c,u]=n.useState(!1);(0,o.N)(()=>u(!0),[]);let d=r||c&&globalThis?.document?.body;return d?s.createPortal((0,a.jsx)(i.sG.div,{...l,ref:t}),d):null});l.displayName="Portal"},33716:(e,t,r)=>{"use strict";function n(e,t,{checkForDefaultPrevented:r=!0}={}){return function(n){if(e?.(n),!1===r||!n.defaultPrevented)return t?.(n)}}r.d(t,{mK:()=>n}),"undefined"!=typeof window&&window.document&&window.document.createElement},34318:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"unstable_rethrow",{enumerable:!0,get:function(){return function e(t){if((0,s.isNextRouterError)(t)||(0,n.isBailoutToCSRError)(t))throw t;t instanceof Error&&"cause"in t&&e(t.cause)}}});let n=r(1677),s=r(40497);("function"==typeof t.default||"object"==typeof t.default&&null!==t.default)&&void 0===t.default.__esModule&&(Object.defineProperty(t.default,"__esModule",{value:!0}),Object.assign(t.default,t),e.exports=t.default)},35061:(e,t,r)=>{"use strict";r.d(t,{cn:()=>eu});var n=r(69241);let s=(e=new Map,t=null,r)=>({nextPart:e,validators:t,classGroupId:r}),i=[],o=(e,t,r)=>{if(0==e.length-t)return r.classGroupId;let n=e[t],s=r.nextPart.get(n);if(s){let r=o(e,t+1,s);if(r)return r}let i=r.validators;if(null===i)return;let a=0===t?e.join("-"):e.slice(t).join("-"),l=i.length;for(let e=0;e<l;e++){let t=i[e];if(t.validator(a))return t.classGroupId}},a=(e,t)=>{let r=s();for(let n in e)l(e[n],r,n,t);return r},l=(e,t,r,n)=>{let s=e.length;for(let i=0;i<s;i++)c(e[i],t,r,n)},c=(e,t,r,n)=>"string"==typeof e?void u(e,t,r):"function"==typeof e?void d(e,t,r,n):void h(e,t,r,n),u=(e,t,r)=>{(""===e?t:f(t,e)).classGroupId=r},d=(e,t,r,n)=>{if(p(e))return void l(e(n),t,r,n);null===t.validators&&(t.validators=[]),t.validators.push({classGroupId:r,validator:e})},h=(e,t,r,n)=>{let s=Object.entries(e),i=s.length;for(let e=0;e<i;e++){let[i,o]=s[e];l(o,f(t,i),r,n)}},f=(e,t)=>{let r=e,n=t.split("-"),i=n.length;for(let e=0;e<i;e++){let t=n[e],i=r.nextPart.get(t);i||(i=s(),r.nextPart.set(t,i)),r=i}return r},p=e=>"isThemeGetter"in e&&!0===e.isThemeGetter,m=[],g=(e,t,r,n,s)=>({modifiers:e,hasImportantModifier:t,baseClassName:r,maybePostfixModifierPosition:n,isExternal:s}),y=/\s+/,v=e=>{let t;if("string"==typeof e)return e;let r="";for(let n=0;n<e.length;n++)e[n]&&(t=v(e[n]))&&(r&&(r+=" "),r+=t);return r},b=[],w=e=>{let t=t=>t[e]||b;return t.isThemeGetter=!0,t},x=/^\[(?:(\w[\w-]*):)?(.+)\]$/i,k=/^\((?:(\w[\w-]*):)?(.+)\)$/i,S=/^\d+\/\d+$/,C=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,A=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,_=/^(rgba?|hsla?|hwb|(ok)?(lab|lch)|color-mix)\(.+\)$/,E=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,T=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,R=e=>S.test(e),O=e=>!!e&&!Number.isNaN(Number(e)),I=e=>!!e&&Number.isInteger(Number(e)),P=e=>e.endsWith("%")&&O(e.slice(0,-1)),j=e=>C.test(e),q=()=>!0,L=e=>A.test(e)&&!_.test(e),N=()=>!1,M=e=>E.test(e),D=e=>T.test(e),U=e=>!$(e)&&!W(e),F=e=>ee(e,es,N),$=e=>x.test(e),Q=e=>ee(e,ei,L),z=e=>ee(e,eo,O),V=e=>ee(e,er,N),B=e=>ee(e,en,D),H=e=>ee(e,el,M),W=e=>k.test(e),K=e=>et(e,ei),G=e=>et(e,ea),J=e=>et(e,er),Y=e=>et(e,es),X=e=>et(e,en),Z=e=>et(e,el,!0),ee=(e,t,r)=>{let n=x.exec(e);return!!n&&(n[1]?t(n[1]):r(n[2]))},et=(e,t,r=!1)=>{let n=k.exec(e);return!!n&&(n[1]?t(n[1]):r)},er=e=>"position"===e||"percentage"===e,en=e=>"image"===e||"url"===e,es=e=>"length"===e||"size"===e||"bg-size"===e,ei=e=>"length"===e,eo=e=>"number"===e,ea=e=>"family-name"===e,el=e=>"shadow"===e;Symbol.toStringTag;let ec=((e,...t)=>{let r,n,s,l,c=e=>{let t=n(e);if(t)return t;let i=((e,t)=>{let{parseClassName:r,getClassGroupId:n,getConflictingClassGroupIds:s,sortModifiers:i}=t,o=[],a=e.trim().split(y),l="";for(let e=a.length-1;e>=0;e-=1){let t=a[e],{isExternal:c,modifiers:u,hasImportantModifier:d,baseClassName:h,maybePostfixModifierPosition:f}=r(t);if(c){l=t+(l.length>0?" "+l:l);continue}let p=!!f,m=n(p?h.substring(0,f):h);if(!m){if(!p||!(m=n(h))){l=t+(l.length>0?" "+l:l);continue}p=!1}let g=0===u.length?"":1===u.length?u[0]:i(u).join(":"),y=d?g+"!":g,v=y+m;if(o.indexOf(v)>-1)continue;o.push(v);let b=s(m,p);for(let e=0;e<b.length;++e){let t=b[e];o.push(y+t)}l=t+(l.length>0?" "+l:l)}return l})(e,r);return s(e,i),i};return l=u=>(n=(r=(e=>({cache:(e=>{if(e<1)return{get:()=>void 0,set:()=>{}};let t=0,r=Object.create(null),n=Object.create(null),s=(s,i)=>{r[s]=i,++t>e&&(t=0,n=r,r=Object.create(null))};return{get(e){let t=r[e];return void 0!==t?t:void 0!==(t=n[e])?(s(e,t),t):void 0},set(e,t){e in r?r[e]=t:s(e,t)}}})(e.cacheSize),parseClassName:(e=>{let{prefix:t,experimentalParseClassName:r}=e,n=e=>{let t,r=[],n=0,s=0,i=0,o=e.length;for(let a=0;a<o;a++){let o=e[a];if(0===n&&0===s){if(":"===o){r.push(e.slice(i,a)),i=a+1;continue}if("/"===o){t=a;continue}}"["===o?n++:"]"===o?n--:"("===o?s++:")"===o&&s--}let a=0===r.length?e:e.slice(i),l=a,c=!1;return a.endsWith("!")?(l=a.slice(0,-1),c=!0):a.startsWith("!")&&(l=a.slice(1),c=!0),g(r,c,l,t&&t>i?t-i:void 0)};if(t){let e=t+":",r=n;n=t=>t.startsWith(e)?r(t.slice(e.length)):g(m,!1,t,void 0,!0)}if(r){let e=n;n=t=>r({className:t,parseClassName:e})}return n})(e),sortModifiers:(e=>{let t=new Map;return e.orderSensitiveModifiers.forEach((e,r)=>{t.set(e,1e6+r)}),e=>{let r=[],n=[];for(let s=0;s<e.length;s++){let i=e[s],o="["===i[0],a=t.has(i);o||a?(n.length>0&&(n.sort(),r.push(...n),n=[]),r.push(i)):n.push(i)}return n.length>0&&(n.sort(),r.push(...n)),r}})(e),...(e=>{let t=(e=>{let{theme:t,classGroups:r}=e;return a(r,t)})(e),{conflictingClassGroups:r,conflictingClassGroupModifiers:n}=e;return{getClassGroupId:e=>{if(e.startsWith("[")&&e.endsWith("]"))return(e=>-1===e.slice(1,-1).indexOf(":")?void 0:(()=>{let t=e.slice(1,-1),r=t.indexOf(":"),n=t.slice(0,r);return n?"arbitrary.."+n:void 0})())(e);let r=e.split("-"),n=+(""===r[0]&&r.length>1);return o(r,n,t)},getConflictingClassGroupIds:(e,t)=>{if(t){let t=n[e],s=r[e];return t?s?((e,t)=>{let r=Array(e.length+t.length);for(let t=0;t<e.length;t++)r[t]=e[t];for(let n=0;n<t.length;n++)r[e.length+n]=t[n];return r})(s,t):t:s||i}return r[e]||i}}})(e)}))(t.reduce((e,t)=>t(e),e()))).cache.get,s=r.cache.set,l=c,c(u)),(...e)=>l(((...e)=>{let t,r,n=0,s="";for(;n<e.length;)(t=e[n++])&&(r=v(t))&&(s&&(s+=" "),s+=r);return s})(...e))})(()=>{let e=w("color"),t=w("font"),r=w("text"),n=w("font-weight"),s=w("tracking"),i=w("leading"),o=w("breakpoint"),a=w("container"),l=w("spacing"),c=w("radius"),u=w("shadow"),d=w("inset-shadow"),h=w("text-shadow"),f=w("drop-shadow"),p=w("blur"),m=w("perspective"),g=w("aspect"),y=w("ease"),v=w("animate"),b=()=>["auto","avoid","all","avoid-page","page","left","right","column"],x=()=>["center","top","bottom","left","right","top-left","left-top","top-right","right-top","bottom-right","right-bottom","bottom-left","left-bottom"],k=()=>[...x(),W,$],S=()=>["auto","hidden","clip","visible","scroll"],C=()=>["auto","contain","none"],A=()=>[W,$,l],_=()=>[R,"full","auto",...A()],E=()=>[I,"none","subgrid",W,$],T=()=>["auto",{span:["full",I,W,$]},I,W,$],L=()=>[I,"auto",W,$],N=()=>["auto","min","max","fr",W,$],M=()=>["start","end","center","between","around","evenly","stretch","baseline","center-safe","end-safe"],D=()=>["start","end","center","stretch","center-safe","end-safe"],ee=()=>["auto",...A()],et=()=>[R,"auto","full","dvw","dvh","lvw","lvh","svw","svh","min","max","fit",...A()],er=()=>[e,W,$],en=()=>[...x(),J,V,{position:[W,$]}],es=()=>["no-repeat",{repeat:["","x","y","space","round"]}],ei=()=>["auto","cover","contain",Y,F,{size:[W,$]}],eo=()=>[P,K,Q],ea=()=>["","none","full",c,W,$],el=()=>["",O,K,Q],ec=()=>["solid","dashed","dotted","double"],eu=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"],ed=()=>[O,P,J,V],eh=()=>["","none",p,W,$],ef=()=>["none",O,W,$],ep=()=>["none",O,W,$],em=()=>[O,W,$],eg=()=>[R,"full",...A()];return{cacheSize:500,theme:{animate:["spin","ping","pulse","bounce"],aspect:["video"],blur:[j],breakpoint:[j],color:[q],container:[j],"drop-shadow":[j],ease:["in","out","in-out"],font:[U],"font-weight":["thin","extralight","light","normal","medium","semibold","bold","extrabold","black"],"inset-shadow":[j],leading:["none","tight","snug","normal","relaxed","loose"],perspective:["dramatic","near","normal","midrange","distant","none"],radius:[j],shadow:[j],spacing:["px",O],text:[j],"text-shadow":[j],tracking:["tighter","tight","normal","wide","wider","widest"]},classGroups:{aspect:[{aspect:["auto","square",R,$,W,g]}],container:["container"],columns:[{columns:[O,$,W,a]}],"break-after":[{"break-after":b()}],"break-before":[{"break-before":b()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],sr:["sr-only","not-sr-only"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:k()}],overflow:[{overflow:S()}],"overflow-x":[{"overflow-x":S()}],"overflow-y":[{"overflow-y":S()}],overscroll:[{overscroll:C()}],"overscroll-x":[{"overscroll-x":C()}],"overscroll-y":[{"overscroll-y":C()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:_()}],"inset-x":[{"inset-x":_()}],"inset-y":[{"inset-y":_()}],start:[{start:_()}],end:[{end:_()}],top:[{top:_()}],right:[{right:_()}],bottom:[{bottom:_()}],left:[{left:_()}],visibility:["visible","invisible","collapse"],z:[{z:[I,"auto",W,$]}],basis:[{basis:[R,"full","auto",a,...A()]}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["nowrap","wrap","wrap-reverse"]}],flex:[{flex:[O,R,"auto","initial","none",$]}],grow:[{grow:["",O,W,$]}],shrink:[{shrink:["",O,W,$]}],order:[{order:[I,"first","last","none",W,$]}],"grid-cols":[{"grid-cols":E()}],"col-start-end":[{col:T()}],"col-start":[{"col-start":L()}],"col-end":[{"col-end":L()}],"grid-rows":[{"grid-rows":E()}],"row-start-end":[{row:T()}],"row-start":[{"row-start":L()}],"row-end":[{"row-end":L()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":N()}],"auto-rows":[{"auto-rows":N()}],gap:[{gap:A()}],"gap-x":[{"gap-x":A()}],"gap-y":[{"gap-y":A()}],"justify-content":[{justify:[...M(),"normal"]}],"justify-items":[{"justify-items":[...D(),"normal"]}],"justify-self":[{"justify-self":["auto",...D()]}],"align-content":[{content:["normal",...M()]}],"align-items":[{items:[...D(),{baseline:["","last"]}]}],"align-self":[{self:["auto",...D(),{baseline:["","last"]}]}],"place-content":[{"place-content":M()}],"place-items":[{"place-items":[...D(),"baseline"]}],"place-self":[{"place-self":["auto",...D()]}],p:[{p:A()}],px:[{px:A()}],py:[{py:A()}],ps:[{ps:A()}],pe:[{pe:A()}],pt:[{pt:A()}],pr:[{pr:A()}],pb:[{pb:A()}],pl:[{pl:A()}],m:[{m:ee()}],mx:[{mx:ee()}],my:[{my:ee()}],ms:[{ms:ee()}],me:[{me:ee()}],mt:[{mt:ee()}],mr:[{mr:ee()}],mb:[{mb:ee()}],ml:[{ml:ee()}],"space-x":[{"space-x":A()}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":A()}],"space-y-reverse":["space-y-reverse"],size:[{size:et()}],w:[{w:[a,"screen",...et()]}],"min-w":[{"min-w":[a,"screen","none",...et()]}],"max-w":[{"max-w":[a,"screen","none","prose",{screen:[o]},...et()]}],h:[{h:["screen","lh",...et()]}],"min-h":[{"min-h":["screen","lh","none",...et()]}],"max-h":[{"max-h":["screen","lh",...et()]}],"font-size":[{text:["base",r,K,Q]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:[n,W,z]}],"font-stretch":[{"font-stretch":["ultra-condensed","extra-condensed","condensed","semi-condensed","normal","semi-expanded","expanded","extra-expanded","ultra-expanded",P,$]}],"font-family":[{font:[G,$,t]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractions"],tracking:[{tracking:[s,W,$]}],"line-clamp":[{"line-clamp":[O,"none",W,z]}],leading:[{leading:[i,...A()]}],"list-image":[{"list-image":["none",W,$]}],"list-style-position":[{list:["inside","outside"]}],"list-style-type":[{list:["disc","decimal","none",W,$]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"placeholder-color":[{placeholder:er()}],"text-color":[{text:er()}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[...ec(),"wavy"]}],"text-decoration-thickness":[{decoration:[O,"from-font","auto",W,Q]}],"text-decoration-color":[{decoration:er()}],"underline-offset":[{"underline-offset":[O,"auto",W,$]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:A()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",W,$]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],wrap:[{wrap:["break-word","anywhere","normal"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",W,$]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:en()}],"bg-repeat":[{bg:es()}],"bg-size":[{bg:ei()}],"bg-image":[{bg:["none",{linear:[{to:["t","tr","r","br","b","bl","l","tl"]},I,W,$],radial:["",W,$],conic:[I,W,$]},X,B]}],"bg-color":[{bg:er()}],"gradient-from-pos":[{from:eo()}],"gradient-via-pos":[{via:eo()}],"gradient-to-pos":[{to:eo()}],"gradient-from":[{from:er()}],"gradient-via":[{via:er()}],"gradient-to":[{to:er()}],rounded:[{rounded:ea()}],"rounded-s":[{"rounded-s":ea()}],"rounded-e":[{"rounded-e":ea()}],"rounded-t":[{"rounded-t":ea()}],"rounded-r":[{"rounded-r":ea()}],"rounded-b":[{"rounded-b":ea()}],"rounded-l":[{"rounded-l":ea()}],"rounded-ss":[{"rounded-ss":ea()}],"rounded-se":[{"rounded-se":ea()}],"rounded-ee":[{"rounded-ee":ea()}],"rounded-es":[{"rounded-es":ea()}],"rounded-tl":[{"rounded-tl":ea()}],"rounded-tr":[{"rounded-tr":ea()}],"rounded-br":[{"rounded-br":ea()}],"rounded-bl":[{"rounded-bl":ea()}],"border-w":[{border:el()}],"border-w-x":[{"border-x":el()}],"border-w-y":[{"border-y":el()}],"border-w-s":[{"border-s":el()}],"border-w-e":[{"border-e":el()}],"border-w-t":[{"border-t":el()}],"border-w-r":[{"border-r":el()}],"border-w-b":[{"border-b":el()}],"border-w-l":[{"border-l":el()}],"divide-x":[{"divide-x":el()}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":el()}],"divide-y-reverse":["divide-y-reverse"],"border-style":[{border:[...ec(),"hidden","none"]}],"divide-style":[{divide:[...ec(),"hidden","none"]}],"border-color":[{border:er()}],"border-color-x":[{"border-x":er()}],"border-color-y":[{"border-y":er()}],"border-color-s":[{"border-s":er()}],"border-color-e":[{"border-e":er()}],"border-color-t":[{"border-t":er()}],"border-color-r":[{"border-r":er()}],"border-color-b":[{"border-b":er()}],"border-color-l":[{"border-l":er()}],"divide-color":[{divide:er()}],"outline-style":[{outline:[...ec(),"none","hidden"]}],"outline-offset":[{"outline-offset":[O,W,$]}],"outline-w":[{outline:["",O,K,Q]}],"outline-color":[{outline:er()}],shadow:[{shadow:["","none",u,Z,H]}],"shadow-color":[{shadow:er()}],"inset-shadow":[{"inset-shadow":["none",d,Z,H]}],"inset-shadow-color":[{"inset-shadow":er()}],"ring-w":[{ring:el()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:er()}],"ring-offset-w":[{"ring-offset":[O,Q]}],"ring-offset-color":[{"ring-offset":er()}],"inset-ring-w":[{"inset-ring":el()}],"inset-ring-color":[{"inset-ring":er()}],"text-shadow":[{"text-shadow":["none",h,Z,H]}],"text-shadow-color":[{"text-shadow":er()}],opacity:[{opacity:[O,W,$]}],"mix-blend":[{"mix-blend":[...eu(),"plus-darker","plus-lighter"]}],"bg-blend":[{"bg-blend":eu()}],"mask-clip":[{"mask-clip":["border","padding","content","fill","stroke","view"]},"mask-no-clip"],"mask-composite":[{mask:["add","subtract","intersect","exclude"]}],"mask-image-linear-pos":[{"mask-linear":[O]}],"mask-image-linear-from-pos":[{"mask-linear-from":ed()}],"mask-image-linear-to-pos":[{"mask-linear-to":ed()}],"mask-image-linear-from-color":[{"mask-linear-from":er()}],"mask-image-linear-to-color":[{"mask-linear-to":er()}],"mask-image-t-from-pos":[{"mask-t-from":ed()}],"mask-image-t-to-pos":[{"mask-t-to":ed()}],"mask-image-t-from-color":[{"mask-t-from":er()}],"mask-image-t-to-color":[{"mask-t-to":er()}],"mask-image-r-from-pos":[{"mask-r-from":ed()}],"mask-image-r-to-pos":[{"mask-r-to":ed()}],"mask-image-r-from-color":[{"mask-r-from":er()}],"mask-image-r-to-color":[{"mask-r-to":er()}],"mask-image-b-from-pos":[{"mask-b-from":ed()}],"mask-image-b-to-pos":[{"mask-b-to":ed()}],"mask-image-b-from-color":[{"mask-b-from":er()}],"mask-image-b-to-color":[{"mask-b-to":er()}],"mask-image-l-from-pos":[{"mask-l-from":ed()}],"mask-image-l-to-pos":[{"mask-l-to":ed()}],"mask-image-l-from-color":[{"mask-l-from":er()}],"mask-image-l-to-color":[{"mask-l-to":er()}],"mask-image-x-from-pos":[{"mask-x-from":ed()}],"mask-image-x-to-pos":[{"mask-x-to":ed()}],"mask-image-x-from-color":[{"mask-x-from":er()}],"mask-image-x-to-color":[{"mask-x-to":er()}],"mask-image-y-from-pos":[{"mask-y-from":ed()}],"mask-image-y-to-pos":[{"mask-y-to":ed()}],"mask-image-y-from-color":[{"mask-y-from":er()}],"mask-image-y-to-color":[{"mask-y-to":er()}],"mask-image-radial":[{"mask-radial":[W,$]}],"mask-image-radial-from-pos":[{"mask-radial-from":ed()}],"mask-image-radial-to-pos":[{"mask-radial-to":ed()}],"mask-image-radial-from-color":[{"mask-radial-from":er()}],"mask-image-radial-to-color":[{"mask-radial-to":er()}],"mask-image-radial-shape":[{"mask-radial":["circle","ellipse"]}],"mask-image-radial-size":[{"mask-radial":[{closest:["side","corner"],farthest:["side","corner"]}]}],"mask-image-radial-pos":[{"mask-radial-at":x()}],"mask-image-conic-pos":[{"mask-conic":[O]}],"mask-image-conic-from-pos":[{"mask-conic-from":ed()}],"mask-image-conic-to-pos":[{"mask-conic-to":ed()}],"mask-image-conic-from-color":[{"mask-conic-from":er()}],"mask-image-conic-to-color":[{"mask-conic-to":er()}],"mask-mode":[{mask:["alpha","luminance","match"]}],"mask-origin":[{"mask-origin":["border","padding","content","fill","stroke","view"]}],"mask-position":[{mask:en()}],"mask-repeat":[{mask:es()}],"mask-size":[{mask:ei()}],"mask-type":[{"mask-type":["alpha","luminance"]}],"mask-image":[{mask:["none",W,$]}],filter:[{filter:["","none",W,$]}],blur:[{blur:eh()}],brightness:[{brightness:[O,W,$]}],contrast:[{contrast:[O,W,$]}],"drop-shadow":[{"drop-shadow":["","none",f,Z,H]}],"drop-shadow-color":[{"drop-shadow":er()}],grayscale:[{grayscale:["",O,W,$]}],"hue-rotate":[{"hue-rotate":[O,W,$]}],invert:[{invert:["",O,W,$]}],saturate:[{saturate:[O,W,$]}],sepia:[{sepia:["",O,W,$]}],"backdrop-filter":[{"backdrop-filter":["","none",W,$]}],"backdrop-blur":[{"backdrop-blur":eh()}],"backdrop-brightness":[{"backdrop-brightness":[O,W,$]}],"backdrop-contrast":[{"backdrop-contrast":[O,W,$]}],"backdrop-grayscale":[{"backdrop-grayscale":["",O,W,$]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[O,W,$]}],"backdrop-invert":[{"backdrop-invert":["",O,W,$]}],"backdrop-opacity":[{"backdrop-opacity":[O,W,$]}],"backdrop-saturate":[{"backdrop-saturate":[O,W,$]}],"backdrop-sepia":[{"backdrop-sepia":["",O,W,$]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":A()}],"border-spacing-x":[{"border-spacing-x":A()}],"border-spacing-y":[{"border-spacing-y":A()}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["","all","colors","opacity","shadow","transform","none",W,$]}],"transition-behavior":[{transition:["normal","discrete"]}],duration:[{duration:[O,"initial",W,$]}],ease:[{ease:["linear","initial",y,W,$]}],delay:[{delay:[O,W,$]}],animate:[{animate:["none",v,W,$]}],backface:[{backface:["hidden","visible"]}],perspective:[{perspective:[m,W,$]}],"perspective-origin":[{"perspective-origin":k()}],rotate:[{rotate:ef()}],"rotate-x":[{"rotate-x":ef()}],"rotate-y":[{"rotate-y":ef()}],"rotate-z":[{"rotate-z":ef()}],scale:[{scale:ep()}],"scale-x":[{"scale-x":ep()}],"scale-y":[{"scale-y":ep()}],"scale-z":[{"scale-z":ep()}],"scale-3d":["scale-3d"],skew:[{skew:em()}],"skew-x":[{"skew-x":em()}],"skew-y":[{"skew-y":em()}],transform:[{transform:[W,$,"","none","gpu","cpu"]}],"transform-origin":[{origin:k()}],"transform-style":[{transform:["3d","flat"]}],translate:[{translate:eg()}],"translate-x":[{"translate-x":eg()}],"translate-y":[{"translate-y":eg()}],"translate-z":[{"translate-z":eg()}],"translate-none":["translate-none"],accent:[{accent:er()}],appearance:[{appearance:["none","auto"]}],"caret-color":[{caret:er()}],"color-scheme":[{scheme:["normal","dark","light","light-dark","only-dark","only-light"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",W,$]}],"field-sizing":[{"field-sizing":["fixed","content"]}],"pointer-events":[{"pointer-events":["auto","none"]}],resize:[{resize:["none","","y","x"]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":A()}],"scroll-mx":[{"scroll-mx":A()}],"scroll-my":[{"scroll-my":A()}],"scroll-ms":[{"scroll-ms":A()}],"scroll-me":[{"scroll-me":A()}],"scroll-mt":[{"scroll-mt":A()}],"scroll-mr":[{"scroll-mr":A()}],"scroll-mb":[{"scroll-mb":A()}],"scroll-ml":[{"scroll-ml":A()}],"scroll-p":[{"scroll-p":A()}],"scroll-px":[{"scroll-px":A()}],"scroll-py":[{"scroll-py":A()}],"scroll-ps":[{"scroll-ps":A()}],"scroll-pe":[{"scroll-pe":A()}],"scroll-pt":[{"scroll-pt":A()}],"scroll-pr":[{"scroll-pr":A()}],"scroll-pb":[{"scroll-pb":A()}],"scroll-pl":[{"scroll-pl":A()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",W,$]}],fill:[{fill:["none",...er()]}],"stroke-w":[{stroke:[O,K,Q,z]}],stroke:[{stroke:["none",...er()]}],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-x","border-w-y","border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-x","border-color-y","border-color-s","border-color-e","border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],translate:["translate-x","translate-y","translate-none"],"translate-none":["translate","translate-x","translate-y","translate-z"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]},orderSensitiveModifiers:["*","**","after","backdrop","before","details-content","file","first-letter","first-line","marker","placeholder","selection"]}});function eu(){for(var e=arguments.length,t=Array(e),r=0;r<e;r++)t[r]=arguments[r];return ec((0,n.$)(t))}},37149:(e,t,r)=>{"use strict";r.d(t,{Cp:()=>m,EN:()=>p,Eh:()=>u,F$:()=>f,GU:()=>E,MK:()=>d,S$:()=>s,ZM:()=>_,ZZ:()=>C,Zw:()=>o,d2:()=>c,f8:()=>y,gn:()=>a,hT:()=>A,j3:()=>l,lQ:()=>i,nJ:()=>h,pl:()=>k,y9:()=>S,yy:()=>x});var n=r(48306),s="undefined"==typeof window||"Deno"in globalThis;function i(){}function o(e,t){return"function"==typeof e?e(t):e}function a(e){return"number"==typeof e&&e>=0&&e!==1/0}function l(e,t){return Math.max(e+(t||0)-Date.now(),0)}function c(e,t){return"function"==typeof e?e(t):e}function u(e,t){return"function"==typeof e?e(t):e}function d(e,t){let{type:r="all",exact:n,fetchStatus:s,predicate:i,queryKey:o,stale:a}=e;if(o){if(n){if(t.queryHash!==f(o,t.options))return!1}else if(!m(t.queryKey,o))return!1}if("all"!==r){let e=t.isActive();if("active"===r&&!e||"inactive"===r&&e)return!1}return("boolean"!=typeof a||t.isStale()===a)&&(!s||s===t.state.fetchStatus)&&(!i||!!i(t))}function h(e,t){let{exact:r,status:n,predicate:s,mutationKey:i}=e;if(i){if(!t.options.mutationKey)return!1;if(r){if(p(t.options.mutationKey)!==p(i))return!1}else if(!m(t.options.mutationKey,i))return!1}return(!n||t.state.status===n)&&(!s||!!s(t))}function f(e,t){return(t?.queryKeyHashFn||p)(e)}function p(e){return JSON.stringify(e,(e,t)=>b(t)?Object.keys(t).sort().reduce((e,r)=>(e[r]=t[r],e),{}):t)}function m(e,t){return e===t||typeof e==typeof t&&!!e&&!!t&&"object"==typeof e&&"object"==typeof t&&Object.keys(t).every(r=>m(e[r],t[r]))}var g=Object.prototype.hasOwnProperty;function y(e,t){if(!t||Object.keys(e).length!==Object.keys(t).length)return!1;for(let r in e)if(e[r]!==t[r])return!1;return!0}function v(e){return Array.isArray(e)&&e.length===Object.keys(e).length}function b(e){if(!w(e))return!1;let t=e.constructor;if(void 0===t)return!0;let r=t.prototype;return!!w(r)&&!!r.hasOwnProperty("isPrototypeOf")&&Object.getPrototypeOf(e)===Object.prototype}function w(e){return"[object Object]"===Object.prototype.toString.call(e)}function x(e){return new Promise(t=>{n.zs.setTimeout(t,e)})}function k(e,t,r){return"function"==typeof r.structuralSharing?r.structuralSharing(e,t):!1!==r.structuralSharing?function e(t,r){if(t===r)return t;let n=v(t)&&v(r);if(!n&&!(b(t)&&b(r)))return r;let s=(n?t:Object.keys(t)).length,i=n?r:Object.keys(r),o=i.length,a=n?Array(o):{},l=0;for(let c=0;c<o;c++){let o=n?c:i[c],u=t[o],d=r[o];if(u===d){a[o]=u,(n?c<s:g.call(t,o))&&l++;continue}if(null===u||null===d||"object"!=typeof u||"object"!=typeof d){a[o]=d;continue}let h=e(u,d);a[o]=h,h===u&&l++}return s===o&&l===s?t:a}(e,t):t}function S(e,t,r=0){let n=[...e,t];return r&&n.length>r?n.slice(1):n}function C(e,t,r=0){let n=[t,...e];return r&&n.length>r?n.slice(0,-1):n}var A=Symbol();function _(e,t){return!e.queryFn&&t?.initialPromise?()=>t.initialPromise:e.queryFn&&e.queryFn!==A?e.queryFn:()=>Promise.reject(Error(`Missing queryFn: '${e.queryHash}'`))}function E(e,t){return"function"==typeof e?e(...t):!!e}},37601:(e,t)=>{"use strict";function r(e){return Array.isArray(e)?e[1]:e}Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"getSegmentValue",{enumerable:!0,get:function(){return r}}),("function"==typeof t.default||"object"==typeof t.default&&null!==t.default)&&void 0===t.default.__esModule&&(Object.defineProperty(t.default,"__esModule",{value:!0}),Object.assign(t.default,t),e.exports=t.default)},39324:(e,t,r)=>{console.warn(' \x1b[33m\x1b[1m\x1b[22m\x1b[39m Runtime config is deprecated and will be removed in Next.js 16. Please remove the usage of "next/config" from your project.'),e.exports=r(92607)},40325:e=>{e.exports={style:{fontFamily:"'Inter', 'Inter Fallback'",fontStyle:"normal"},className:"__className_b9c7ce",variable:"__variable_b9c7ce"}},41518:(e,t,r)=>{"use strict";r.d(t,{C5:()=>i,Ib:()=>a,dO:()=>l,n2:()=>o,q5:()=>n});let n=e=>{switch(e){case"active":return"active";case"trialing":return"trialing";case"past_due":return"grace_period";case"canceled":case"cancelled":return"cancelled";default:return"inactive"}},s=e=>{let t=e.getFullYear(),r=String(e.getMonth()+1).padStart(2,"0"),n=String(e.getDate()).padStart(2,"0"),s=String(e.getHours()).padStart(2,"0"),i=String(e.getMinutes()).padStart(2,"0"),o=String(e.getSeconds()).padStart(2,"0");return"".concat(t,"-").concat(r,"-").concat(n," ").concat(s,":").concat(i,":").concat(o)},i=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:30,t=new Date,r=new Date;r.setDate(r.getDate()-e);let n=new Date;return t>n&&t.setTime(n.getTime()),r>n&&r.setTime(n.getTime()-24*e*36e5),{startDate:s(r),endDate:s(t)}},o=e=>{var t,r;return(null==e?void 0:e.subscription)||(null==e||null==(t=e.data)?void 0:t.subscription)||(null==e||null==(r=e.response)?void 0:r.subscription)||e||null},a=e=>(null==e?void 0:e.response)?{users:e.response.users||[],agency:e.response.agency||{},isOwner:e.response.isOwner||!1,isManager:e.response.isManager||!1}:(null==e?void 0:e.agency)?{users:e.users||[],agency:e.agency||{},isOwner:e.isOwner||!1,isManager:e.isManager||!1}:null,l=(e,t)=>{var r,s,i;let o=n(null==t?void 0:t.status),a=(e=>{var t,r;if(!e)return 5;if(e.items&&Array.isArray(e.items)){let t=e.items.find(e=>{var t;return(null==(t=e.price)?void 0:t.unitAmount)===999});if(null==t?void 0:t.quantity)return 5+t.quantity}return null!=(r=null!=(t=null==e?void 0:e.seats)?t:null==e?void 0:e.quantity)?r:5})(t),l=null!=(i=null!=(s=null!=(r=null==t?void 0:t.used_seats)?r:e.usedSeats)?s:e.used_seats)?i:0;return{...e,subscription_status:o,totalSeats:e.totalSeats||a,usedSeats:l,availableSeats:a-l,total_seats:e.totalSeats||a,used_seats:l,subscription:t}}},41907:(e,t,r)=>{"use strict";r.d(t,{qW:()=>f});var n,s=r(14232),i=r(33716),o=r(57797),a=r(10714),l=r(62146),c=r(92216),u=r(37876),d="dismissableLayer.update",h=s.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),f=s.forwardRef((e,t)=>{let{disableOutsidePointerEvents:r=!1,onEscapeKeyDown:f,onPointerDownOutside:g,onFocusOutside:y,onInteractOutside:v,onDismiss:b,...w}=e,x=s.useContext(h),[k,S]=s.useState(null),C=k?.ownerDocument??globalThis?.document,[,A]=s.useState({}),_=(0,a.s)(t,e=>S(e)),E=Array.from(x.layers),[T]=[...x.layersWithOutsidePointerEventsDisabled].slice(-1),R=E.indexOf(T),O=k?E.indexOf(k):-1,I=x.layersWithOutsidePointerEventsDisabled.size>0,P=O>=R,j=function(e,t=globalThis?.document){let r=(0,l.c)(e),n=s.useRef(!1),i=s.useRef(()=>{});return s.useEffect(()=>{let e=e=>{if(e.target&&!n.current){let n=function(){m("dismissableLayer.pointerDownOutside",r,s,{discrete:!0})},s={originalEvent:e};"touch"===e.pointerType?(t.removeEventListener("click",i.current),i.current=n,t.addEventListener("click",i.current,{once:!0})):n()}else t.removeEventListener("click",i.current);n.current=!1},s=window.setTimeout(()=>{t.addEventListener("pointerdown",e)},0);return()=>{window.clearTimeout(s),t.removeEventListener("pointerdown",e),t.removeEventListener("click",i.current)}},[t,r]),{onPointerDownCapture:()=>n.current=!0}}(e=>{let t=e.target,r=[...x.branches].some(e=>e.contains(t));P&&!r&&(g?.(e),v?.(e),e.defaultPrevented||b?.())},C),q=function(e,t=globalThis?.document){let r=(0,l.c)(e),n=s.useRef(!1);return s.useEffect(()=>{let e=e=>{e.target&&!n.current&&m("dismissableLayer.focusOutside",r,{originalEvent:e},{discrete:!1})};return t.addEventListener("focusin",e),()=>t.removeEventListener("focusin",e)},[t,r]),{onFocusCapture:()=>n.current=!0,onBlurCapture:()=>n.current=!1}}(e=>{let t=e.target;![...x.branches].some(e=>e.contains(t))&&(y?.(e),v?.(e),e.defaultPrevented||b?.())},C);return(0,c.U)(e=>{O===x.layers.size-1&&(f?.(e),!e.defaultPrevented&&b&&(e.preventDefault(),b()))},C),s.useEffect(()=>{if(k)return r&&(0===x.layersWithOutsidePointerEventsDisabled.size&&(n=C.body.style.pointerEvents,C.body.style.pointerEvents="none"),x.layersWithOutsidePointerEventsDisabled.add(k)),x.layers.add(k),p(),()=>{r&&1===x.layersWithOutsidePointerEventsDisabled.size&&(C.body.style.pointerEvents=n)}},[k,C,r,x]),s.useEffect(()=>()=>{k&&(x.layers.delete(k),x.layersWithOutsidePointerEventsDisabled.delete(k),p())},[k,x]),s.useEffect(()=>{let e=()=>A({});return document.addEventListener(d,e),()=>document.removeEventListener(d,e)},[]),(0,u.jsx)(o.sG.div,{...w,ref:_,style:{pointerEvents:I?P?"auto":"none":void 0,...e.style},onFocusCapture:(0,i.mK)(e.onFocusCapture,q.onFocusCapture),onBlurCapture:(0,i.mK)(e.onBlurCapture,q.onBlurCapture),onPointerDownCapture:(0,i.mK)(e.onPointerDownCapture,j.onPointerDownCapture)})});function p(){let e=new CustomEvent(d);document.dispatchEvent(e)}function m(e,t,r,{discrete:n}){let s=r.originalEvent.target,i=new CustomEvent(e,{bubbles:!1,cancelable:!0,detail:r});t&&s.addEventListener(e,t,{once:!0}),n?(0,o.hO)(s,i):s.dispatchEvent(i)}f.displayName="DismissableLayer",s.forwardRef((e,t)=>{let r=s.useContext(h),n=s.useRef(null),i=(0,a.s)(t,n);return s.useEffect(()=>{let e=n.current;if(e)return r.branches.add(e),()=>{r.branches.delete(e)}},[r.branches]),(0,u.jsx)(o.sG.div,{...e,ref:i})}).displayName="DismissableLayerBranch"},42155:(e,t,r)=>{"use strict";r.d(t,{$R:()=>d,BR:()=>_,Bj:()=>E,Cr:()=>h,DD:()=>R,E$:()=>c,Gz:()=>w,IH:()=>k,Lz:()=>f,O$:()=>g,QB:()=>m,SD:()=>q,Vc:()=>S,WM:()=>A,ZO:()=>x,a8:()=>u,al:()=>v,dR:()=>y,ih:()=>I,kK:()=>N,lX:()=>P,mv:()=>M,nt:()=>C,oi:()=>j,pp:()=>b,tw:()=>D,vc:()=>T,wC:()=>O,xB:()=>L,xM:()=>p});var n=r(78567),s=r(45261),i=r(13167),o=r(54040);let a=n.A.config.apiEndpoints.user,l=n.A.config.apiEndpoints.engagement,c=async function(e,t){let r=!(arguments.length>2)||void 0===arguments[2]||arguments[2],n=arguments.length>3?arguments[3]:void 0,i="".concat(a,"/user/api/v1/profile/detail?username=").concat(e);return new Promise((e,a)=>{let l={ip:s.A.hashIpHeader(t),...n?{"x-manage-user-id":n}:{}};(0,o.HU)(i,l,r).then(t=>{e((null==t?void 0:t.response)||null)})})},u=async function(e,t){let r=arguments.length>2&&void 0!==arguments[2]&&arguments[2],n=null;if("string"==typeof e||"number"==typeof e){let t=String(e);t&&(n="webLinkId=".concat(encodeURIComponent(t)))}else if(e&&"object"==typeof e){let{webLinkId:t,profileLinkId:r}=e;null!=t?n="webLinkId=".concat(encodeURIComponent(String(t))):null!=r&&(n="profileLinkId=".concat(encodeURIComponent(String(r))))}if(!n)return Promise.reject(Error("getLinkValue requires a webLinkId or profileLinkId"));let i="".concat(a,"/user/api/v1/profile/linkValue?").concat(n);return new Promise((e,n)=>{let a={ip:s.A.hashIpHeader(t)};(0,o.HU)(i,a,r).then(t=>{e((null==t?void 0:t.response)||null)})})},d=async(e,t)=>{let r="".concat(a,"/user/api/v1/images/list?page=1&limit=30&userId=").concat(e),n=t?{"x-manage-user-id":t}:{};return new Promise((e,s)=>{(0,o.HU)(r,n,!!t).then(t=>{e((null==t?void 0:t.response)||null)})})},h=async(e,t,r)=>{let n="".concat(a,"/user/api/v2/profile/profileWebLinks?userId=").concat(e,"&limit=20&page=").concat(t),s=r?{"x-manage-user-id":r}:{};return new Promise(e=>{(0,o.HU)(n,s,!!r).then(t=>{var r;let n=null==t?void 0:t.response;if(!n||"object"!=typeof n)return void e(null);let s=null!=(r=n.meta)?r:{},o=Array.isArray(n.list)?n.list:[];e({meta:s,list:(0,i.B9)(o)})})})},f=async(e,t)=>{let r="".concat(l,"/engagement/api/v2/shout/user?page=1&limit=3&userId=").concat(e,"&type=all"),n=t?{"x-manage-user-id":t}:{};return new Promise((e,s)=>{(0,o.HU)(r,n,!!t).then(t=>{e((null==t?void 0:t.response)||null)})})},p=async(e,t)=>{let r="".concat(l,"/engagement/api/v2/shout/user?page=1&limit=6&userId=").concat(e,"&type=media"),n=t?{"x-manage-user-id":t}:{};return new Promise((e,s)=>{(0,o.HU)(r,n,!!t).then(t=>{e((null==t?void 0:t.response)||null)})})},m=async(e,t)=>(0,o.iD)("".concat(a,"/user/api/v1/profile/pixels"),{pixels:e},t?{"x-manage-user-id":t}:{}),g=async e=>{let t="".concat(a,"/user/api/v1/link/social").concat(e);return new Promise((e,r)=>{(0,o.HU)(t,{}).then(t=>{e((null==t?void 0:t.response)||null)})})},y=async e=>{let{userId:t,name:r,email:n,phone:i,notes:l,files:c,platform:u,platformUsername:d}=e,h="".concat(a,"/user/api/v1/shareInfo/save");return new Promise((e,a)=>{let f=new FormData;f.append("userId",t),r&&f.append("name",r),n&&f.append("email",n),i&&f.append("phone",i),l&&f.append("notes",l),u&&f.append("platform",u),d&&f.append("platformUsername",d),c&&c.forEach(e=>{f.append("image[]",e)});let p={"x-forwarded-for":s.A.getStoredIp()};(0,o.rU)(h,f,p).then(t=>{e((null==t?void 0:t.response)||null)})})},v=async(e,t)=>{let r="".concat(a,"/user/api/v1/shareInfo/unsubscribe");return new Promise((n,s)=>{(0,o.JM)(r,{unsubscribeToken:e,unsubscribe:t}).then(e=>{n((null==e?void 0:e.data)||null)})})},b=async e=>{let t="".concat(a,"/user/api/v1/shareInfo/subscriptionToken?unsubscribeToken=").concat(e);return new Promise((e,r)=>{(0,o.HU)(t,{}).then(t=>{e((null==t?void 0:t.data)||null)})})},w=async(e,t)=>{let r="".concat(a,"/user/api/v1/referral/link?userId=").concat(e),n=t?{"x-manage-user-id":t}:{};return new Promise((e,s)=>{(0,o.HU)(r,n,!!t).then(t=>{e((null==t?void 0:t.response)||null)})})},x=async(e,t)=>{let r=e?"".concat(a,"/user/api/v1/shop/categories/products?userId=").concat(e):"".concat(a,"/user/api/v1/shop/categories/products"),n=t?{"x-manage-user-id":t}:{};return new Promise((e,t)=>{(0,o.HU)(r,n).then(t=>{e((null==t?void 0:t.response)||null)})})},k=async(e,t,r,n,s)=>{let i="".concat(a,"/user/api/v1/shop/product?page=").concat(t,"&userId=").concat(e,"&limit=").concat(r,"&categoryId=").concat(n),l=s?{"x-manage-user-id":s}:{};return new Promise((e,t)=>{(0,o.HU)(i,l,!!s).then(t=>{e((null==t?void 0:t.response)||null)})})},S=async(e,t)=>{let r=e?"".concat(a,"/user/api/v1/shop/categories/count?userId=").concat(e):"".concat(a,"/user/api/v1/shop/categories/count"),n=t?{"x-manage-user-id":t}:{};return new Promise((e,t)=>{(0,o.HU)(r,n).then(t=>{e((null==t?void 0:t.response)||null)})})},C=async(e,t)=>{let r="".concat(a,"/user/api/v1/shop/category?id=").concat(e),n=t?{"x-manage-user-id":t}:{};return new Promise((e,t)=>{(0,o.uz)(r,{},n).then(t=>{e((null==t?void 0:t.response)||null)})})},A=async(e,t)=>{let r="".concat(a,"/user/api/v1/shop/category/hide"),n=t?{"x-manage-user-id":t}:{};return new Promise((t,s)=>{(0,o.JM)(r,e,n).then(e=>{t((null==e?void 0:e.response)||null)})})},_=async(e,t)=>{let r="".concat(a,"/user/api/v1/shop/category"),n=t?{"x-manage-user-id":t}:{};return new Promise((t,s)=>{(0,o.JM)(r,e,n).then(e=>{t((null==e?void 0:e.response)||null)})})},E=async(e,t)=>{let r="".concat(a,"/user/api/v1/shop/product"),n=t?{"x-manage-user-id":t}:{};return new Promise((t,s)=>{(0,o.rU)(r,e,n).then(e=>{t((null==e?void 0:e.response)||null)})})},T=async(e,t)=>{let r="".concat(a,"/user/api/v1/shop/product"),n=t?{"x-manage-user-id":t}:{};return new Promise((t,s)=>{(0,o.JM)(r,e,n).then(e=>{t((null==e?void 0:e.response)||null)})})},R=async(e,t)=>{let r="".concat(a,"/user/api/v1/shop/product?id=").concat(e),n=t?{"x-manage-user-id":t}:{};return new Promise((e,t)=>{(0,o.uz)(r,{},n).then(t=>{e((null==t?void 0:t.response)||null)})})},O=async(e,t)=>{let r="".concat(a,"/user/api/v1/profile/link/group/save"),n=t?{"x-manage-user-id":t}:{};return new Promise((t,s)=>{(0,o.rU)(r,e,n).then(e=>{t((null==e?void 0:e.response)||null)})})},I=async()=>{let e="".concat(a,"/user/api/v2/profile/platforms/music");return new Promise((t,r)=>{(0,o.HU)(e).then(e=>{t((null==e?void 0:e.response)||null)})})},P=async(e,t)=>{let r="".concat(a,"/user/api/v1/shop/category/reorder"),n=t?{"x-manage-user-id":t}:{};return new Promise((t,s)=>{(0,o.JM)(r,e,n).then(e=>{t((null==e?void 0:e.response)||null)})})},j=async(e,t)=>{let r="".concat(a,"/user/api/v1/business/contact");return new Promise((n,s)=>{(0,o.rU)(r,e,{captchaToken:t}).then(e=>{n((null==e?void 0:e.response)||null)})})},q=async()=>{let e="".concat(a,"/user/api/v1/interest/static");return new Promise((t,r)=>{(0,o.HU)(e,{},!0).then(e=>{t((null==e?void 0:e.response)||null)})})},L=async e=>{let t="".concat(a,"/user/api/v1/interest/save");return new Promise((r,n)=>{(0,o.rU)(t,{ids:e}).then(e=>{r((null==e?void 0:e.response)||null)})})},N=async()=>{let e="".concat(a,"/user/api/v1/shareInfo/getAll");return new Promise((t,r)=>{(0,o.HU)(e,{}).then(e=>{t(e||null)})})},M=async()=>{let e="".concat(a,"/user/api/v1/shareInfo/stats");return new Promise((t,r)=>{(0,o.HU)(e,{}).then(e=>{t(e||null)})})},D=async(e,t)=>{let r="".concat(a,"/user/api/v1/shareInfo/customMailForm"),n=t?{"x-manage-user-id":t}:{};return new Promise((t,s)=>{(0,o.JM)(r,e,n).then(e=>{t(e||null)})})}},43939:(e,t,r)=>{"use strict";r.d(t,{l:()=>R,o:()=>q});var n=r(37876),s=r(14232),i=r(98477);let o=Array(12).fill(0),a=({visible:e,className:t})=>s.createElement("div",{className:["sonner-loading-wrapper",t].filter(Boolean).join(" "),"data-visible":e},s.createElement("div",{className:"sonner-spinner"},o.map((e,t)=>s.createElement("div",{className:"sonner-loading-bar",key:`spinner-bar-${t}`})))),l=s.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},s.createElement("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm3.857-9.809a.75.75 0 00-1.214-.882l-3.483 4.79-1.88-1.88a.75.75 0 10-1.06 1.061l2.5 2.5a.75.75 0 001.137-.089l4-5.5z",clipRule:"evenodd"})),c=s.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",height:"20",width:"20"},s.createElement("path",{fillRule:"evenodd",d:"M9.401 3.003c1.155-2 4.043-2 5.197 0l7.355 12.748c1.154 2-.29 4.5-2.599 4.5H4.645c-2.309 0-3.752-2.5-2.598-4.5L9.4 3.003zM12 8.25a.75.75 0 01.75.75v3.75a.75.75 0 01-1.5 0V9a.75.75 0 01.75-.75zm0 8.25a.75.75 0 100-1.5.75.75 0 000 1.5z",clipRule:"evenodd"})),u=s.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},s.createElement("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7-4a1 1 0 11-2 0 1 1 0 012 0zM9 9a.75.75 0 000 1.5h.253a.25.25 0 01.244.304l-.459 2.066A1.75 1.75 0 0010.747 15H11a.75.75 0 000-1.5h-.253a.25.25 0 01-.244-.304l.459-2.066A1.75 1.75 0 009.253 9H9z",clipRule:"evenodd"})),d=s.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},s.createElement("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-8-5a.75.75 0 01.75.75v4.5a.75.75 0 01-1.5 0v-4.5A.75.75 0 0110 5zm0 10a1 1 0 100-2 1 1 0 000 2z",clipRule:"evenodd"})),h=s.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"12",height:"12",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"},s.createElement("line",{x1:"18",y1:"6",x2:"6",y2:"18"}),s.createElement("line",{x1:"6",y1:"6",x2:"18",y2:"18"})),f=1;class p{constructor(){this.subscribe=e=>(this.subscribers.push(e),()=>{let t=this.subscribers.indexOf(e);this.subscribers.splice(t,1)}),this.publish=e=>{this.subscribers.forEach(t=>t(e))},this.addToast=e=>{this.publish(e),this.toasts=[...this.toasts,e]},this.create=e=>{var t;let{message:r,...n}=e,s="number"==typeof(null==e?void 0:e.id)||(null==(t=e.id)?void 0:t.length)>0?e.id:f++,i=this.toasts.find(e=>e.id===s),o=void 0===e.dismissible||e.dismissible;return this.dismissedToasts.has(s)&&this.dismissedToasts.delete(s),i?this.toasts=this.toasts.map(t=>t.id===s?(this.publish({...t,...e,id:s,title:r}),{...t,...e,id:s,dismissible:o,title:r}):t):this.addToast({title:r,...n,dismissible:o,id:s}),s},this.dismiss=e=>(e?(this.dismissedToasts.add(e),requestAnimationFrame(()=>this.subscribers.forEach(t=>t({id:e,dismiss:!0})))):this.toasts.forEach(e=>{this.subscribers.forEach(t=>t({id:e.id,dismiss:!0}))}),e),this.message=(e,t)=>this.create({...t,message:e}),this.error=(e,t)=>this.create({...t,message:e,type:"error"}),this.success=(e,t)=>this.create({...t,type:"success",message:e}),this.info=(e,t)=>this.create({...t,type:"info",message:e}),this.warning=(e,t)=>this.create({...t,type:"warning",message:e}),this.loading=(e,t)=>this.create({...t,type:"loading",message:e}),this.promise=(e,t)=>{let r,n;if(!t)return;void 0!==t.loading&&(n=this.create({...t,promise:e,type:"loading",message:t.loading,description:"function"!=typeof t.description?t.description:void 0}));let i=Promise.resolve(e instanceof Function?e():e),o=void 0!==n,a=i.then(async e=>{if(r=["resolve",e],s.isValidElement(e))o=!1,this.create({id:n,type:"default",message:e});else if(g(e)&&!e.ok){o=!1;let r="function"==typeof t.error?await t.error(`HTTP error! status: ${e.status}`):t.error,i="function"==typeof t.description?await t.description(`HTTP error! status: ${e.status}`):t.description,a="object"!=typeof r||s.isValidElement(r)?{message:r}:r;this.create({id:n,type:"error",description:i,...a})}else if(e instanceof Error){o=!1;let r="function"==typeof t.error?await t.error(e):t.error,i="function"==typeof t.description?await t.description(e):t.description,a="object"!=typeof r||s.isValidElement(r)?{message:r}:r;this.create({id:n,type:"error",description:i,...a})}else if(void 0!==t.success){o=!1;let r="function"==typeof t.success?await t.success(e):t.success,i="function"==typeof t.description?await t.description(e):t.description,a="object"!=typeof r||s.isValidElement(r)?{message:r}:r;this.create({id:n,type:"success",description:i,...a})}}).catch(async e=>{if(r=["reject",e],void 0!==t.error){o=!1;let r="function"==typeof t.error?await t.error(e):t.error,i="function"==typeof t.description?await t.description(e):t.description,a="object"!=typeof r||s.isValidElement(r)?{message:r}:r;this.create({id:n,type:"error",description:i,...a})}}).finally(()=>{o&&(this.dismiss(n),n=void 0),null==t.finally||t.finally.call(t)}),l=()=>new Promise((e,t)=>a.then(()=>"reject"===r[0]?t(r[1]):e(r[1])).catch(t));return"string"!=typeof n&&"number"!=typeof n?{unwrap:l}:Object.assign(n,{unwrap:l})},this.custom=(e,t)=>{let r=(null==t?void 0:t.id)||f++;return this.create({jsx:e(r),id:r,...t}),r},this.getActiveToasts=()=>this.toasts.filter(e=>!this.dismissedToasts.has(e.id)),this.subscribers=[],this.toasts=[],this.dismissedToasts=new Set}}let m=new p,g=e=>e&&"object"==typeof e&&"ok"in e&&"boolean"==typeof e.ok&&"status"in e&&"number"==typeof e.status,y=Object.assign((e,t)=>{let r=(null==t?void 0:t.id)||f++;return m.addToast({title:e,...t,id:r}),r},{success:m.success,info:m.info,warning:m.warning,error:m.error,custom:m.custom,message:m.message,promise:m.promise,dismiss:m.dismiss,loading:m.loading},{getHistory:()=>m.toasts,getToasts:()=>m.getActiveToasts()});function v(e){return void 0!==e.label}function b(...e){return e.filter(Boolean).join(" ")}!function(e){if(!e||"undefined"==typeof document)return;let t=document.head||document.getElementsByTagName("head")[0],r=document.createElement("style");r.type="text/css",t.appendChild(r),r.styleSheet?r.styleSheet.cssText=e:r.appendChild(document.createTextNode(e))}("[data-sonner-toaster][dir=ltr],html[dir=ltr]{--toast-icon-margin-start:-3px;--toast-icon-margin-end:4px;--toast-svg-margin-start:-1px;--toast-svg-margin-end:0px;--toast-button-margin-start:auto;--toast-button-margin-end:0;--toast-close-button-start:0;--toast-close-button-end:unset;--toast-close-button-transform:translate(-35%, -35%)}[data-sonner-toaster][dir=rtl],html[dir=rtl]{--toast-icon-margin-start:4px;--toast-icon-margin-end:-3px;--toast-svg-margin-start:0px;--toast-svg-margin-end:-1px;--toast-button-margin-start:0;--toast-button-margin-end:auto;--toast-close-button-start:unset;--toast-close-button-end:0;--toast-close-button-transform:translate(35%, -35%)}[data-sonner-toaster]{position:fixed;width:var(--width);font-family:ui-sans-serif,system-ui,-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Helvetica Neue,Arial,Noto Sans,sans-serif,Apple Color Emoji,Segoe UI Emoji,Segoe UI Symbol,Noto Color Emoji;--gray1:hsl(0, 0%, 99%);--gray2:hsl(0, 0%, 97.3%);--gray3:hsl(0, 0%, 95.1%);--gray4:hsl(0, 0%, 93%);--gray5:hsl(0, 0%, 90.9%);--gray6:hsl(0, 0%, 88.7%);--gray7:hsl(0, 0%, 85.8%);--gray8:hsl(0, 0%, 78%);--gray9:hsl(0, 0%, 56.1%);--gray10:hsl(0, 0%, 52.3%);--gray11:hsl(0, 0%, 43.5%);--gray12:hsl(0, 0%, 9%);--border-radius:8px;box-sizing:border-box;padding:0;margin:0;list-style:none;outline:0;z-index:999999999;transition:transform .4s ease}@media (hover:none) and (pointer:coarse){[data-sonner-toaster][data-lifted=true]{transform:none}}[data-sonner-toaster][data-x-position=right]{right:var(--offset-right)}[data-sonner-toaster][data-x-position=left]{left:var(--offset-left)}[data-sonner-toaster][data-x-position=center]{left:50%;transform:translateX(-50%)}[data-sonner-toaster][data-y-position=top]{top:var(--offset-top)}[data-sonner-toaster][data-y-position=bottom]{bottom:var(--offset-bottom)}[data-sonner-toast]{--y:translateY(100%);--lift-amount:calc(var(--lift) * var(--gap));z-index:var(--z-index);position:absolute;opacity:0;transform:var(--y);touch-action:none;transition:transform .4s,opacity .4s,height .4s,box-shadow .2s;box-sizing:border-box;outline:0;overflow-wrap:anywhere}[data-sonner-toast][data-styled=true]{padding:16px;background:var(--normal-bg);border:1px solid var(--normal-border);color:var(--normal-text);border-radius:var(--border-radius);box-shadow:0 4px 12px rgba(0,0,0,.1);width:var(--width);font-size:13px;display:flex;align-items:center;gap:6px}[data-sonner-toast]:focus-visible{box-shadow:0 4px 12px rgba(0,0,0,.1),0 0 0 2px rgba(0,0,0,.2)}[data-sonner-toast][data-y-position=top]{top:0;--y:translateY(-100%);--lift:1;--lift-amount:calc(1 * var(--gap))}[data-sonner-toast][data-y-position=bottom]{bottom:0;--y:translateY(100%);--lift:-1;--lift-amount:calc(var(--lift) * var(--gap))}[data-sonner-toast][data-styled=true] [data-description]{font-weight:400;line-height:1.4;color:#3f3f3f}[data-rich-colors=true][data-sonner-toast][data-styled=true] [data-description]{color:inherit}[data-sonner-toaster][data-sonner-theme=dark] [data-description]{color:#e8e8e8}[data-sonner-toast][data-styled=true] [data-title]{font-weight:500;line-height:1.5;color:inherit}[data-sonner-toast][data-styled=true] [data-icon]{display:flex;height:16px;width:16px;position:relative;justify-content:flex-start;align-items:center;flex-shrink:0;margin-left:var(--toast-icon-margin-start);margin-right:var(--toast-icon-margin-end)}[data-sonner-toast][data-promise=true] [data-icon]>svg{opacity:0;transform:scale(.8);transform-origin:center;animation:sonner-fade-in .3s ease forwards}[data-sonner-toast][data-styled=true] [data-icon]>*{flex-shrink:0}[data-sonner-toast][data-styled=true] [data-icon] svg{margin-left:var(--toast-svg-margin-start);margin-right:var(--toast-svg-margin-end)}[data-sonner-toast][data-styled=true] [data-content]{display:flex;flex-direction:column;gap:2px}[data-sonner-toast][data-styled=true] [data-button]{border-radius:4px;padding-left:8px;padding-right:8px;height:24px;font-size:12px;color:var(--normal-bg);background:var(--normal-text);margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end);border:none;font-weight:500;cursor:pointer;outline:0;display:flex;align-items:center;flex-shrink:0;transition:opacity .4s,box-shadow .2s}[data-sonner-toast][data-styled=true] [data-button]:focus-visible{box-shadow:0 0 0 2px rgba(0,0,0,.4)}[data-sonner-toast][data-styled=true] [data-button]:first-of-type{margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end)}[data-sonner-toast][data-styled=true] [data-cancel]{color:var(--normal-text);background:rgba(0,0,0,.08)}[data-sonner-toaster][data-sonner-theme=dark] [data-sonner-toast][data-styled=true] [data-cancel]{background:rgba(255,255,255,.3)}[data-sonner-toast][data-styled=true] [data-close-button]{position:absolute;left:var(--toast-close-button-start);right:var(--toast-close-button-end);top:0;height:20px;width:20px;display:flex;justify-content:center;align-items:center;padding:0;color:var(--gray12);background:var(--normal-bg);border:1px solid var(--gray4);transform:var(--toast-close-button-transform);border-radius:50%;cursor:pointer;z-index:1;transition:opacity .1s,background .2s,border-color .2s}[data-sonner-toast][data-styled=true] [data-close-button]:focus-visible{box-shadow:0 4px 12px rgba(0,0,0,.1),0 0 0 2px rgba(0,0,0,.2)}[data-sonner-toast][data-styled=true] [data-disabled=true]{cursor:not-allowed}[data-sonner-toast][data-styled=true]:hover [data-close-button]:hover{background:var(--gray2);border-color:var(--gray5)}[data-sonner-toast][data-swiping=true]::before{content:'';position:absolute;left:-100%;right:-100%;height:100%;z-index:-1}[data-sonner-toast][data-y-position=top][data-swiping=true]::before{bottom:50%;transform:scaleY(3) translateY(50%)}[data-sonner-toast][data-y-position=bottom][data-swiping=true]::before{top:50%;transform:scaleY(3) translateY(-50%)}[data-sonner-toast][data-swiping=false][data-removed=true]::before{content:'';position:absolute;inset:0;transform:scaleY(2)}[data-sonner-toast][data-expanded=true]::after{content:'';position:absolute;left:0;height:calc(var(--gap) + 1px);bottom:100%;width:100%}[data-sonner-toast][data-mounted=true]{--y:translateY(0);opacity:1}[data-sonner-toast][data-expanded=false][data-front=false]{--scale:var(--toasts-before) * 0.05 + 1;--y:translateY(calc(var(--lift-amount) * var(--toasts-before))) scale(calc(-1 * var(--scale)));height:var(--front-toast-height)}[data-sonner-toast]>*{transition:opacity .4s}[data-sonner-toast][data-x-position=right]{right:0}[data-sonner-toast][data-x-position=left]{left:0}[data-sonner-toast][data-expanded=false][data-front=false][data-styled=true]>*{opacity:0}[data-sonner-toast][data-visible=false]{opacity:0;pointer-events:none}[data-sonner-toast][data-mounted=true][data-expanded=true]{--y:translateY(calc(var(--lift) * var(--offset)));height:var(--initial-height)}[data-sonner-toast][data-removed=true][data-front=true][data-swipe-out=false]{--y:translateY(calc(var(--lift) * -100%));opacity:0}[data-sonner-toast][data-removed=true][data-front=false][data-swipe-out=false][data-expanded=true]{--y:translateY(calc(var(--lift) * var(--offset) + var(--lift) * -100%));opacity:0}[data-sonner-toast][data-removed=true][data-front=false][data-swipe-out=false][data-expanded=false]{--y:translateY(40%);opacity:0;transition:transform .5s,opacity .2s}[data-sonner-toast][data-removed=true][data-front=false]::before{height:calc(var(--initial-height) + 20%)}[data-sonner-toast][data-swiping=true]{transform:var(--y) translateY(var(--swipe-amount-y,0)) translateX(var(--swipe-amount-x,0));transition:none}[data-sonner-toast][data-swiped=true]{user-select:none}[data-sonner-toast][data-swipe-out=true][data-y-position=bottom],[data-sonner-toast][data-swipe-out=true][data-y-position=top]{animation-duration:.2s;animation-timing-function:ease-out;animation-fill-mode:forwards}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=left]{animation-name:swipe-out-left}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=right]{animation-name:swipe-out-right}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=up]{animation-name:swipe-out-up}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=down]{animation-name:swipe-out-down}@keyframes swipe-out-left{from{transform:var(--y) translateX(var(--swipe-amount-x));opacity:1}to{transform:var(--y) translateX(calc(var(--swipe-amount-x) - 100%));opacity:0}}@keyframes swipe-out-right{from{transform:var(--y) translateX(var(--swipe-amount-x));opacity:1}to{transform:var(--y) translateX(calc(var(--swipe-amount-x) + 100%));opacity:0}}@keyframes swipe-out-up{from{transform:var(--y) translateY(var(--swipe-amount-y));opacity:1}to{transform:var(--y) translateY(calc(var(--swipe-amount-y) - 100%));opacity:0}}@keyframes swipe-out-down{from{transform:var(--y) translateY(var(--swipe-amount-y));opacity:1}to{transform:var(--y) translateY(calc(var(--swipe-amount-y) + 100%));opacity:0}}@media (max-width:600px){[data-sonner-toaster]{position:fixed;right:var(--mobile-offset-right);left:var(--mobile-offset-left);width:100%}[data-sonner-toaster][dir=rtl]{left:calc(var(--mobile-offset-left) * -1)}[data-sonner-toaster] [data-sonner-toast]{left:0;right:0;width:calc(100% - var(--mobile-offset-left) * 2)}[data-sonner-toaster][data-x-position=left]{left:var(--mobile-offset-left)}[data-sonner-toaster][data-y-position=bottom]{bottom:var(--mobile-offset-bottom)}[data-sonner-toaster][data-y-position=top]{top:var(--mobile-offset-top)}[data-sonner-toaster][data-x-position=center]{left:var(--mobile-offset-left);right:var(--mobile-offset-right);transform:none}}[data-sonner-toaster][data-sonner-theme=light]{--normal-bg:#fff;--normal-border:var(--gray4);--normal-text:var(--gray12);--success-bg:hsl(143, 85%, 96%);--success-border:hsl(145, 92%, 87%);--success-text:hsl(140, 100%, 27%);--info-bg:hsl(208, 100%, 97%);--info-border:hsl(221, 91%, 93%);--info-text:hsl(210, 92%, 45%);--warning-bg:hsl(49, 100%, 97%);--warning-border:hsl(49, 91%, 84%);--warning-text:hsl(31, 92%, 45%);--error-bg:hsl(359, 100%, 97%);--error-border:hsl(359, 100%, 94%);--error-text:hsl(360, 100%, 45%)}[data-sonner-toaster][data-sonner-theme=light] [data-sonner-toast][data-invert=true]{--normal-bg:#000;--normal-border:hsl(0, 0%, 20%);--normal-text:var(--gray1)}[data-sonner-toaster][data-sonner-theme=dark] [data-sonner-toast][data-invert=true]{--normal-bg:#fff;--normal-border:var(--gray3);--normal-text:var(--gray12)}[data-sonner-toaster][data-sonner-theme=dark]{--normal-bg:#000;--normal-bg-hover:hsl(0, 0%, 12%);--normal-border:hsl(0, 0%, 20%);--normal-border-hover:hsl(0, 0%, 25%);--normal-text:var(--gray1);--success-bg:hsl(150, 100%, 6%);--success-border:hsl(147, 100%, 12%);--success-text:hsl(150, 86%, 65%);--info-bg:hsl(215, 100%, 6%);--info-border:hsl(223, 43%, 17%);--info-text:hsl(216, 87%, 65%);--warning-bg:hsl(64, 100%, 6%);--warning-border:hsl(60, 100%, 9%);--warning-text:hsl(46, 87%, 65%);--error-bg:hsl(358, 76%, 10%);--error-border:hsl(357, 89%, 16%);--error-text:hsl(358, 100%, 81%)}[data-sonner-toaster][data-sonner-theme=dark] [data-sonner-toast] [data-close-button]{background:var(--normal-bg);border-color:var(--normal-border);color:var(--normal-text)}[data-sonner-toaster][data-sonner-theme=dark] [data-sonner-toast] [data-close-button]:hover{background:var(--normal-bg-hover);border-color:var(--normal-border-hover)}[data-rich-colors=true][data-sonner-toast][data-type=success]{background:var(--success-bg);border-color:var(--success-border);color:var(--success-text)}[data-rich-colors=true][data-sonner-toast][data-type=success] [data-close-button]{background:var(--success-bg);border-color:var(--success-border);color:var(--success-text)}[data-rich-colors=true][data-sonner-toast][data-type=info]{background:var(--info-bg);border-color:var(--info-border);color:var(--info-text)}[data-rich-colors=true][data-sonner-toast][data-type=info] [data-close-button]{background:var(--info-bg);border-color:var(--info-border);color:var(--info-text)}[data-rich-colors=true][data-sonner-toast][data-type=warning]{background:var(--warning-bg);border-color:var(--warning-border);color:var(--warning-text)}[data-rich-colors=true][data-sonner-toast][data-type=warning] [data-close-button]{background:var(--warning-bg);border-color:var(--warning-border);color:var(--warning-text)}[data-rich-colors=true][data-sonner-toast][data-type=error]{background:var(--error-bg);border-color:var(--error-border);color:var(--error-text)}[data-rich-colors=true][data-sonner-toast][data-type=error] [data-close-button]{background:var(--error-bg);border-color:var(--error-border);color:var(--error-text)}.sonner-loading-wrapper{--size:16px;height:var(--size);width:var(--size);position:absolute;inset:0;z-index:10}.sonner-loading-wrapper[data-visible=false]{transform-origin:center;animation:sonner-fade-out .2s ease forwards}.sonner-spinner{position:relative;top:50%;left:50%;height:var(--size);width:var(--size)}.sonner-loading-bar{animation:sonner-spin 1.2s linear infinite;background:var(--gray11);border-radius:6px;height:8%;left:-10%;position:absolute;top:-3.9%;width:24%}.sonner-loading-bar:first-child{animation-delay:-1.2s;transform:rotate(.0001deg) translate(146%)}.sonner-loading-bar:nth-child(2){animation-delay:-1.1s;transform:rotate(30deg) translate(146%)}.sonner-loading-bar:nth-child(3){animation-delay:-1s;transform:rotate(60deg) translate(146%)}.sonner-loading-bar:nth-child(4){animation-delay:-.9s;transform:rotate(90deg) translate(146%)}.sonner-loading-bar:nth-child(5){animation-delay:-.8s;transform:rotate(120deg) translate(146%)}.sonner-loading-bar:nth-child(6){animation-delay:-.7s;transform:rotate(150deg) translate(146%)}.sonner-loading-bar:nth-child(7){animation-delay:-.6s;transform:rotate(180deg) translate(146%)}.sonner-loading-bar:nth-child(8){animation-delay:-.5s;transform:rotate(210deg) translate(146%)}.sonner-loading-bar:nth-child(9){animation-delay:-.4s;transform:rotate(240deg) translate(146%)}.sonner-loading-bar:nth-child(10){animation-delay:-.3s;transform:rotate(270deg) translate(146%)}.sonner-loading-bar:nth-child(11){animation-delay:-.2s;transform:rotate(300deg) translate(146%)}.sonner-loading-bar:nth-child(12){animation-delay:-.1s;transform:rotate(330deg) translate(146%)}@keyframes sonner-fade-in{0%{opacity:0;transform:scale(.8)}100%{opacity:1;transform:scale(1)}}@keyframes sonner-fade-out{0%{opacity:1;transform:scale(1)}100%{opacity:0;transform:scale(.8)}}@keyframes sonner-spin{0%{opacity:1}100%{opacity:.15}}@media (prefers-reduced-motion){.sonner-loading-bar,[data-sonner-toast],[data-sonner-toast]>*{transition:none!important;animation:none!important}}.sonner-loader{position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);transform-origin:center;transition:opacity .2s,transform .2s}.sonner-loader[data-visible=false]{opacity:0;transform:scale(.8) translate(-50%,-50%)}");let w=e=>{var t,r,n,i,o,f,p,m,g,y,w;let{invert:x,toast:k,unstyled:S,interacting:C,setHeights:A,visibleToasts:_,heights:E,index:T,toasts:R,expanded:O,removeToast:I,defaultRichColors:P,closeButton:j,style:q,cancelButtonStyle:L,actionButtonStyle:N,className:M="",descriptionClassName:D="",duration:U,position:F,gap:$,expandByDefault:Q,classNames:z,icons:V,closeButtonAriaLabel:B="Close toast"}=e,[H,W]=s.useState(null),[K,G]=s.useState(null),[J,Y]=s.useState(!1),[X,Z]=s.useState(!1),[ee,et]=s.useState(!1),[er,en]=s.useState(!1),[es,ei]=s.useState(!1),[eo,ea]=s.useState(0),[el,ec]=s.useState(0),eu=s.useRef(k.duration||U||4e3),ed=s.useRef(null),eh=s.useRef(null),ef=0===T,ep=T+1<=_,em=k.type,eg=!1!==k.dismissible,ey=k.className||"",ev=k.descriptionClassName||"",eb=s.useMemo(()=>E.findIndex(e=>e.toastId===k.id)||0,[E,k.id]),ew=s.useMemo(()=>{var e;return null!=(e=k.closeButton)?e:j},[k.closeButton,j]),ex=s.useMemo(()=>k.duration||U||4e3,[k.duration,U]),ek=s.useRef(0),eS=s.useRef(0),eC=s.useRef(0),eA=s.useRef(null),[e_,eE]=F.split("-"),eT=s.useMemo(()=>E.reduce((e,t,r)=>r>=eb?e:e+t.height,0),[E,eb]),eR=(()=>{let[e,t]=s.useState(document.hidden);return s.useEffect(()=>{let e=()=>{t(document.hidden)};return document.addEventListener("visibilitychange",e),()=>window.removeEventListener("visibilitychange",e)},[]),e})(),eO=k.invert||x,eI="loading"===em;eS.current=s.useMemo(()=>eb*$+eT,[eb,eT]),s.useEffect(()=>{eu.current=ex},[ex]),s.useEffect(()=>{Y(!0)},[]),s.useEffect(()=>{let e=eh.current;if(e){let t=e.getBoundingClientRect().height;return ec(t),A(e=>[{toastId:k.id,height:t,position:k.position},...e]),()=>A(e=>e.filter(e=>e.toastId!==k.id))}},[A,k.id]),s.useLayoutEffect(()=>{if(!J)return;let e=eh.current,t=e.style.height;e.style.height="auto";let r=e.getBoundingClientRect().height;e.style.height=t,ec(r),A(e=>e.find(e=>e.toastId===k.id)?e.map(e=>e.toastId===k.id?{...e,height:r}:e):[{toastId:k.id,height:r,position:k.position},...e])},[J,k.title,k.description,A,k.id,k.jsx,k.action,k.cancel]);let eP=s.useCallback(()=>{Z(!0),ea(eS.current),A(e=>e.filter(e=>e.toastId!==k.id)),setTimeout(()=>{I(k)},200)},[k,I,A,eS]);s.useEffect(()=>{let e;if((!k.promise||"loading"!==em)&&k.duration!==1/0&&"loading"!==k.type)return O||C||eR?(()=>{if(eC.current<ek.current){let e=new Date().getTime()-ek.current;eu.current=eu.current-e}eC.current=new Date().getTime()})():eu.current!==1/0&&(ek.current=new Date().getTime(),e=setTimeout(()=>{null==k.onAutoClose||k.onAutoClose.call(k,k),eP()},eu.current)),()=>clearTimeout(e)},[O,C,k,em,eR,eP]),s.useEffect(()=>{k.delete&&(eP(),null==k.onDismiss||k.onDismiss.call(k,k))},[eP,k.delete]);let ej=k.icon||(null==V?void 0:V[em])||(e=>{switch(e){case"success":return l;case"info":return u;case"warning":return c;case"error":return d;default:return null}})(em);return s.createElement("li",{tabIndex:0,ref:eh,className:b(M,ey,null==z?void 0:z.toast,null==k||null==(t=k.classNames)?void 0:t.toast,null==z?void 0:z.default,null==z?void 0:z[em],null==k||null==(r=k.classNames)?void 0:r[em]),"data-sonner-toast":"","data-rich-colors":null!=(y=k.richColors)?y:P,"data-styled":!(k.jsx||k.unstyled||S),"data-mounted":J,"data-promise":!!k.promise,"data-swiped":es,"data-removed":X,"data-visible":ep,"data-y-position":e_,"data-x-position":eE,"data-index":T,"data-front":ef,"data-swiping":ee,"data-dismissible":eg,"data-type":em,"data-invert":eO,"data-swipe-out":er,"data-swipe-direction":K,"data-expanded":!!(O||Q&&J),"data-testid":k.testId,style:{"--index":T,"--toasts-before":T,"--z-index":R.length-T,"--offset":`${X?eo:eS.current}px`,"--initial-height":Q?"auto":`${el}px`,...q,...k.style},onDragEnd:()=>{et(!1),W(null),eA.current=null},onPointerDown:e=>{2!==e.button&&!eI&&eg&&(ed.current=new Date,ea(eS.current),e.target.setPointerCapture(e.pointerId),"BUTTON"!==e.target.tagName&&(et(!0),eA.current={x:e.clientX,y:e.clientY}))},onPointerUp:()=>{var e,t,r,n,s;if(er||!eg)return;eA.current=null;let i=Number((null==(e=eh.current)?void 0:e.style.getPropertyValue("--swipe-amount-x").replace("px",""))||0),o=Number((null==(t=eh.current)?void 0:t.style.getPropertyValue("--swipe-amount-y").replace("px",""))||0),a=new Date().getTime()-(null==(r=ed.current)?void 0:r.getTime()),l="x"===H?i:o,c=Math.abs(l)/a;if(Math.abs(l)>=45||c>.11){ea(eS.current),null==k.onDismiss||k.onDismiss.call(k,k),"x"===H?G(i>0?"right":"left"):G(o>0?"down":"up"),eP(),en(!0);return}null==(n=eh.current)||n.style.setProperty("--swipe-amount-x","0px"),null==(s=eh.current)||s.style.setProperty("--swipe-amount-y","0px"),ei(!1),et(!1),W(null)},onPointerMove:t=>{var r,n,s,i;if(!eA.current||!eg||(null==(r=window.getSelection())?void 0:r.toString().length)>0)return;let o=t.clientY-eA.current.y,a=t.clientX-eA.current.x,l=null!=(i=e.swipeDirections)?i:function(e){let[t,r]=e.split("-"),n=[];return t&&n.push(t),r&&n.push(r),n}(F);!H&&(Math.abs(a)>1||Math.abs(o)>1)&&W(Math.abs(a)>Math.abs(o)?"x":"y");let c={x:0,y:0},u=e=>1/(1.5+Math.abs(e)/20);if("y"===H){if(l.includes("top")||l.includes("bottom"))if(l.includes("top")&&o<0||l.includes("bottom")&&o>0)c.y=o;else{let e=o*u(o);c.y=Math.abs(e)<Math.abs(o)?e:o}}else if("x"===H&&(l.includes("left")||l.includes("right")))if(l.includes("left")&&a<0||l.includes("right")&&a>0)c.x=a;else{let e=a*u(a);c.x=Math.abs(e)<Math.abs(a)?e:a}(Math.abs(c.x)>0||Math.abs(c.y)>0)&&ei(!0),null==(n=eh.current)||n.style.setProperty("--swipe-amount-x",`${c.x}px`),null==(s=eh.current)||s.style.setProperty("--swipe-amount-y",`${c.y}px`)}},ew&&!k.jsx&&"loading"!==em?s.createElement("button",{"aria-label":B,"data-disabled":eI,"data-close-button":!0,onClick:eI||!eg?()=>{}:()=>{eP(),null==k.onDismiss||k.onDismiss.call(k,k)},className:b(null==z?void 0:z.closeButton,null==k||null==(n=k.classNames)?void 0:n.closeButton)},null!=(w=null==V?void 0:V.close)?w:h):null,(em||k.icon||k.promise)&&null!==k.icon&&((null==V?void 0:V[em])!==null||k.icon)?s.createElement("div",{"data-icon":"",className:b(null==z?void 0:z.icon,null==k||null==(i=k.classNames)?void 0:i.icon)},k.promise||"loading"===k.type&&!k.icon?k.icon||function(){var e,t;return(null==V?void 0:V.loading)?s.createElement("div",{className:b(null==z?void 0:z.loader,null==k||null==(t=k.classNames)?void 0:t.loader,"sonner-loader"),"data-visible":"loading"===em},V.loading):s.createElement(a,{className:b(null==z?void 0:z.loader,null==k||null==(e=k.classNames)?void 0:e.loader),visible:"loading"===em})}():null,"loading"!==k.type?ej:null):null,s.createElement("div",{"data-content":"",className:b(null==z?void 0:z.content,null==k||null==(o=k.classNames)?void 0:o.content)},s.createElement("div",{"data-title":"",className:b(null==z?void 0:z.title,null==k||null==(f=k.classNames)?void 0:f.title)},k.jsx?k.jsx:"function"==typeof k.title?k.title():k.title),k.description?s.createElement("div",{"data-description":"",className:b(D,ev,null==z?void 0:z.description,null==k||null==(p=k.classNames)?void 0:p.description)},"function"==typeof k.description?k.description():k.description):null),s.isValidElement(k.cancel)?k.cancel:k.cancel&&v(k.cancel)?s.createElement("button",{"data-button":!0,"data-cancel":!0,style:k.cancelButtonStyle||L,onClick:e=>{v(k.cancel)&&eg&&(null==k.cancel.onClick||k.cancel.onClick.call(k.cancel,e),eP())},className:b(null==z?void 0:z.cancelButton,null==k||null==(m=k.classNames)?void 0:m.cancelButton)},k.cancel.label):null,s.isValidElement(k.action)?k.action:k.action&&v(k.action)?s.createElement("button",{"data-button":!0,"data-action":!0,style:k.actionButtonStyle||N,onClick:e=>{v(k.action)&&(null==k.action.onClick||k.action.onClick.call(k.action,e),e.defaultPrevented||eP())},className:b(null==z?void 0:z.actionButton,null==k||null==(g=k.classNames)?void 0:g.actionButton)},k.action.label):null)};function x(){if("undefined"==typeof window||"undefined"==typeof document)return"ltr";let e=document.documentElement.getAttribute("dir");return"auto"!==e&&e?e:window.getComputedStyle(document.documentElement).direction}let k=s.forwardRef(function(e,t){let{id:r,invert:n,position:o="bottom-right",hotkey:a=["altKey","KeyT"],expand:l,closeButton:c,className:u,offset:d,mobileOffset:h,theme:f="light",richColors:p,duration:g,style:y,visibleToasts:v=3,toastOptions:b,dir:k=x(),gap:S=14,icons:C,containerAriaLabel:A="Notifications"}=e,[_,E]=s.useState([]),T=s.useMemo(()=>r?_.filter(e=>e.toasterId===r):_.filter(e=>!e.toasterId),[_,r]),R=s.useMemo(()=>Array.from(new Set([o].concat(T.filter(e=>e.position).map(e=>e.position)))),[T,o]),[O,I]=s.useState([]),[P,j]=s.useState(!1),[q,L]=s.useState(!1),[N,M]=s.useState("system"!==f?f:"undefined"!=typeof window&&window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light"),D=s.useRef(null),U=a.join("+").replace(/Key/g,"").replace(/Digit/g,""),F=s.useRef(null),$=s.useRef(!1),Q=s.useCallback(e=>{E(t=>{var r;return(null==(r=t.find(t=>t.id===e.id))?void 0:r.delete)||m.dismiss(e.id),t.filter(({id:t})=>t!==e.id)})},[]);return s.useEffect(()=>m.subscribe(e=>{if(e.dismiss)return void requestAnimationFrame(()=>{E(t=>t.map(t=>t.id===e.id?{...t,delete:!0}:t))});setTimeout(()=>{i.flushSync(()=>{E(t=>{let r=t.findIndex(t=>t.id===e.id);return -1!==r?[...t.slice(0,r),{...t[r],...e},...t.slice(r+1)]:[e,...t]})})})}),[_]),s.useEffect(()=>{if("system"!==f)return void M(f);if("system"===f&&(window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?M("dark"):M("light")),"undefined"==typeof window)return;let e=window.matchMedia("(prefers-color-scheme: dark)");try{e.addEventListener("change",({matches:e})=>{e?M("dark"):M("light")})}catch(t){e.addListener(({matches:e})=>{try{e?M("dark"):M("light")}catch(e){console.error(e)}})}},[f]),s.useEffect(()=>{_.length<=1&&j(!1)},[_]),s.useEffect(()=>{let e=e=>{var t,r;a.every(t=>e[t]||e.code===t)&&(j(!0),null==(r=D.current)||r.focus()),"Escape"===e.code&&(document.activeElement===D.current||(null==(t=D.current)?void 0:t.contains(document.activeElement)))&&j(!1)};return document.addEventListener("keydown",e),()=>document.removeEventListener("keydown",e)},[a]),s.useEffect(()=>{if(D.current)return()=>{F.current&&(F.current.focus({preventScroll:!0}),F.current=null,$.current=!1)}},[D.current]),s.createElement("section",{ref:t,"aria-label":`${A} ${U}`,tabIndex:-1,"aria-live":"polite","aria-relevant":"additions text","aria-atomic":"false",suppressHydrationWarning:!0},R.map((t,r)=>{var i;let[o,a]=t.split("-");return T.length?s.createElement("ol",{key:t,dir:"auto"===k?x():k,tabIndex:-1,ref:D,className:u,"data-sonner-toaster":!0,"data-sonner-theme":N,"data-y-position":o,"data-x-position":a,style:{"--front-toast-height":`${(null==(i=O[0])?void 0:i.height)||0}px`,"--width":"356px","--gap":`${S}px`,...y,...function(e,t){let r={};return[e,t].forEach((e,t)=>{let n=1===t,s=n?"--mobile-offset":"--offset",i=n?"16px":"24px";function o(e){["top","right","bottom","left"].forEach(t=>{r[`${s}-${t}`]="number"==typeof e?`${e}px`:e})}"number"==typeof e||"string"==typeof e?o(e):"object"==typeof e?["top","right","bottom","left"].forEach(t=>{void 0===e[t]?r[`${s}-${t}`]=i:r[`${s}-${t}`]="number"==typeof e[t]?`${e[t]}px`:e[t]}):o(i)}),r}(d,h)},onBlur:e=>{$.current&&!e.currentTarget.contains(e.relatedTarget)&&($.current=!1,F.current&&(F.current.focus({preventScroll:!0}),F.current=null))},onFocus:e=>{!(e.target instanceof HTMLElement&&"false"===e.target.dataset.dismissible)&&($.current||($.current=!0,F.current=e.relatedTarget))},onMouseEnter:()=>j(!0),onMouseMove:()=>j(!0),onMouseLeave:()=>{q||j(!1)},onDragEnd:()=>j(!1),onPointerDown:e=>{e.target instanceof HTMLElement&&"false"===e.target.dataset.dismissible||L(!0)},onPointerUp:()=>L(!1)},T.filter(e=>!e.position&&0===r||e.position===t).map((r,i)=>{var o,a;return s.createElement(w,{key:r.id,icons:C,index:i,toast:r,defaultRichColors:p,duration:null!=(o=null==b?void 0:b.duration)?o:g,className:null==b?void 0:b.className,descriptionClassName:null==b?void 0:b.descriptionClassName,invert:n,visibleToasts:v,closeButton:null!=(a=null==b?void 0:b.closeButton)?a:c,interacting:q,position:t,style:null==b?void 0:b.style,unstyled:null==b?void 0:b.unstyled,classNames:null==b?void 0:b.classNames,cancelButtonStyle:null==b?void 0:b.cancelButtonStyle,actionButtonStyle:null==b?void 0:b.actionButtonStyle,closeButtonAriaLabel:null==b?void 0:b.closeButtonAriaLabel,removeToast:Q,toasts:T.filter(e=>e.position==r.position),heights:O.filter(e=>e.position==r.position),setHeights:I,expandByDefault:l,gap:S,expanded:P,swipeDirections:e.swipeDirections})})):null}))});var S=r(17963);let C=(0,S.A)("info",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]]);var A=r(72502);let _=(0,S.A)("triangle-alert",[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]]);var E=r(93990),T=r(35061);function R(e){let{...t}=e;return(0,n.jsx)(k,{position:"top-center",expand:!1,toastOptions:{classNames:{toast:"p-0 bg-transparent shadow-none"},duration:5e3},...t})}let O={info:"!bg-sky-50 !border-sky-200 !text-sky-900",success:"!bg-emerald-50 !border-emerald-200 !text-emerald-900",warning:"!bg-amber-50 !border-amber-200 !text-amber-900",error:"!bg-red-50 !border-red-200 !text-red-900"},I={info:(0,n.jsx)(C,{className:"h-5 w-5"}),success:(0,n.jsx)(A.A,{className:"h-5 w-5"}),warning:(0,n.jsx)(_,{className:"h-5 w-5"}),error:(0,n.jsx)(E.A,{className:"h-5 w-5"})};function P(e){let{variant:t="info",title:r,description:s,icon:i,onClose:o}=e;return(0,n.jsx)("section",{className:(0,T.cn)("w-[380px] rounded-lg border px-4 py-3 shadow-sm ring-1 ring-black/5",O[t]),role:"status","aria-live":"polite",children:(0,n.jsxs)("div",{className:"flex items-start gap-3",children:[(0,n.jsx)("div",{className:"mt-1",children:null!=i?i:I[t]}),(0,n.jsxs)("div",{className:"flex-1 min-w-0 mt-[2px]",children:[(0,n.jsx)("div",{className:"font-medium leading-5 whitespace-normal break-words",children:r}),s?(0,n.jsx)("div",{className:"mt-1 text-sm/5 opacity-90 break-words",children:s}):null]}),(0,n.jsx)("button",{type:"button",onClick:o,"aria-label":"Close notification",className:"ms-1 rounded p-1/2 opacity-70 hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-black/20",children:(0,n.jsx)("svg",{className:"h-4 w-4",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",children:(0,n.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]})})}function j(e,t){let{duration:r,...s}=t;return y.custom(t=>(0,n.jsx)(P,{variant:e,...s,onClose:()=>y.dismiss(t)}),{duration:null!=r?r:5e3})}let q=Object.assign(e=>j("info",e),{info:e=>j("info",e),success:e=>j("success",e),warning:e=>j("warning",e),error:e=>j("error",e),dismiss:e=>y.dismiss(e)})},44480:(e,t,r)=>{"use strict";r.d(t,{A:()=>n});let n=function e(t){function r(e,t,n){var s,i={};if(Array.isArray(e))return e.concat(t);for(s in e)i[n?s.toLowerCase():s]=e[s];for(s in t){var o=n?s.toLowerCase():s,a=t[s];i[o]=o in i&&"object"==typeof a?r(i[o],a,"headers"==o):a}return i}function n(e,n,s,i,o){var a="string"!=typeof e?(n=e).url:e,l={config:n},c=r(t,n),u={};i=i||c.data,(c.transformRequest||[]).map(function(e){i=e(i,c.headers)||i}),c.auth&&(u.authorization=c.auth),i&&"object"==typeof i&&"function"!=typeof i.append&&"function"!=typeof i.text&&(i=JSON.stringify(i),u["content-type"]="application/json");try{u[c.xsrfHeaderName]=decodeURIComponent(document.cookie.match(RegExp("(^|; )"+c.xsrfCookieName+"=([^;]*)"))[2])}catch(e){}return c.baseURL&&(a=a.replace(/^(?!.*\/\/)\/?/,c.baseURL+"/")),c.params&&(a+=(~a.indexOf("?")?"&":"?")+(c.paramsSerializer?c.paramsSerializer(c.params):new URLSearchParams(c.params))),(c.fetch||fetch)(a,{method:(s||c.method||"get").toUpperCase(),body:i,headers:r(c.headers,u,!0),credentials:c.withCredentials?"include":o}).then(function(e){for(var t in e)"function"!=typeof e[t]&&(l[t]=e[t]);return"stream"==c.responseType?(l.data=e.body,l):e[c.responseType||"text"]().then(function(e){l.data=e,l.data=JSON.parse(e)}).catch(Object).then(function(){return(c.validateStatus?c.validateStatus(e.status):e.ok)?l:Promise.reject(l)})})}return t=t||{},n.request=n,n.get=function(e,t){return n(e,t,"get")},n.delete=function(e,t){return n(e,t,"delete")},n.head=function(e,t){return n(e,t,"head")},n.options=function(e,t){return n(e,t,"options")},n.post=function(e,t,r){return n(e,r,"post",t)},n.put=function(e,t,r){return n(e,r,"put",t)},n.patch=function(e,t,r){return n(e,r,"patch",t)},n.all=Promise.all.bind(Promise),n.spread=function(e){return e.apply.bind(e,e)},n.CancelToken="function"==typeof AbortController?AbortController:Object,n.defaults=t,n.create=e,n}()},45105:(e,t,r)=>{e.exports=r(36758)},45261:(e,t,r)=>{"use strict";r.d(t,{A:()=>h});var n=r(81383),s=r.n(n),i=r(78567),o=r(1144),a=r(16632);let l=i.A.config.baseUrl,c=i.A.config.analyticsSalt,u="linkme_inapp_session",d={setCookie:function(e,t,r){let n=!(arguments.length>3)||void 0===arguments[3]||arguments[3];var s=new Date;s.setTime(s.getTime()+24*r*36e5),t=n?JSON.stringify(t):t,document.cookie=e+"="+t+"; expires="+s.toUTCString()+"; path=/;"},getCookie:function(e){let t=!(arguments.length>1)||void 0===arguments[1]||arguments[1];e+="=";for(var r=document.cookie.split(";"),n=0;n<r.length;n++){var s=r[n].trim();if(0==s.indexOf(e)){let r=s.substring(e.length,s.length);if(t)return JSON.parse(r);return r}}return""},clearCookie:e=>{document.cookie=e+"=;expires=Thu, 01 Jan 1970 00:00:01 GMT; path=/;"},setLocalstorage:(e,t,r)=>{r&&(t=JSON.stringify(t));try{return localStorage.setItem(e,t),!0}catch(n){let r=[a.Ay.CLIENT_IP,a.Ay.USER_PAGE_UUID];return Object.keys(localStorage).forEach(e=>{r.includes(e)||localStorage.removeItem(e)}),localStorage.setItem(e,t),!0}},getLocalstorage:(e,t)=>{let r="undefined"!=typeof localStorage?localStorage.getItem(e):"";return r&&t&&(r=JSON.parse(r)),r},removeLocalstorage:e=>(localStorage.removeItem(e),!0),setSessionstorage:(e,t,r)=>(r&&(t=JSON.stringify(t)),sessionStorage.setItem(e,t),!0),getSessionstorage:(e,t)=>{let r="undefined"!=typeof sessionStorage?sessionStorage.getItem(e):"";return r&&t&&(r=JSON.parse(r)),r},removeSessionstorage:e=>(sessionStorage.removeItem(e),!0),loadScript:function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"true",r=arguments.length>2?arguments[2]:void 0;var n=document.createElement("script");n.src=e,n.type="text/javascript",n.async=t,document.getElementsByTagName("head")[0].appendChild(n),n.onload=()=>{r&&r("success")},n.onerror=()=>{r&&r("error")}},loadCustomScript:e=>{var t=document.createElement("script");t.type="text/javascript",t.innerHTML=e,document.getElementsByTagName("head")[0].appendChild(t)},getTheme:e=>"purple"==e?"linkme":"light"==e?"light":"dark",getUrl:(e,t)=>{let r="";return r=l.startsWith("https://")?"https://":"http://",e&&(r+=e+"."),l.startsWith("http")?r+=l.split("://")[1]:r+=l,r+="",t&&(t.startsWith("/")||(r+="/"),r+=t),r},logEvent:(e,t,r,n)=>{var s;let i=null!=(s=d.getLocalstorage(a.Ay.USER_PAGE_UUID,!1))?s:"";i&&e&&t&&(0,o.DU)(i,e,t,r,n)},hideEmailUsername:e=>{if(!e)return"";let t=e.split("@");if(t.length<2)return"";let r=t[0].length,n="";for(let e=0;e<r;e++)n+="*";return n+="@",n+=t[1]},buildOverflowedName:(e,t)=>{let r="";return e&&(r+=e),e&&t&&(r+=" "),t&&(r+=t),r.length>22&&(r=r.substring(0,22)+"..."),r},share:async(e,t)=>{if(navigator.share)try{await navigator.share({title:e,url:t})}catch(e){}},getStoredIp:()=>{var e;return null!=(e=d.getLocalstorage(a.Ay.CLIENT_IP,!1))?e:""},hashIpHeader:e=>{let t=null!=e?e:d.getLocalstorage(a.Ay.CLIENT_IP,!1);return"".concat(s()(c+(null!=t?t:"")),":").concat(null!=t?t:"")},isInAppBrowsers:e=>/^.*(Instagram|musical_ly|Bytedance|TikTok).*/gi.test(e),cacheImageUrl:async e=>{if("caches"in window){let t=await caches.open("platform-icons");if(!await t.match(e)){let r=await fetch(e,{cache:"force-cache"});r.ok&&await t.put(e,r.clone())}}},getTarget:e=>(null==e?void 0:e.startsWith("https://link.me"))?"_self":"_blank",setLocalstorageWithExpiry:(e,t,r,n)=>{let s={value:t,expiry:new Date().getTime()+60*n*6e4};d.setLocalstorage(e,s,!0)},getLocalstorageWithExpiry:(e,t)=>{let r=d.getLocalstorage(e,!0);return r?new Date().getTime()>r.expiry?(d.removeLocalstorage(e),null):t?r.value:String(r.value):null},normalizeToken:e=>{if("string"!=typeof e)return null;let t=e.trim();return t&&"undefined"!==t&&"null"!==t?e:null},getAccessToken:()=>{let e=d.getCookie(a.Ay.ACCESS_TOKEN,!1);return d.normalizeToken(e)},setAccessToken:e=>{if(!d.normalizeToken(e))return void d.removeAccessToken();d.setCookie(a.Ay.ACCESS_TOKEN,e,1,!1)},removeAccessToken:()=>{d.clearCookie(a.Ay.ACCESS_TOKEN),d.removeLocalstorage(a.Ay.ACCESS_TOKEN)},getRefreshToken:()=>{let e=d.getCookie(a.Ay.REFRESH_TOKEN,!1);return d.normalizeToken(e)},setRefreshToken:e=>{if(!d.normalizeToken(e))return void d.removeRefreshToken();d.setCookie(a.Ay.REFRESH_TOKEN,e,30,!1)},removeRefreshToken:()=>{d.clearCookie(a.Ay.REFRESH_TOKEN),d.removeLocalstorage(a.Ay.REFRESH_TOKEN)},migrateTokensToCookies:()=>{try{let e=d.normalizeToken(d.getLocalstorage(a.Ay.ACCESS_TOKEN,!1));e&&(d.setCookie(a.Ay.ACCESS_TOKEN,e,1,!1),d.removeLocalstorage(a.Ay.ACCESS_TOKEN));let t=d.normalizeToken(d.getLocalstorage(a.Ay.REFRESH_TOKEN,!1));t&&(d.setCookie(a.Ay.REFRESH_TOKEN,t,30,!1),d.removeLocalstorage(a.Ay.REFRESH_TOKEN))}catch(e){}},getLegacyToken:()=>{let e=d.getCookie(a.Ay.TOKEN,!1);return e||(e=d.getLocalstorage(a.Ay.TOKEN)),e},removeLegacyToken:()=>{d.clearCookie(a.Ay.TOKEN),d.removeLocalstorage(a.Ay.TOKEN)},markInAppSession:()=>{try{d.setSessionstorage(u,"true",!1)}catch(e){}window.__linkme_inapp=!0},isInAppSession:()=>{if(window.__linkme_inapp)return!0;try{let e=d.getSessionstorage(u,!1);if("true"===e)return window.__linkme_inapp=!0,!0}catch(e){}try{let e=new URLSearchParams(window.location.search);if("true"===e.get("inapp"))return d.markInAppSession(),!0}catch(e){}return!1},clearAllTokens:()=>{d.removeAccessToken(),d.removeRefreshToken(),d.removeLegacyToken()},decodeJwtPayload:e=>{try{let[,t]=e.split("."),r=t+"=".repeat((4-t.length%4)%4),n=atob(r.replace(/-/g,"+").replace(/_/g,"/"));return JSON.parse(n)}catch(e){return null}}},h=d},46305:(e,t,r)=>{"use strict";r.d(t,{k:()=>i});var n=r(48306),s=r(37149),i=class{#Q;destroy(){this.clearGcTimeout()}scheduleGc(){this.clearGcTimeout(),(0,s.gn)(this.gcTime)&&(this.#Q=n.zs.setTimeout(()=>{this.optionalRemove()},this.gcTime))}updateGcTime(e){this.gcTime=Math.max(this.gcTime||0,e??(s.S$?1/0:3e5))}clearGcTimeout(){this.#Q&&(n.zs.clearTimeout(this.#Q),this.#Q=void 0)}}},46583:(e,t,r)=>{"use strict";r.d(t,{B6:()=>P,Du:()=>w,EH:()=>C,FW:()=>I,JV:()=>x,Jb:()=>c,TB:()=>S,UX:()=>y,Vd:()=>E,Vs:()=>k,W6:()=>j,YC:()=>u,ZG:()=>T,a1:()=>d,as:()=>v,dp:()=>f,eE:()=>h,ge:()=>l,h4:()=>_,j5:()=>q,nQ:()=>R,pA:()=>g,rP:()=>O,uW:()=>p,z1:()=>b,zS:()=>m});var n=r(78567),s=r(20300),i=r(69045),o=r(54040);let a=n.A.config.apiEndpoints.user,l=async function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",r="".concat(a,"/user/api/v1/agency/create");return new Promise((n,s)=>{(0,o.rU)(r,{name:e,description:t}).then(e=>{n((null==e?void 0:e.response)||null)})})},c=async(e,t)=>{let r="".concat(a,"/user/api/v1/agency/users/invite");return new Promise((n,s)=>{(0,o.rU)(r,{userId:e,agencyId:t}).then(e=>{var t;return(null==e?void 0:e.status)&&e.status>=400?void s({response:e}):(null==e||null==(t=e.data)?void 0:t.error)?void s(e.data.error):(null==e?void 0:e.error)?void s({response:{status:e.status||403,data:e}}):void n((null==e?void 0:e.response)||e)}).catch(e=>s(e))})},u=async(e,t)=>{let r="".concat(a,"/user/api/v1/agency/users/list?agencyId=").concat(e);return t&&(r+="&status=".concat(t)),new Promise((e,t)=>{(0,o.HU)(r).then(t=>{t&&t.response||t&&t.agency?e(t):e({response:{agency:t.agency||{},users:t.users||[],isOwner:t.isOwner||!1,managerPermissionLevel:t.managerPermissionLevel}})}).catch(e=>{t(e)})})},d=async(e,t)=>{let r="".concat(a,"/user/api/v1/agency/users/remove/").concat(e);return new Promise((e,n)=>{(0,o.uz)(r,{agencyId:t}).then(t=>{e((null==t?void 0:t.response)||null)})})},h=async()=>{let e="".concat(a,"/user/api/v1/agency/users/invitations");return new Promise((t,r)=>{(0,o.HU)(e).then(e=>{t((null==e?void 0:e.response)||null)})})},f=async()=>{let e="".concat(a,"/user/api/v1/agency/owned");return new Promise((t,r)=>{(0,o.HU)(e).then(e=>{t((null==e?void 0:e.response)||null)})})},p=async(e,t)=>{let r="".concat(a,"/user/api/v1/agency/users/respond-invitation");return new Promise((n,s)=>{(0,o.JM)(r,{agencyId:e,status:t}).then(e=>{n((null==e?void 0:e.response)||null)})})},m=async function(e,t){let r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"specific",n="".concat(a,"/user/api/v1/agency/managers/add");return new Promise((s,i)=>{(0,o.rU)(n,{managerId:e,agencyId:t,permissionLevel:r}).then(e=>{var t;return(null==e?void 0:e.status)&&e.status>=400?void i({response:e}):(null==e||null==(t=e.data)?void 0:t.error)?void i(e.data.error):(null==e?void 0:e.error)?void i({response:{status:e.status||403,data:e}}):void s((null==e?void 0:e.response)||null)}).catch(e=>{i(e)})})},g=async e=>{let t="".concat(a,"/user/api/v1/agency/managers/list/").concat(e);return new Promise((e,r)=>{(0,o.HU)(t).then(t=>{e((null==t?void 0:t.response)||null)})})},y=async(e,t,r)=>{let n="".concat(a,"/user/api/v1/agency/managers/update-permission/").concat(e);return new Promise((e,s)=>{(0,o.JM)(n,{agencyId:t,permissionLevel:r}).then(t=>{var r;if(null==t||null==(r=t.data)?void 0:r.error)return void s(t.data.error);e((null==t?void 0:t.response)||null)}).catch(e=>{s(e)})})},v=async(e,t)=>{let r="".concat(a,"/user/api/v1/agency/managers/remove/").concat(e);return new Promise((e,n)=>{(0,o.uz)(r,{agencyId:t}).then(t=>{e((null==t?void 0:t.response)||null)})})},b=async e=>{let t="".concat(a,"/user/api/v1/agency/users/memberships");return e&&(t+="?status=".concat(e)),new Promise((e,r)=>{(0,o.HU)(t).then(t=>{e((null==t?void 0:t.response)||null)})})},w=async e=>{let t="".concat(a,"/user/api/v1/agency/users/leave-agency/").concat(e);return new Promise((e,r)=>{(0,o.uz)(t,{}).then(t=>{e((null==t?void 0:t.response)||null)})})},x=async e=>{let t="".concat(i.uR,"/agency/subscription");return new Promise((r,n)=>{(0,o.rU)(t,e).then(e=>{r(e)}).catch(e=>{n(e)})})},k=async e=>{let t="".concat(i.uR,"/agency/subscription?agencyId=").concat(e);return new Promise((e,r)=>{(0,o.HU)(t).then(t=>{e(t)}).catch(e=>{r(e)})})},S=async function(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],r="".concat(i.uR,"/agency/subscription/").concat(e);return new Promise((e,n)=>{(0,o.uz)(r,{immediately:t}).then(t=>{e(t)}).catch(e=>{n(e)})})},C=async e=>{let t="".concat(i.uR,"/agency/subscription/").concat(e,"/resume");return new Promise((e,r)=>{(0,o.rU)(t,{}).then(t=>{e(t)}).catch(e=>{r(e)})})},A=async(e,t)=>{let r="".concat(i.uR,"/agency/subscription/").concat(e,"/invoice-preview");return new Promise((e,n)=>{(0,o.rU)(r,{seats:t}).then(t=>{e(t)}).catch(e=>{n(e)})})},_=async e=>{let t="".concat(i.uR,"/agency/subscription/").concat(e);return new Promise((e,r)=>{(0,o.HU)(t).then(t=>{e(t)}).catch(e=>{r(e)})})},E=async(e,t)=>{var r,n;let s=await k(e);if(!(null==s||null==(n=s.data)||null==(r=n.subscription)?void 0:r.id))throw Error("No active subscription found");let a="".concat(i.uR,"/agency/subscription/").concat(s.data.subscription.id,"/seats");return new Promise((e,r)=>{(0,o.iD)(a,{seats:t}).then(t=>{e(t)}).catch(e=>{r(e)})})},T=async(e,t)=>{var r,n;let s=await k(e);if(!(null==s||null==(n=s.data)||null==(r=n.subscription)?void 0:r.id))throw Error("No active subscription found");return A(s.data.subscription.id,t)},R=async(e,t)=>{let r="".concat(a,"/user/api/v1/agency/update/").concat(e);return new Promise((e,n)=>{(0,o.iD)(r,t).then(t=>{e((null==t?void 0:t.response)||t)}).catch(e=>{n(e)})})},O=async(e,t)=>{let r="".concat(a,"/user/api/v1/agency/users/create");return new Promise((n,s)=>{(0,o.rU)(r,{agencyId:e,...t}).then(e=>{var t;return(null==e?void 0:e.status)&&e.status>=400?void s({response:e}):(null==e?void 0:e.response)?void n(e.response):(null==e||null==(t=e.data)?void 0:t.error)?void s(e.data.error):(null==e?void 0:e.error)?void s({response:{status:e.status||400,data:e}}):void s((null==e?void 0:e.data)||null)}).catch(e=>{s(e)})})},I=async(e,t)=>{let r="".concat(a,"/user/api/v1/agency/users/reset-password"),n={userId:e};return t&&(n.agencyId=t),new Promise((e,t)=>{(0,o.rU)(r,n).then(r=>{var n,s;return(null==r?void 0:r.status)&&r.status>=400?void t({response:r}):(null==r?void 0:r.response)?void e(r.response):(null==r||null==(n=r.data)?void 0:n.response)?void e(r.data.response):(null==r||null==(s=r.data)?void 0:s.error)?void t(r.data.error):(null==r?void 0:r.error)?void t({response:{status:r.status||400,data:r}}):void e(r)}).catch(e=>{t(e)})})},P=async e=>{let t="".concat(a,"/user/api/v1/agency/delete/").concat(e);return new Promise((e,r)=>{(0,o.uz)(t,{}).then(t=>{var n,s;return(null==t?void 0:t.status)&&t.status>=400?void r({response:t}):(null==t?void 0:t.response)?void e(t.response):(null==t||null==(n=t.data)?void 0:n.response)?void e(t.data.response):(null==t||null==(s=t.data)?void 0:s.error)?void r(t.data.error):(null==t?void 0:t.error)?void r({response:{status:t.status||400,data:t}}):void e(t)}).catch(e=>{r(e)})})},j=async e=>{try{let t=await (0,s.J$)({username:e,first_name:"",last_name:"",date_of_birth:null});return!0===t.is_available}catch(e){return!1}},q=async(e,t)=>{let r="".concat(a,"/user/api/v1/agency/").concat(e,"/referral-source");return new Promise((e,n)=>{(0,o.rU)(r,{referralSource:t}).then(t=>{e((null==t?void 0:t.response)||t)}).catch(e=>{n(e)})})}},47880:(e,t,r)=>{"use strict";r.d(t,{M:()=>s,N:()=>n});let n={none:{label:"None",defaults:{}},shine:{label:"Shine",description:"Diagonal shimmer sweeping across the card.",defaults:{color:"rgba(255,255,255,0.45)",speed:1.6,trigger:"always",delay:0},allowed:{color:{ui:"color"},repeat:{options:["loop"],ui:"repeat"}}},jello:{label:"Jello",description:"Squashy wobble with elastic easing.",defaults:{direction:"x",intensity:.45,speed:1.8,trigger:"always",delay:0},allowed:{intensity:{min:0,max:1,step:.05},direction:{options:["x","y"]},repeat:{options:["loop"],ui:"repeat"}}},bounce:{label:"Bounce",description:"Classic bounce along the X or Y axis.",defaults:{direction:"y",intensity:.35,speed:1.2,trigger:"always",delay:0},allowed:{intensity:{min:0,max:1,step:.05},direction:{options:["x","y"]},repeat:{options:["loop"],ui:"repeat"}}},pulse:{label:"Pulse",description:"Soft breathing motion using scale and opacity.",defaults:{intensity:.3,speed:1.4,trigger:"always",delay:0},allowed:{intensity:{min:0,max:1,step:.05},repeat:{options:["loop","mirror"],ui:"repeat"}}},wiggle:{label:"Wiggle",description:"Playful rotation wiggle around the center.",defaults:{intensity:.25,speed:1.1,trigger:"always",delay:0},allowed:{intensity:{min:0,max:1,step:.05},repeat:{options:["loop","mirror"],ui:"repeat"}}}},s=e=>{var t,r;return{...null!=(r=null==(t=n[e])?void 0:t.defaults)?r:{}}}},48149:(e,t,r)=>{"use strict";r.d(t,{II:()=>u,cc:()=>c,v_:()=>l});var n=r(98275),s=r(18070),i=r(81883),o=r(37149);function a(e){return Math.min(1e3*2**e,3e4)}function l(e){return(e??"online")!=="online"||s.t.isOnline()}var c=class extends Error{constructor(e){super("CancelledError"),this.revert=e?.revert,this.silent=e?.silent}};function u(e){let t,r=!1,u=0,d=(0,i.T)(),h=()=>n.m.isFocused()&&("always"===e.networkMode||s.t.isOnline())&&e.canRun(),f=()=>l(e.networkMode)&&e.canRun(),p=e=>{"pending"===d.status&&(t?.(),d.resolve(e))},m=e=>{"pending"===d.status&&(t?.(),d.reject(e))},g=()=>new Promise(r=>{t=e=>{("pending"!==d.status||h())&&r(e)},e.onPause?.()}).then(()=>{t=void 0,"pending"===d.status&&e.onContinue?.()}),y=()=>{let t;if("pending"!==d.status)return;let n=0===u?e.initialPromise:void 0;try{t=n??e.fn()}catch(e){t=Promise.reject(e)}Promise.resolve(t).then(p).catch(t=>{if("pending"!==d.status)return;let n=e.retry??3*!o.S$,s=e.retryDelay??a,i="function"==typeof s?s(u,t):s,l=!0===n||"number"==typeof n&&u<n||"function"==typeof n&&n(u,t);if(r||!l)return void m(t);u++,e.onFail?.(u,t),(0,o.yy)(i).then(()=>h()?void 0:g()).then(()=>{r?m(t):y()})})};return{promise:d,status:()=>d.status,cancel:t=>{if("pending"===d.status){let r=new c(t);m(r),e.onCancel?.(r)}},continue:()=>(t?.(),d),cancelRetry:()=>{r=!0},continueRetry:()=>{r=!1},canStart:f,start:()=>(f()?y():g().then(y),d)}}},48156:(e,t,r)=>{"use strict";r.d(t,{Iv:()=>a,eP:()=>l});var n=r(37876),s=r(14232),i=r(21379);let o=(0,s.createContext)(null),a=e=>{let{children:t}=e,{theme:r,resolvedTheme:s,setTheme:a}=(0,i.D)();return(0,n.jsx)(o.Provider,{value:{theme:"dark"===s||"light"===s?s:"dark",isSystemSelected:"system"===r,handleUpdateTheme:function(e){a(e)}},children:t})};function l(){let e=(0,s.useContext)(o);if(!e)throw Error("useThemeMode must be used within ThemeModeProvider");return e}},48306:(e,t,r)=>{"use strict";r.d(t,{Zq:()=>i,zs:()=>s});var n={setTimeout:(e,t)=>setTimeout(e,t),clearTimeout:e=>clearTimeout(e),setInterval:(e,t)=>setInterval(e,t),clearInterval:e=>clearInterval(e)},s=new class{#z=n;#V=!1;setTimeoutProvider(e){this.#z=e}setTimeout(e,t){return this.#z.setTimeout(e,t)}clearTimeout(e){this.#z.clearTimeout(e)}setInterval(e,t){return this.#z.setInterval(e,t)}clearInterval(e){this.#z.clearInterval(e)}};function i(e){setTimeout(e,0)}},51819:(e,t,r)=>{"use strict";r.d(t,{Dv:()=>o,Us:()=>a});var n=r(37876),s=r(14232);let i=(0,s.createContext)({spinner:!1,toggleSpinner:()=>{},showBackIcon:!1,setShowBackIcon:()=>{},hideBurgerIcon:!1,setHideBurgerIcon:()=>{}});function o(e){let{children:t}=e,[r,o]=(0,s.useState)(!1),[a,l]=(0,s.useState)(!1),[c,u]=(0,s.useState)(!1);return(0,n.jsx)(n.Fragment,{children:(0,n.jsx)(i.Provider,{value:{spinner:r,toggleSpinner:e=>{e?o(!0):o(!1)},showBackIcon:a,setShowBackIcon:l,hideBurgerIcon:c,setHideBurgerIcon:u},children:t})})}function a(){return(0,s.useContext)(i)}},54040:(e,t,r)=>{"use strict";r.d(t,{HU:()=>i,JM:()=>a,iD:()=>c,rU:()=>o,uz:()=>l});var n=r(44480);r(16632);var s=r(45261);let i=async function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=!(arguments.length>2)||void 0===arguments[2]||arguments[2];if(t={...t,platform:"web",version:"4.0.0"},"undefined"!=typeof localStorage){let e=s.A.getAccessToken(),n=s.A.getLegacyToken(),i=e||n;i&&r&&(t={...t,Authorization:"Bearer ".concat(i),"x-linkme-api-sso-token-v2":i}),t={...t,ip:s.A.hashIpHeader()}}let i=n.A.create();try{return(await i.get("".concat(e),{headers:t})).data}catch(e){return(null==e?void 0:e.response)||e}},o=async function(e,t){let r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},i=!(arguments.length>3)||void 0===arguments[3]||arguments[3],o=arguments.length>4?arguments[4]:void 0;if(r={...r,platform:"web",version:o||"4.0.0"},t instanceof FormData?(delete r["Content-Type"],delete r["content-type"]):r={...r,"Content-Type":"application/json"},"undefined"!=typeof localStorage){let e=s.A.getAccessToken(),t=s.A.getLegacyToken(),n=e||t;n&&i&&(r={...r,Authorization:"Bearer ".concat(n),"x-linkme-api-sso-token-v2":n}),r={...r,ip:s.A.hashIpHeader()}}return n.A.post("".concat(e),t instanceof FormData?t:JSON.stringify(t),{headers:r}).then(e=>e.data).catch(e=>(null==e?void 0:e.response)||e)},a=async function(e,t){let r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};if(r={...r,platform:"web",version:"4.0.0"},t instanceof FormData?(delete r["Content-Type"],delete r["content-type"]):(r={...r,"Content-Type":"application/json"},t=JSON.stringify(t)),"undefined"!=typeof localStorage){let e=s.A.getAccessToken(),t=s.A.getLegacyToken(),n=e||t;n&&(r={...r,Authorization:"Bearer ".concat(n),"x-linkme-api-sso-token-v2":n,ip:s.A.hashIpHeader()})}return n.A.patch("".concat(e),t,{headers:r}).then(e=>e.data).catch(e=>{var t;return null!=(t=null==e?void 0:e.response)?t:e})},l=async function(e,t){let r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};if(r={...r,platform:"web",version:"4.0.0"},"undefined"!=typeof localStorage){let e=s.A.getAccessToken(),t=s.A.getLegacyToken(),n=e||t;n&&(r={...r,Authorization:"Bearer ".concat(n),"x-linkme-api-sso-token-v2":n,ip:s.A.hashIpHeader()})}return n.A.delete("".concat(e),{data:t,headers:r}).then(e=>e.data).catch(e=>(null==e?void 0:e.response)||e)},c=async function(e,t){let r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};if(r={...r,platform:"web",version:"4.0.0","Content-Type":"application/json"},"undefined"!=typeof localStorage){let e=s.A.getAccessToken(),t=s.A.getLegacyToken(),n=e||t;n&&(r={...r,Authorization:"Bearer ".concat(n),"x-linkme-api-sso-token-v2":n,ip:s.A.hashIpHeader()})}return n.A.put("".concat(e),JSON.stringify(t),{headers:r}).then(e=>e.data).catch(e=>(null==e?void 0:e.response)||e)}},54143:(e,t,r)=>{"use strict";r.d(t,{CN:()=>l,Hc:()=>a,y1:()=>o});var n=r(37876),s=r(14232),i=r(45261);let o=(0,s.createContext)({}),a=e=>{let[t,r]=(0,s.useState)(!0),[a,c]=(0,s.useState)(!1),[u,d]=(0,s.useState)(!1),[h,f]=(0,s.useState)(!1),[p,m]=(0,s.useState)(!1),[g,y]=(0,s.useState)(!1),v=(0,s.useRef)(!1);(0,s.useEffect)(()=>{let e=navigator.userAgent,t=/android|iphone|kindle|ipad/i.test(e),r=/^((?!chrome|android).)*safari/i.test(e);c(t),d(/iphone|ipad/i.test(e)),f(l),m(i.A.isInAppBrowsers(e)),y(r)},[]),(0,s.useEffect)(()=>{let e=()=>{let e=navigator.userAgent,t=/android|iphone|kindle|ipad/i.test(e);c(t),window.innerWidth<768&&t?c(!0):c(!1)};return window.addEventListener("resize",e),()=>{window.removeEventListener("resize",e)}},[]),(0,s.useEffect)(()=>{let e=()=>{v.current||(v.current=!0,t())},t=()=>{setTimeout(()=>{var e;(null==(e=window)?void 0:e.innerWidth)&&r(window.innerWidth<=768),v.current=!1},1e3)};return e(),window.addEventListener("resize",e),()=>window.removeEventListener("resize",e)},[]);let b=(0,s.useMemo)(()=>({isMobile:t,isMobileUserAgent:a,isIOS:u,isTouch:h,isInAppBrowser:p,isSafari:g}),[t,a,u,h,p,g]);return(0,n.jsx)(o.Provider,{value:b,children:e.children})},l="ontouchstart"in window},55980:(e,t,r)=>{"use strict";r.d(t,{Mz:()=>j,i3:()=>L,UC:()=>q,bL:()=>P,Bk:()=>g});var n=r(14232),s=r(94882),i=r(80400),o=r(57797),a=r(37876),l=n.forwardRef((e,t)=>{let{children:r,width:n=10,height:s=5,...i}=e;return(0,a.jsx)(o.sG.svg,{...i,ref:t,width:n,height:s,viewBox:"0 0 30 10",preserveAspectRatio:"none",children:e.asChild?r:(0,a.jsx)("polygon",{points:"0,0 30,0 15,10"})})});l.displayName="Arrow";var c=r(10714),u=r(91844),d=r(62146),h=r(81285),f=r(87552),p="Popper",[m,g]=(0,u.A)(p),[y,v]=m(p),b=e=>{let{__scopePopper:t,children:r}=e,[s,i]=n.useState(null);return(0,a.jsx)(y,{scope:t,anchor:s,onAnchorChange:i,children:r})};b.displayName=p;var w="PopperAnchor",x=n.forwardRef((e,t)=>{let{__scopePopper:r,virtualRef:s,...i}=e,l=v(w,r),u=n.useRef(null),d=(0,c.s)(t,u),h=n.useRef(null);return n.useEffect(()=>{let e=h.current;h.current=s?.current||u.current,e!==h.current&&l.onAnchorChange(h.current)}),s?null:(0,a.jsx)(o.sG.div,{...i,ref:d})});x.displayName=w;var k="PopperContent",[S,C]=m(k),A=n.forwardRef((e,t)=>{let{__scopePopper:r,side:l="bottom",sideOffset:u=0,align:p="center",alignOffset:m=0,arrowPadding:g=0,avoidCollisions:y=!0,collisionBoundary:b=[],collisionPadding:w=0,sticky:x="partial",hideWhenDetached:C=!1,updatePositionStrategy:A="optimized",onPlaced:_,...E}=e,T=v(k,r),[P,j]=n.useState(null),q=(0,c.s)(t,e=>j(e)),[L,N]=n.useState(null),M=(0,f.X)(L),D=M?.width??0,U=M?.height??0,F="number"==typeof w?w:{top:0,right:0,bottom:0,left:0,...w},$=Array.isArray(b)?b:[b],Q=$.length>0,z={padding:F,boundary:$.filter(R),altBoundary:Q},{refs:V,floatingStyles:B,placement:H,isPositioned:W,middlewareData:K}=(0,s.we)({strategy:"fixed",placement:l+("center"!==p?"-"+p:""),whileElementsMounted:(...e)=>(0,i.ll)(...e,{animationFrame:"always"===A}),elements:{reference:T.anchor},middleware:[(0,s.cY)({mainAxis:u+U,alignmentAxis:m}),y&&(0,s.BN)({mainAxis:!0,crossAxis:!1,limiter:"partial"===x?(0,s.ER)():void 0,...z}),y&&(0,s.UU)({...z}),(0,s.Ej)({...z,apply:({elements:e,rects:t,availableWidth:r,availableHeight:n})=>{let{width:s,height:i}=t.reference,o=e.floating.style;o.setProperty("--radix-popper-available-width",`${r}px`),o.setProperty("--radix-popper-available-height",`${n}px`),o.setProperty("--radix-popper-anchor-width",`${s}px`),o.setProperty("--radix-popper-anchor-height",`${i}px`)}}),L&&(0,s.UE)({element:L,padding:g}),O({arrowWidth:D,arrowHeight:U}),C&&(0,s.jD)({strategy:"referenceHidden",...z})]}),[G,J]=I(H),Y=(0,d.c)(_);(0,h.N)(()=>{W&&Y?.()},[W,Y]);let X=K.arrow?.x,Z=K.arrow?.y,ee=K.arrow?.centerOffset!==0,[et,er]=n.useState();return(0,h.N)(()=>{P&&er(window.getComputedStyle(P).zIndex)},[P]),(0,a.jsx)("div",{ref:V.setFloating,"data-radix-popper-content-wrapper":"",style:{...B,transform:W?B.transform:"translate(0, -200%)",minWidth:"max-content",zIndex:et,"--radix-popper-transform-origin":[K.transformOrigin?.x,K.transformOrigin?.y].join(" "),...K.hide?.referenceHidden&&{visibility:"hidden",pointerEvents:"none"}},dir:e.dir,children:(0,a.jsx)(S,{scope:r,placedSide:G,onArrowChange:N,arrowX:X,arrowY:Z,shouldHideArrow:ee,children:(0,a.jsx)(o.sG.div,{"data-side":G,"data-align":J,...E,ref:q,style:{...E.style,animation:W?void 0:"none"}})})})});A.displayName=k;var _="PopperArrow",E={top:"bottom",right:"left",bottom:"top",left:"right"},T=n.forwardRef(function(e,t){let{__scopePopper:r,...n}=e,s=C(_,r),i=E[s.placedSide];return(0,a.jsx)("span",{ref:s.onArrowChange,style:{position:"absolute",left:s.arrowX,top:s.arrowY,[i]:0,transformOrigin:{top:"",right:"0 0",bottom:"center 0",left:"100% 0"}[s.placedSide],transform:{top:"translateY(100%)",right:"translateY(50%) rotate(90deg) translateX(-50%)",bottom:"rotate(180deg)",left:"translateY(50%) rotate(-90deg) translateX(50%)"}[s.placedSide],visibility:s.shouldHideArrow?"hidden":void 0},children:(0,a.jsx)(l,{...n,ref:t,style:{...n.style,display:"block"}})})});function R(e){return null!==e}T.displayName=_;var O=e=>({name:"transformOrigin",options:e,fn(t){let{placement:r,rects:n,middlewareData:s}=t,i=s.arrow?.centerOffset!==0,o=i?0:e.arrowWidth,a=i?0:e.arrowHeight,[l,c]=I(r),u={start:"0%",center:"50%",end:"100%"}[c],d=(s.arrow?.x??0)+o/2,h=(s.arrow?.y??0)+a/2,f="",p="";return"bottom"===l?(f=i?u:`${d}px`,p=`${-a}px`):"top"===l?(f=i?u:`${d}px`,p=`${n.floating.height+a}px`):"right"===l?(f=`${-a}px`,p=i?u:`${h}px`):"left"===l&&(f=`${n.floating.width+a}px`,p=i?u:`${h}px`),{data:{x:f,y:p}}}});function I(e){let[t,r="center"]=e.split("-");return[t,r]}var P=b,j=x,q=A,L=T},56460:(e,t,r)=>{"use strict";r.d(t,{GU:()=>d,fA:()=>u});var n=r(37876),s=r(14232),i=r(58070),o=r(89099),a=r(66039),l=r(11281);let c=(0,s.createContext)({isActingAs:!1,actingAsUser:null,originalUser:null,startActingAs:()=>{},stopActingAs:()=>{},canActAs:!1}),u=()=>(0,s.useContext)(c),d=e=>{let{children:t}=e,{userInfo:r}=(0,i.Z2)(),u=(0,o.useRouter)(),{activeAgencyId:d}=(0,a.OH)(),[h,f]=(0,s.useState)(!1),[p,m]=(0,s.useState)(null),[g,y]=(0,s.useState)(null),v=async e=>{y(r),f(!0),m(e),sessionStorage.setItem("actingAsUser",JSON.stringify(e)),sessionStorage.setItem("originalUser",JSON.stringify(r)),sessionStorage.removeItem("actingAsBannerPosition")};return(0,s.useEffect)(()=>{let e=sessionStorage.getItem("actingAsUser"),t=sessionStorage.getItem("originalUser");if(e&&t)try{let r=JSON.parse(e),n=JSON.parse(t);f(!0),m(r),y(n)}catch(e){sessionStorage.removeItem("actingAsUser"),sessionStorage.removeItem("originalUser")}},[]),(0,n.jsx)(c.Provider,{value:{isActingAs:h,actingAsUser:p,originalUser:g,startActingAs:v,stopActingAs:()=>{f(!1),m(null),y(null),sessionStorage.removeItem("actingAsUser"),sessionStorage.removeItem("originalUser");let e=d?l.b.AGENCY.AGENCY(d):l.b.AGENCY.ROOT;u.push(e)},canActAs:!0},children:t})}},57797:(e,t,r)=>{"use strict";r.d(t,{sG:()=>c,hO:()=>u});var n=r(14232),s=r(98477),i=r(10714),o=r(37876),a=Symbol("radix.slottable");function l(e){return n.isValidElement(e)&&"function"==typeof e.type&&"__radixId"in e.type&&e.type.__radixId===a}var c=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"].reduce((e,t)=>{let r=function(e){let t=function(e){let t=n.forwardRef((e,t)=>{let{children:r,...s}=e;if(n.isValidElement(r)){var o;let e,a,l=(o=r,(a=(e=Object.getOwnPropertyDescriptor(o.props,"ref")?.get)&&"isReactWarning"in e&&e.isReactWarning)?o.ref:(a=(e=Object.getOwnPropertyDescriptor(o,"ref")?.get)&&"isReactWarning"in e&&e.isReactWarning)?o.props.ref:o.props.ref||o.ref),c=function(e,t){let r={...t};for(let n in t){let s=e[n],i=t[n];/^on[A-Z]/.test(n)?s&&i?r[n]=(...e)=>{let t=i(...e);return s(...e),t}:s&&(r[n]=s):"style"===n?r[n]={...s,...i}:"className"===n&&(r[n]=[s,i].filter(Boolean).join(" "))}return{...e,...r}}(s,r.props);return r.type!==n.Fragment&&(c.ref=t?(0,i.t)(t,l):l),n.cloneElement(r,c)}return n.Children.count(r)>1?n.Children.only(null):null});return t.displayName=`${e}.SlotClone`,t}(e),r=n.forwardRef((e,r)=>{let{children:s,...i}=e,a=n.Children.toArray(s),c=a.find(l);if(c){let e=c.props.children,s=a.map(t=>t!==c?t:n.Children.count(e)>1?n.Children.only(null):n.isValidElement(e)?e.props.children:null);return(0,o.jsx)(t,{...i,ref:r,children:n.isValidElement(e)?n.cloneElement(e,void 0,s):null})}return(0,o.jsx)(t,{...i,ref:r,children:s})});return r.displayName=`${e}.Slot`,r}(`Primitive.${t}`),s=n.forwardRef((e,n)=>{let{asChild:s,...i}=e;return"undefined"!=typeof window&&(window[Symbol.for("radix-ui")]=!0),(0,o.jsx)(s?r:t,{...i,ref:n})});return s.displayName=`Primitive.${t}`,{...e,[t]:s}},{});function u(e,t){e&&s.flushSync(()=>e.dispatchEvent(t))}},58070:(e,t,r)=>{"use strict";r.d(t,{Z2:()=>w,hB:()=>b});var n=r(37876),s=r(14e3),i=r(89099),o=r.n(i),a=r(14232),l=r(43939),c=r(51819),u=r(16632),d=r(45261),h=r(20300),f=r(62298),p=r(42155),m=r(1593),g=r(11281),y=r(86008);let v=(0,a.createContext)({isLoggedIn:!1,sessionLoading:!1,userInfo:null,currentLoginDetails:null,needsVerification:!1,interests:null,mfaSession:null,mfaError:null,refreshProfile:()=>{},logout:()=>{},initiateLogin:()=>{},verifyMfa:()=>{},initiateGoogleLogin:()=>{},completeGoogleCallback:()=>Promise.resolve(),resendMfaCode:()=>{},changeCredentials:()=>{},clearCurrentData:()=>{},sentToEmail:"",setLoginUserId:()=>{},successFullLogin:()=>{},routeAfterLogin:()=>{},setUserInfo:()=>{},completeLoginWithTokens:async()=>{}});function b(e){let{children:t}=e,r=(0,c.Us)(),b=(0,i.useRouter)(),w=(0,s.useSearchParams)(),x=null==w?void 0:w.get("redirectUrl"),[k,S]=(0,a.useState)(null),[C,A]=(0,a.useState)(null),[_,E]=(0,a.useState)(!1),[T,R]=(0,a.useState)(null),[O,I]=(0,a.useState)(null),[P,j]=(0,a.useState)(!1),[q,L]=(0,a.useState)(""),[N,M]=(0,a.useState)(null),[D,U]=(0,a.useState)(null);(0,a.useEffect)(()=>{let e=d.A.isInAppSession();(0,f.Ay)(),window.authContextRefresh=e=>{},d.A.migrateTokensToCookies();let t=d.A.getAccessToken(),n=d.A.getRefreshToken(),s=d.A.getLocalstorage(u.Ay.USER_INFO,!0),i=d.A.normalizeToken(d.A.getLegacyToken());if(!t&&e&&i&&(d.A.setAccessToken(i),t=i),t)E(!0),A(null),s?I(s):(async()=>{try{let e=await (0,p.E$)("",void 0,!0);e&&(d.A.setLocalstorage(u.Ay.USER_INFO,e,!0),I(e))}catch(e){}})();else if(n)(async()=>{try{r.toggleSpinner(!0);let e=await (0,f.eW)();(null==e?void 0:e.access_token)&&await B(e)}catch(e){d.A.removeRefreshToken()}finally{r.toggleSpinner(!1)}})();else{let e=d.A.getLegacyToken();e&&(async()=>{try{r.toggleSpinner(!0);let t=await h.EA(e);await B(t)}catch(e){var t;null==(t=d.A.removeLegacyToken)||t.call(d.A)}finally{r.toggleSpinner(!1)}})()}return()=>{delete window.authContextRefresh}},[]),(0,a.useEffect)(()=>{if(_){let e=d.A.getAccessToken();if(e){let t=d.A.decodeJwtPayload(e);(null==t?void 0:t.convex_id)&&y.ff.identify(t.convex_id,{username:t.preferred_username})}}},[_]),(0,a.useEffect)(()=>{_||y.ff.reset()},[_]);let F=(0,a.useCallback)(()=>{(d.A.getAccessToken()||d.A.getLegacyToken())&&(j(!0),(0,p.E$)("",void 0,!0).then(e=>{(null==e?void 0:e.username)&&(d.A.setLocalstorage(u.Ay.USER_INFO,e,!0),I(e),E(!0)),j(!1)}))},[]),$=async()=>{if(!T){let e=await (0,p.SD)();return R(e.data),e.data}},Q=async()=>{let e=d.A.getAccessToken();if(e)try{await h.ri(e)}catch(e){}d.A.clearAllTokens(),d.A.removeLocalstorage(u.Ay.USER_INFO);try{m.A.clear()}catch(e){}E(!1),I(null),M(null),o().push("/")},z=async(e,t,n)=>{var s,i,o,a,c,u,d,f,p,m,g,y;if(!_){S({input:e}),r.toggleSpinner(!0);try{let r=await h.iD(e,t,n);if("access_token"in r&&"refresh_token"in r)await B(r);else if("mfa"in r){let t={token:r.mfa.token,methods:r.mfa.methods.map(e=>{let t;switch(e.type,e.type){case 0:case"email":default:t="email";break;case 1:case"sms":t="sms";break;case 2:case"backup":t="backup";break;case 3:case"totp":t="totp"}return{type:t}})};M(t),U(null),L(e.includes("@")?e:""),E(!1);try{if(1===t.methods.length){let e=null==(s=t.methods[0])?void 0:s.type;"email"===e&&await h.jz(r.mfa.token),"sms"===e&&await h.A3(r.mfa.token)}}catch(e){}}else{let e=(null==r||null==(o=r.data)||null==(i=o.error)?void 0:i.message)||(null==r||null==(a=r.data)?void 0:a.message)||(null==r?void 0:r.message)||("string"==typeof r?r:void 0);e&&l.o.error({title:e}),S(null),M(null),E(!1)}}catch(t){let e=(null==t||null==(d=t.response)||null==(u=d.data)||null==(c=u.error)?void 0:c.message)||(null==t||null==(p=t.response)||null==(f=p.data)?void 0:f.message)||(null==t||null==(g=t.data)||null==(m=g.error)?void 0:m.message)||(null==t||null==(y=t.data)?void 0:y.message)||(null==t?void 0:t.message);e&&l.o.error({title:e}),S(null),M(null)}finally{r.toggleSpinner(!1)}}},V=async(e,t)=>{var n,s,i,o,a,c,u,d,f,p,m;if(!_&&N){r.toggleSpinner(!0);try{let r;switch(t){case"email":r=await h.EB(N.token,e);break;case"sms":r=await h.Pi(N.token,e);break;case"totp":r=await h.V6(N.token,e);break;case"backup":r=await h.a(N.token,e);break;default:throw Error("Invalid MFA method")}if(r&&"object"==typeof r&&"access_token"in r&&"refresh_token"in r)await B(r),U(null);else{let e=(null==r||null==(s=r.data)||null==(n=s.error)?void 0:n.message)||(null==r||null==(i=r.data)?void 0:i.message)||(null==r?void 0:r.message);U(e||null),e&&l.o.error({title:e})}}catch(t){let e=(null==t||null==(c=t.response)||null==(a=c.data)||null==(o=a.error)?void 0:o.message)||(null==t||null==(d=t.response)||null==(u=d.data)?void 0:u.message)||(null==t||null==(p=t.data)||null==(f=p.error)?void 0:f.message)||(null==t||null==(m=t.data)?void 0:m.message)||(null==t?void 0:t.message);U(e||null),e&&l.o.error({title:e})}finally{r.toggleSpinner(!1)}}},B=async e=>{try{m.A.clear()}catch(e){}d.A.setAccessToken(e.access_token),d.A.setRefreshToken(e.refresh_token),d.A.removeLegacyToken(),E(!0);try{let e=await (0,p.E$)("",void 0,!0);e&&(d.A.setLocalstorage(u.Ay.USER_INFO,e,!0),I(e)),await $(),A(null),S(null),M(null)}catch(e){}},H=async e=>{await B({access_token:e,refresh_token:e})},W=async e=>{if(N){r.toggleSpinner(!0);try{U(null),"email"===e?await h.jz(N.token):await h.A3(N.token),l.o.success({title:"Code sent via ".concat(e,".")})}catch(r){var t,n;let e="Failed to send code. Please try again.";(null==r||null==(n=r.data)||null==(t=n.error)?void 0:t.message)&&(e=r.data.error.message),l.o.error({title:e})}finally{r.toggleSpinner(!1)}}},K=async()=>{try{let e="".concat(window.location.origin).concat(g.b.AUTH.OATH.GOOGLE),t=new URLSearchParams(window.location.search).get("adId");t?sessionStorage.setItem("oauth_ad_id",t):sessionStorage.removeItem("oauth_ad_id");let r=await h.Lz("google",e);r.redirect_url&&(window.location.href=r.redirect_url)}catch(u){var e,t,r,n,s,i,o,a;let c=(null==u||null==(t=u.response)||null==(e=t.data)?void 0:e.message)||(null==u||null==(s=u.response)||null==(n=s.data)||null==(r=n.error)?void 0:r.message)||(null==u||null==(i=u.data)?void 0:i.message)||(null==u||null==(a=u.data)||null==(o=a.error)?void 0:o.message)||(null==u?void 0:u.message);c&&l.o.error({title:c})}},G=async(e,t)=>{var n,s,i,o,a,c,u,d,f;r.toggleSpinner(!0);try{let r=await h.$5({provider:"google",state:e,code:t});if("access_token"in r&&"refresh_token"in r)await B(r),await J();else if("onboarding_required"in r&&r.onboarding_required)sessionStorage.setItem("oauth_onboarding",JSON.stringify(r)),b.push(g.b.AUTH.OATH.ONBOARDING);else if("link_required"in r){let e=null==(n=r.link_required)?void 0:n.token;e?(sessionStorage.setItem("oauth_link_token",e),b.push(g.b.AUTH.OATH.LINK)):(l.o.error({title:"Linking failed. Please try again."}),b.push(g.b.AUTH.LOGIN))}}catch(t){let e=(null==t||null==(i=t.response)||null==(s=i.data)?void 0:s.message)||(null==t||null==(c=t.response)||null==(a=c.data)||null==(o=a.error)?void 0:o.message)||(null==t||null==(u=t.data)?void 0:u.message)||(null==t||null==(f=t.data)||null==(d=f.error)?void 0:d.message)||(null==t?void 0:t.message);e&&l.o.error({title:e}),b.push(g.b.AUTH.LOGIN)}finally{r.toggleSpinner(!1)}},J=async()=>{try{let e=b.query.callbackUrl,t=d.A.getAccessToken()||d.A.getLegacyToken();if(!t){E(!1),I(null),d.A.removeLocalstorage(u.Ay.USER_INFO),d.A.removeLocalstorage(u.Ay.TOKEN),b.push(g.b.AUTH.LOGIN);return}if(e&&"string"==typeof e)return void b.push(e);let r=null==T?void 0:T.flatMap(e=>e.list.filter(e=>e.selected)).map(e=>e.id);(null==r?void 0:r.length)===0?b.push({pathname:g.b.PROFILE.INTERESTS,query:{showSkipButton:!0}}):b.push(x?"".concat(x,"?token=").concat(t):g.b.PROFILE.ROOT)}catch(e){E(!1),b.push(g.b.AUTH.LOGIN)}},Y=async e=>{await B(e)};return(0,n.jsx)(v.Provider,{value:{isLoggedIn:_,userInfo:O,setUserInfo:I,currentLoginDetails:k,needsVerification:null!==N,mfaSession:N,mfaError:D,refreshProfile:F,logout:Q,sessionLoading:P,interests:T,initiateLogin:z,verifyMfa:V,initiateGoogleLogin:K,completeGoogleCallback:G,changeCredentials:()=>{A(null)},resendMfaCode:W,clearCurrentData:()=>{A(null),S(null),U(null),M(null)},sentToEmail:q,setLoginUserId:A,successFullLogin:H,routeAfterLogin:J,completeLoginWithTokens:Y},children:t})}function w(){return(0,a.useContext)(v)}},58162:(e,t,r)=>{"use strict";r.d(t,{i:()=>a});var n,s=r(14232),i=r(81285),o=(n||(n=r.t(s,2)))[" useInsertionEffect ".trim().toString()]||i.N;function a({prop:e,defaultProp:t,onChange:r=()=>{},caller:n}){let[i,a,l]=function({defaultProp:e,onChange:t}){let[r,n]=s.useState(e),i=s.useRef(r),a=s.useRef(t);return o(()=>{a.current=t},[t]),s.useEffect(()=>{i.current!==r&&(a.current?.(r),i.current=r)},[r,i]),[r,n,a]}({defaultProp:t,onChange:r}),c=void 0!==e,u=c?e:i;{let t=s.useRef(void 0!==e);s.useEffect(()=>{let e=t.current;if(e!==c){let t=c?"controlled":"uncontrolled";console.warn(`${n} is changing from ${e?"controlled":"uncontrolled"} to ${t}. Components should not switch from controlled to uncontrolled (or vice versa). Decide between using a controlled or uncontrolled value for the lifetime of the component.`)}t.current=c},[c,n])}return[u,s.useCallback(t=>{if(c){let r="function"==typeof t?t(e):t;r!==e&&l.current?.(r)}else a(t)},[c,e,a,l])]}Symbol("RADIX:SYNC_STATE")},58444:(e,t,r)=>{"use strict";r.d(t,{X:()=>a,k:()=>l});var n=r(37149),s=r(60388),i=r(48149),o=r(46305),a=class extends o.k{#B;#H;#W;#h;#F;#o;#K;constructor(e){super(),this.#K=!1,this.#o=e.defaultOptions,this.setOptions(e.options),this.observers=[],this.#h=e.client,this.#W=this.#h.getQueryCache(),this.queryKey=e.queryKey,this.queryHash=e.queryHash,this.#B=u(this.options),this.state=e.state??this.#B,this.scheduleGc()}get meta(){return this.options.meta}get promise(){return this.#F?.promise}setOptions(e){if(this.options={...this.#o,...e},this.updateGcTime(this.options.gcTime),this.state&&void 0===this.state.data){let e=u(this.options);void 0!==e.data&&(this.setState(c(e.data,e.dataUpdatedAt)),this.#B=e)}}optionalRemove(){this.observers.length||"idle"!==this.state.fetchStatus||this.#W.remove(this)}setData(e,t){let r=(0,n.pl)(this.state.data,e,this.options);return this.#$({data:r,type:"success",dataUpdatedAt:t?.updatedAt,manual:t?.manual}),r}setState(e,t){this.#$({type:"setState",state:e,setStateOptions:t})}cancel(e){let t=this.#F?.promise;return this.#F?.cancel(e),t?t.then(n.lQ).catch(n.lQ):Promise.resolve()}destroy(){super.destroy(),this.cancel({silent:!0})}reset(){this.destroy(),this.setState(this.#B)}isActive(){return this.observers.some(e=>!1!==(0,n.Eh)(e.options.enabled,this))}isDisabled(){return this.getObserversCount()>0?!this.isActive():this.options.queryFn===n.hT||this.state.dataUpdateCount+this.state.errorUpdateCount===0}isStatic(){return this.getObserversCount()>0&&this.observers.some(e=>"static"===(0,n.d2)(e.options.staleTime,this))}isStale(){return this.getObserversCount()>0?this.observers.some(e=>e.getCurrentResult().isStale):void 0===this.state.data||this.state.isInvalidated}isStaleByTime(e=0){return void 0===this.state.data||"static"!==e&&(!!this.state.isInvalidated||!(0,n.j3)(this.state.dataUpdatedAt,e))}onFocus(){let e=this.observers.find(e=>e.shouldFetchOnWindowFocus());e?.refetch({cancelRefetch:!1}),this.#F?.continue()}onOnline(){let e=this.observers.find(e=>e.shouldFetchOnReconnect());e?.refetch({cancelRefetch:!1}),this.#F?.continue()}addObserver(e){this.observers.includes(e)||(this.observers.push(e),this.clearGcTimeout(),this.#W.notify({type:"observerAdded",query:this,observer:e}))}removeObserver(e){this.observers.includes(e)&&(this.observers=this.observers.filter(t=>t!==e),this.observers.length||(this.#F&&(this.#K?this.#F.cancel({revert:!0}):this.#F.cancelRetry()),this.scheduleGc()),this.#W.notify({type:"observerRemoved",query:this,observer:e}))}getObserversCount(){return this.observers.length}invalidate(){this.state.isInvalidated||this.#$({type:"invalidate"})}async fetch(e,t){if("idle"!==this.state.fetchStatus&&this.#F?.status()!=="rejected"){if(void 0!==this.state.data&&t?.cancelRefetch)this.cancel({silent:!0});else if(this.#F)return this.#F.continueRetry(),this.#F.promise}if(e&&this.setOptions(e),!this.options.queryFn){let e=this.observers.find(e=>e.options.queryFn);e&&this.setOptions(e.options)}let r=new AbortController,s=e=>{Object.defineProperty(e,"signal",{enumerable:!0,get:()=>(this.#K=!0,r.signal)})},o=()=>{let e=(0,n.ZM)(this.options,t),r=(()=>{let e={client:this.#h,queryKey:this.queryKey,meta:this.meta};return s(e),e})();return(this.#K=!1,this.options.persister)?this.options.persister(e,r,this):e(r)},a=(()=>{let e={fetchOptions:t,options:this.options,queryKey:this.queryKey,client:this.#h,state:this.state,fetchFn:o};return s(e),e})();this.options.behavior?.onFetch(a,this),this.#H=this.state,("idle"===this.state.fetchStatus||this.state.fetchMeta!==a.fetchOptions?.meta)&&this.#$({type:"fetch",meta:a.fetchOptions?.meta}),this.#F=(0,i.II)({initialPromise:t?.initialPromise,fn:a.fetchFn,onCancel:e=>{e instanceof i.cc&&e.revert&&this.setState({...this.#H,fetchStatus:"idle"}),r.abort()},onFail:(e,t)=>{this.#$({type:"failed",failureCount:e,error:t})},onPause:()=>{this.#$({type:"pause"})},onContinue:()=>{this.#$({type:"continue"})},retry:a.options.retry,retryDelay:a.options.retryDelay,networkMode:a.options.networkMode,canRun:()=>!0});try{let e=await this.#F.start();if(void 0===e)throw Error(`${this.queryHash} data is undefined`);return this.setData(e),this.#W.config.onSuccess?.(e,this),this.#W.config.onSettled?.(e,this.state.error,this),e}catch(e){if(e instanceof i.cc){if(e.silent)return this.#F.promise;else if(e.revert){if(void 0===this.state.data)throw e;return this.state.data}}throw this.#$({type:"error",error:e}),this.#W.config.onError?.(e,this),this.#W.config.onSettled?.(this.state.data,e,this),e}finally{this.scheduleGc()}}#$(e){let t=t=>{switch(e.type){case"failed":return{...t,fetchFailureCount:e.failureCount,fetchFailureReason:e.error};case"pause":return{...t,fetchStatus:"paused"};case"continue":return{...t,fetchStatus:"fetching"};case"fetch":return{...t,...l(t.data,this.options),fetchMeta:e.meta??null};case"success":let r={...t,...c(e.data,e.dataUpdatedAt),dataUpdateCount:t.dataUpdateCount+1,...!e.manual&&{fetchStatus:"idle",fetchFailureCount:0,fetchFailureReason:null}};return this.#H=e.manual?r:void 0,r;case"error":let n=e.error;return{...t,error:n,errorUpdateCount:t.errorUpdateCount+1,errorUpdatedAt:Date.now(),fetchFailureCount:t.fetchFailureCount+1,fetchFailureReason:n,fetchStatus:"idle",status:"error"};case"invalidate":return{...t,isInvalidated:!0};case"setState":return{...t,...e.state}}};this.state=t(this.state),s.jG.batch(()=>{this.observers.forEach(e=>{e.onQueryUpdate()}),this.#W.notify({query:this,type:"updated",action:e})})}};function l(e,t){return{fetchFailureCount:0,fetchFailureReason:null,fetchStatus:(0,i.v_)(t.networkMode)?"fetching":"paused",...void 0===e&&{error:null,status:"pending"}}}function c(e,t){return{data:e,dataUpdatedAt:t??Date.now(),error:null,isInvalidated:!1,status:"success"}}function u(e){let t="function"==typeof e.initialData?e.initialData():e.initialData,r=void 0!==t,n=r?"function"==typeof e.initialDataUpdatedAt?e.initialDataUpdatedAt():e.initialDataUpdatedAt:0;return{data:t,dataUpdateCount:0,dataUpdatedAt:r?n??Date.now():0,error:null,errorUpdateCount:0,errorUpdatedAt:0,fetchFailureCount:0,fetchFailureReason:null,fetchMeta:null,isInvalidated:!1,status:r?"success":"pending",fetchStatus:"idle"}}},60388:(e,t,r)=>{"use strict";r.d(t,{jG:()=>s});var n=r(48306).Zq,s=function(){let e=[],t=0,r=e=>{e()},s=e=>{e()},i=n,o=n=>{t?e.push(n):i(()=>{r(n)})};return{batch:n=>{let o;t++;try{o=n()}finally{--t||(()=>{let t=e;e=[],t.length&&i(()=>{s(()=>{t.forEach(e=>{r(e)})})})})()}return o},batchCalls:e=>(...t)=>{o(()=>{e(...t)})},schedule:o,setNotifyFunction:e=>{r=e},setBatchNotifyFunction:e=>{s=e},setScheduler:e=>{i=e}}}()},61287:e=>{var t={utf8:{stringToBytes:function(e){return t.bin.stringToBytes(unescape(encodeURIComponent(e)))},bytesToString:function(e){return decodeURIComponent(escape(t.bin.bytesToString(e)))}},bin:{stringToBytes:function(e){for(var t=[],r=0;r<e.length;r++)t.push(255&e.charCodeAt(r));return t},bytesToString:function(e){for(var t=[],r=0;r<e.length;r++)t.push(String.fromCharCode(e[r]));return t.join("")}}};e.exports=t},61482:(e,t,r)=>{"use strict";r.d(t,{PL:()=>s,RQ:()=>l,rB:()=>a});var n=r(37149);function s(e){return{onFetch:(t,r)=>{let s=t.options,a=t.fetchOptions?.meta?.fetchMore?.direction,l=t.state.data?.pages||[],c=t.state.data?.pageParams||[],u={pages:[],pageParams:[]},d=0,h=async()=>{let r=!1,h=(0,n.ZM)(t.options,t.fetchOptions),f=async(e,s,i)=>{if(r)return Promise.reject();if(null==s&&e.pages.length)return Promise.resolve(e);let o=(()=>{let e={client:t.client,queryKey:t.queryKey,pageParam:s,direction:i?"backward":"forward",meta:t.options.meta};return Object.defineProperty(e,"signal",{enumerable:!0,get:()=>(t.signal.aborted?r=!0:t.signal.addEventListener("abort",()=>{r=!0}),t.signal)}),e})(),a=await h(o),{maxPages:l}=t.options,c=i?n.ZZ:n.y9;return{pages:c(e.pages,a,l),pageParams:c(e.pageParams,s,l)}};if(a&&l.length){let e="backward"===a,t={pages:l,pageParams:c},r=(e?o:i)(s,t);u=await f(t,r,e)}else{let t=e??l.length;do{let e=0===d?c[0]??s.initialPageParam:i(s,u);if(d>0&&null==e)break;u=await f(u,e),d++}while(d<t)}return u};t.options.persister?t.fetchFn=()=>t.options.persister?.(h,{client:t.client,queryKey:t.queryKey,meta:t.options.meta,signal:t.signal},r):t.fetchFn=h}}}function i(e,{pages:t,pageParams:r}){let n=t.length-1;return t.length>0?e.getNextPageParam(t[n],t,r[n],r):void 0}function o(e,{pages:t,pageParams:r}){return t.length>0?e.getPreviousPageParam?.(t[0],t,r[0],r):void 0}function a(e,t){return!!t&&null!=i(e,t)}function l(e,t){return!!t&&!!e.getPreviousPageParam&&null!=o(e,t)}},62146:(e,t,r)=>{"use strict";r.d(t,{c:()=>s});var n=r(14232);function s(e){let t=n.useRef(e);return n.useEffect(()=>{t.current=e}),n.useMemo(()=>(...e)=>t.current?.(...e),[])}},62298:(e,t,r)=>{"use strict";r.d(t,{Ay:()=>v,eW:()=>g});var n=r(45261),s=r(20300),i=r(16632),o=r(1593),a=r(11281);class l{static getInstance(){return l.instance||(l.instance=new l),l.instance}handle401(){let e=n.A.getLocalstorage(i.Ay.USER_INFO),t=n.A.getLocalstorage(i.Ay.TOKEN),r=n.A.getAccessToken(),s=n.A.getRefreshToken();if(e||t||r||s){n.A.clearAllTokens(),n.A.removeLocalstorage(i.Ay.USER_INFO),n.A.removeLocalstorage(i.Ay.TOKEN);try{o.A.clear()}catch(e){}"undefined"!=typeof document&&n.A.clearCookie(i.Ay.TOKEN);try{let e=window.location.pathname||"";/^(\/login|\/signup|\/oauth|\/forgot-password)/.test(e)||(window.location.href=a.b.AUTH.LOGIN)}catch(e){window.location.href=a.b.AUTH.LOGIN}}}constructor(){}}let c=l.getInstance();var u=r(78567);let d=null,h=[/\/sessions\/refresh\b/,/\/login\b/,/\/register\b/,/\/mfa\//,/\/oauth\//],f=["authorization","x-linkme-api-sso-token-v2"];async function p(){let e=n.A.getRefreshToken();if(!e)return n.A.isInAppSession()||y(),null;try{let i=await s.Ow(e);if((null==i?void 0:i.access_token)&&(null==i?void 0:i.refresh_token)){var t,r;return n.A.setAccessToken(i.access_token),n.A.setRefreshToken(i.refresh_token),null==(t=(r=window).authContextRefresh)||t.call(r,i),i}throw Error("Invalid token response")}catch(e){return y(),null}}async function m(){return d||(d=p().finally(()=>{d=null})),d}async function g(){return m()}function y(){n.A.clearAllTokens(),c.handle401()}let v=async function(){if(n.A.isInAppSession())return;let e=window;if(e.__refreshInterceptorInstalled)return;let t=e.fetch.bind(e),r=function(e){let t=new Set;try{var r,n;let s=null!=(n=null===u.A||void 0===u.A||null==(r=u.A.config)?void 0:r.apiEndpoints)?n:{};for(let r of Object.values(s))try{let n=new URL(String(r),e.location.origin);n.host&&t.add(n.host)}catch(e){}}catch(e){}try{e.location.host&&t.add(e.location.host)}catch(e){}return t}(e);e.fetch=async function(){for(var s,i,o,a,l=arguments.length,c=Array(l),u=0;u<l;u++)c[u]=arguments[u];let[d,p]=c,g=d instanceof Request?d:new Request(d,p),v=g.clone(),b=await t(g);if(401!==b.status)return b;let w=null;try{w=new URL(g.url,e.location.origin)}catch(e){return b}if(s=w,!r.has(s.host)||(i=w,h.some(e=>e.test(i.pathname))))return b;let x=(o=g.headers,f.some(e=>o.has(e))),k=n.A.getRefreshToken();if(n.A.isInAppSession()||!x&&!k)return b;if(!k)return y(),b;let S=await m();if(!S||(null==(a=v.signal)?void 0:a.aborted))return b;let C=function(e,t){let r=new Headers(e.headers);return r.set("Authorization","Bearer ".concat(t)),r.set("x-linkme-api-sso-token-v2",t),new Request(e,{headers:r})}(v,S.access_token);return await t(C)},e.__refreshInterceptorInstalled=!0}},66039:(e,t,r)=>{"use strict";r.d(t,{OH:()=>h,hr:()=>f});var n=r(37876),s=r(14232),i=r(67768),o=r(74359),a=r(89099),l=r(58070),c=r(46583),u=r(21815);let d=(0,s.createContext)({agency:null,userAgencies:[],ownedAgencies:[],invitations:[],managers:[],agencyUsers:[],selectedAgencyUserId:null,setSelectedAgencyUserId:()=>{},loadingAgencyUsers:!1,loading:!1,error:null,isAgencyOwner:!1,isAgencyManager:!1,isMember:!1,hasInvitations:!1,userRole:"none",activeAgencyId:null,setActiveAgencyId:()=>{},currentView:"dashboard",setCurrentView:()=>{},refreshAgency:async()=>{},refreshUserAgencies:async()=>{},refreshInvitations:async()=>{},refreshManagers:async()=>{},refreshOwnedAgencies:async()=>{},refreshAgencyUsers:async()=>{},refreshAll:async()=>{}}),h=()=>(0,s.useContext)(d),f=e=>{var t,r,h,f;let{children:p}=e,{userInfo:m}=(0,l.Z2)(),g=(0,i.jE)(),y=(0,a.useRouter)(),[v,b]=(0,s.useState)(null),[w,x]=(0,s.useState)("dashboard"),k=e=>{b(e)},[S,C]=(0,s.useState)([]),[A,_]=(0,s.useState)(null),[E,T]=(0,s.useState)(!1),[R,O]=(0,s.useState)(null),I=async()=>{if(!v)return null;try{return await (0,u.r)(v)}catch(e){return O("Failed to fetch agency data"),null}},P=async()=>{if(!v)return{users:[]};try{var e;T(!0);let t=await (0,c.YC)(v,"active"),r=(null==t||null==(e=t.response)?void 0:e.users)||(null==t?void 0:t.users)||[];return C(r),{users:r}}catch(e){return O("Failed to fetch agency users"),{users:[]}}finally{T(!1)}},j=async()=>{try{return await (0,c.z1)()}catch(e){return O("Failed to fetch user memberships"),{memberships:[]}}},q=async()=>{try{return await (0,c.eE)()}catch(e){return O("Failed to fetch invitations"),{invitations:[]}}},L=async()=>{if(!v)return{managers:[]};try{return await (0,c.pA)(v)}catch(e){return O("Failed to fetch managers"),{managers:[]}}},N=async()=>{try{return await (0,c.dp)()}catch(e){return O("Failed to fetch owned agencies"),{agencies:[]}}},{data:M,isLoading:D,refetch:U}=(0,o.I)({queryKey:["agencyData",null==m?void 0:m.id,v],queryFn:I,enabled:!!(null==m?void 0:m.id)&&!!v,staleTime:3e5,gcTime:6e5}),{data:F,refetch:$}=(0,o.I)({queryKey:["agencyUsers",v],queryFn:P,enabled:!!v,staleTime:3e5,gcTime:6e5});(0,s.useEffect)(()=>{(null==F?void 0:F.users)&&C(F.users)},[F]);let{data:Q,isLoading:z,refetch:V}=(0,o.I)({queryKey:["userAgencies",null==m?void 0:m.id],queryFn:j,enabled:!!(null==m?void 0:m.id)}),{data:B,isLoading:H,refetch:W}=(0,o.I)({queryKey:["ownedAgencies",null==m?void 0:m.id],queryFn:N,enabled:!!(null==m?void 0:m.id)}),{data:K,isLoading:G,refetch:J}=(0,o.I)({queryKey:["agencyInvitations",null==m?void 0:m.id],queryFn:q,enabled:!!(null==m?void 0:m.id)}),{data:Y,isLoading:X,refetch:Z}=(0,o.I)({queryKey:["agencyManagers",v],queryFn:L,enabled:!!v}),ee=(null==M?void 0:M.response)||M||{},et=(null==ee?void 0:ee.agency)||null,er=(null==ee?void 0:ee.isOwner)||!1,en=(null==ee?void 0:ee.isManager)||!!(null==ee?void 0:ee.managerPermissionLevel)||!1,es=(null==Q||null==(t=Q.response)?void 0:t.memberships)||(null==Q?void 0:Q.memberships)||[],ei=(null==B||null==(r=B.response)?void 0:r.agencies)||(null==B?void 0:B.agencies)||[],eo=(null==K||null==(h=K.response)?void 0:h.invitations)||(null==K?void 0:K.invitations)||[],ea=(null==Y||null==(f=Y.response)?void 0:f.managers)||(null==Y?void 0:Y.managers)||[],el=!0===er,ec=!0===en,eu=!!et,ed=eo.length>0,eh="none";el?eh="owner":ec?eh="manager":eu?eh="member":ed&&(eh="invited"),(0,s.useEffect)(()=>{if(y.isReady&&y.pathname.includes("/agency/[id]")){let e=y.query.id;e&&"string"==typeof e&&v!==e&&k(e)}},[y.isReady,y.pathname,y.query.id]),(0,s.useEffect)(()=>{!v&&(ei.length>0?k(ei[0].id):es.length>0&&k(es[0].id))},[v,ei,es]),(0,s.useEffect)(()=>{!eu&&ed&&"dashboard"===w?x("invitations"):eu||ed||"dashboard"!==w||x("create")},[eu,ed,w]);let ef={agency:et,userAgencies:es,ownedAgencies:ei,invitations:eo,managers:ea,agencyUsers:S,selectedAgencyUserId:A,setSelectedAgencyUserId:_,loadingAgencyUsers:E,loading:D||z||H||G||X,error:R,isAgencyOwner:el,isAgencyManager:ec,isMember:eu,hasInvitations:ed,userRole:eh,activeAgencyId:v,setActiveAgencyId:k,currentView:w,setCurrentView:x,refreshAgency:async()=>{await U()},refreshUserAgencies:async()=>{await V()},refreshInvitations:async()=>{await J()},refreshManagers:async()=>{await Z()},refreshOwnedAgencies:async()=>{await W()},refreshAgencyUsers:async()=>{await $()},refreshAll:async()=>{await Promise.all([U(),V(),W(),J(),Z(),$()]),g.invalidateQueries({queryKey:["agencyData"]}),g.invalidateQueries({queryKey:["userAgencies"]}),g.invalidateQueries({queryKey:["ownedAgencies"]}),g.invalidateQueries({queryKey:["agencyInvitations"]}),g.invalidateQueries({queryKey:["agencyManagers"]}),g.invalidateQueries({queryKey:["agencyUsers"]})}};return(0,n.jsx)(d.Provider,{value:ef,children:p})}},67768:(e,t,r)=>{"use strict";r.d(t,{Ht:()=>a,jE:()=>o});var n=r(14232),s=r(37876),i=n.createContext(void 0),o=e=>{let t=n.useContext(i);if(e)return e;if(!t)throw Error("No QueryClient set, use QueryClientProvider to set one");return t},a=({client:e,children:t})=>(n.useEffect(()=>(e.mount(),()=>{e.unmount()}),[e]),(0,s.jsx)(i.Provider,{value:e,children:t}))},69045:(e,t,r)=>{"use strict";r.d(t,{B5:()=>y,HH:()=>a,I6:()=>l,L:()=>f,L8:()=>u,N$:()=>p,PH:()=>c,TY:()=>d,_s:()=>g,f:()=>o,kC:()=>m,mX:()=>h,uR:()=>i});var n=r(78567),s=r(54040);let i="".concat(n.A.config.apiEndpoints.creators,"/stripe"),o=async e=>await (0,s.rU)("".concat(i,"/payment/create-payment-intent"),e),a=async e=>await (0,s.HU)("".concat(i,"/status/user-stripe-info?userId=").concat(e)),l=async()=>await (0,s.HU)("".concat(i,"/status/stripe-account-status")),c=async()=>(await (0,s.HU)("".concat(i,"/onboarding/refresh"))).url,u=async e=>{await (0,s.HU)("".concat(i,"/onboarding/complete?userId=").concat(e))},d=async e=>(await (0,s.HU)("".concat(i,"/status/user-tip-status?userId=").concat(e))).tipsEnabled,h=async function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,t=await (0,s.HU)("".concat(i,"/analytics/tips?page=").concat(e));if(!t||!Array.isArray(null==t?void 0:t.tips))throw Error("No tips data found");return t},f=async(e,t)=>{let r=await (0,s.HU)("".concat(i,"/analytics/tips/stats?fromDate=").concat(e,"&toDate=").concat(t));if(!r)throw Error("No analytics data found");return r},p=async e=>{await (0,s.JM)("".concat(i,"/status/toggle-tips"),{enabled:e})},m=async()=>{let e=await (0,s.HU)("".concat(i,"/onboarding/account-session"));if(!e)throw Error("Failed to create account session");return e},g=async e=>{let t=new URL("".concat(i,"/onboarding/account-session-onboarding"));e&&t.searchParams.append("country",e);let r=await (0,s.HU)(t.toString());if(!r)throw Error("Failed to create account session for onboarding");return r},y=async()=>{let e=await (0,s.HU)("".concat(i,"/onboarding/account-session-onboarding/countries"));if(!e||!e.countries)throw Error("Failed to get supported countries");return e.countries}},69122:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"notFound",{enumerable:!0,get:function(){return s}});let n=""+r(38811).HTTP_ERROR_FALLBACK_ERROR_CODE+";404";function s(){let e=Object.defineProperty(Error(n),"__NEXT_ERROR_CODE",{value:"E394",enumerable:!1,configurable:!0});throw e.digest=n,e}("function"==typeof t.default||"object"==typeof t.default&&null!==t.default)&&void 0===t.default.__esModule&&(Object.defineProperty(t.default,"__esModule",{value:!0}),Object.assign(t.default,t),e.exports=t.default)},69241:(e,t,r)=>{"use strict";function n(){for(var e,t,r=0,n="",s=arguments.length;r<s;r++)(e=arguments[r])&&(t=function e(t){var r,n,s="";if("string"==typeof t||"number"==typeof t)s+=t;else if("object"==typeof t)if(Array.isArray(t)){var i=t.length;for(r=0;r<i;r++)t[r]&&(n=e(t[r]))&&(s&&(s+=" "),s+=n)}else for(n in t)t[n]&&(s&&(s+=" "),s+=n);return s}(e))&&(n&&(n+=" "),n+=t);return n}r.d(t,{$:()=>n,A:()=>s});let s=n},69591:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),!function(e,t){for(var r in t)Object.defineProperty(e,r,{enumerable:!0,get:t[r]})}(t,{ReadonlyURLSearchParams:function(){return u},RedirectType:function(){return s.RedirectType},forbidden:function(){return o.forbidden},notFound:function(){return i.notFound},permanentRedirect:function(){return n.permanentRedirect},redirect:function(){return n.redirect},unauthorized:function(){return a.unauthorized},unstable_isUnrecognizedActionError:function(){return d},unstable_rethrow:function(){return l.unstable_rethrow}});let n=r(75026),s=r(61481),i=r(69122),o=r(79331),a=r(90376),l=r(18444);class c extends Error{constructor(){super("Method unavailable on `ReadonlyURLSearchParams`. Read more: https://nextjs.org/docs/app/api-reference/functions/use-search-params#updating-searchparams")}}class u extends URLSearchParams{append(){throw new c}delete(){throw new c}set(){throw new c}sort(){throw new c}}function d(){throw Object.defineProperty(Error("`unstable_isUnrecognizedActionError` can only be used on the client."),"__NEXT_ERROR_CODE",{value:"E776",enumerable:!1,configurable:!0})}("function"==typeof t.default||"object"==typeof t.default&&null!==t.default)&&void 0===t.default.__esModule&&(Object.defineProperty(t.default,"__esModule",{value:!0}),Object.assign(t.default,t),e.exports=t.default)},70294:(e,t,r)=>{"use strict";r.d(t,{B:()=>l});var n,s=r(14232),i=r(81285),o=(n||(n=r.t(s,2)))[" useId ".trim().toString()]||(()=>void 0),a=0;function l(e){let[t,r]=s.useState(o());return(0,i.N)(()=>{e||r(e=>e??String(a++))},[e]),e||(t?`radix-${t}`:"")}},71011:e=>{!function(){var t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",r={rotl:function(e,t){return e<<t|e>>>32-t},rotr:function(e,t){return e<<32-t|e>>>t},endian:function(e){if(e.constructor==Number)return 0xff00ff&r.rotl(e,8)|0xff00ff00&r.rotl(e,24);for(var t=0;t<e.length;t++)e[t]=r.endian(e[t]);return e},randomBytes:function(e){for(var t=[];e>0;e--)t.push(Math.floor(256*Math.random()));return t},bytesToWords:function(e){for(var t=[],r=0,n=0;r<e.length;r++,n+=8)t[n>>>5]|=e[r]<<24-n%32;return t},wordsToBytes:function(e){for(var t=[],r=0;r<32*e.length;r+=8)t.push(e[r>>>5]>>>24-r%32&255);return t},bytesToHex:function(e){for(var t=[],r=0;r<e.length;r++)t.push((e[r]>>>4).toString(16)),t.push((15&e[r]).toString(16));return t.join("")},hexToBytes:function(e){for(var t=[],r=0;r<e.length;r+=2)t.push(parseInt(e.substr(r,2),16));return t},bytesToBase64:function(e){for(var r=[],n=0;n<e.length;n+=3)for(var s=e[n]<<16|e[n+1]<<8|e[n+2],i=0;i<4;i++)8*n+6*i<=8*e.length?r.push(t.charAt(s>>>6*(3-i)&63)):r.push("=");return r.join("")},base64ToBytes:function(e){e=e.replace(/[^A-Z0-9+\/]/ig,"");for(var r=[],n=0,s=0;n<e.length;s=++n%4)0!=s&&r.push((t.indexOf(e.charAt(n-1))&Math.pow(2,-2*s+8)-1)<<2*s|t.indexOf(e.charAt(n))>>>6-2*s);return r}};e.exports=r}()},72502:(e,t,r)=>{"use strict";r.d(t,{A:()=>n});let n=(0,r(17963).A)("circle-check",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]])},73982:(e,t,r)=>{"use strict";r.d(t,{c:()=>a,i:()=>o});var n=r(37876),s=r(14232);let i=(0,s.createContext)(void 0);function o(e){let{children:t}=e,[r,o]=(0,s.useState)(!1),[a,l]=(0,s.useState)("");return(0,n.jsx)(i.Provider,{value:{isNavigating:r,setIsNavigating:o,currentRoute:a,setCurrentRoute:l},children:t})}function a(){let e=(0,s.useContext)(i);if(void 0===e)throw Error("useNavigation must be used within a NavigationProvider");return e}},74359:(e,t,r)=>{"use strict";r.d(t,{I:()=>i});var n=r(13478),s=r(23836);function i(e,t){return(0,s.t)(e,n.$,t)}},75026:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),!function(e,t){for(var r in t)Object.defineProperty(e,r,{enumerable:!0,get:t[r]})}(t,{getRedirectError:function(){return o},getRedirectStatusCodeFromError:function(){return d},getRedirectTypeFromError:function(){return u},getURLFromRedirectError:function(){return c},permanentRedirect:function(){return l},redirect:function(){return a}});let n=r(46843),s=r(61481),i=void 0;function o(e,t,r){void 0===r&&(r=n.RedirectStatusCode.TemporaryRedirect);let i=Object.defineProperty(Error(s.REDIRECT_ERROR_CODE),"__NEXT_ERROR_CODE",{value:"E394",enumerable:!1,configurable:!0});return i.digest=s.REDIRECT_ERROR_CODE+";"+t+";"+e+";"+r+";",i}function a(e,t){var r;throw null!=t||(t=(null==i||null==(r=i.getStore())?void 0:r.isAction)?s.RedirectType.push:s.RedirectType.replace),o(e,t,n.RedirectStatusCode.TemporaryRedirect)}function l(e,t){throw void 0===t&&(t=s.RedirectType.replace),o(e,t,n.RedirectStatusCode.PermanentRedirect)}function c(e){return(0,s.isRedirectError)(e)?e.digest.split(";").slice(2,-2).join(";"):null}function u(e){if(!(0,s.isRedirectError)(e))throw Object.defineProperty(Error("Not a redirect error"),"__NEXT_ERROR_CODE",{value:"E260",enumerable:!1,configurable:!0});return e.digest.split(";",2)[1]}function d(e){if(!(0,s.isRedirectError)(e))throw Object.defineProperty(Error("Not a redirect error"),"__NEXT_ERROR_CODE",{value:"E260",enumerable:!1,configurable:!0});return Number(e.digest.split(";").at(-2))}("function"==typeof t.default||"object"==typeof t.default&&null!==t.default)&&void 0===t.default.__esModule&&(Object.defineProperty(t.default,"__esModule",{value:!0}),Object.assign(t.default,t),e.exports=t.default)},77098:(e,t,r)=>{"use strict";r.d(t,{A:()=>u});var n=r(37876),s=r(14232),i=r(89099),o=r(56460);let a=[{path:"/profile",type:"allowed",title:"Profile"},{path:"/profile/edit",type:"allowed",title:"Edit Profile"},{path:"/monetize",type:"coming-soon",title:"Monetization Hub",description:"Revenue and earnings management coming soon to acting mode"},{path:"/shop/digital-products",type:"coming-soon",title:"Digital Products",description:"Create and manage digital products in acting mode - coming soon"},{path:"/shop/physical-products",type:"coming-soon",title:"Shop Management",description:"Full shop experience for acted users - in development"},{path:"/email-list",type:"coming-soon",title:"Contact Center",description:"Advanced contact management features coming to acting mode"},{path:"/settings",type:"excluded"}];function l(e){let t=e.split("?")[0].replace(/\/$/,""),r=a.find(e=>e.path===t);return r||a.find(e=>t.startsWith(e.path)&&("/"===t[e.path.length]||t===e.path))}var c=r(11281);let u=()=>{var e;let{isActingAs:t,actingAsUser:r,stopActingAs:a}=(0,o.fA)(),u=(0,i.useRouter)(),[d,h]=(0,s.useState)({x:0,y:0}),[f,p]=(0,s.useState)(!1),[m,g]=(0,s.useState)({x:0,y:0}),[y,v]=(0,s.useState)(null),b=(0,s.useRef)(null);if((0,s.useEffect)(()=>{let e=sessionStorage.getItem("actingAsBannerPosition");if(e)try{let t=JSON.parse(e);h(t)}catch(e){}},[]),(0,s.useEffect)(()=>{(0!==d.x||0!==d.y)&&sessionStorage.setItem("actingAsBannerPosition",JSON.stringify(d))},[d]),(0,s.useEffect)(()=>{(()=>{let e=u.pathname;!function(e){let t=l(e);return(null==t?void 0:t.type)==="allowed"}(e)?function(e){let t=l(e);return(null==t?void 0:t.type)==="coming-soon"}(e)?v("coming-soon"):e.startsWith(c.b.SETTINGS)?v(null):v("restricted"):v("allowed")})()},[u.pathname]),(0,s.useEffect)(()=>{let e=e=>{var t,r;if(!f)return;let n=e.clientX-m.x,s=e.clientY-m.y,i=window.innerWidth,o=window.innerHeight,a=(null==(t=b.current)?void 0:t.offsetWidth)||0;h({x:Math.max(0,Math.min(n,i-a)),y:Math.max(0,Math.min(s,o-((null==(r=b.current)?void 0:r.offsetHeight)||0)))})},t=e=>{var t,r;if(!f)return;e.preventDefault();let n=e.touches[0],s=n.clientX-m.x,i=n.clientY-m.y,o=window.innerWidth,a=window.innerHeight,l=(null==(t=b.current)?void 0:t.offsetWidth)||0;h({x:Math.max(0,Math.min(s,o-l)),y:Math.max(0,Math.min(i,a-((null==(r=b.current)?void 0:r.offsetHeight)||0)))})},r=()=>{p(!1)},n=()=>{p(!1)};if(f)return document.addEventListener("mousemove",e),document.addEventListener("mouseup",r),document.addEventListener("touchmove",t,{passive:!1}),document.addEventListener("touchend",n),()=>{document.removeEventListener("mousemove",e),document.removeEventListener("mouseup",r),document.removeEventListener("touchmove",t),document.removeEventListener("touchend",n)}},[f,m]),!t||!r)return null;let w=0===d.x&&0===d.y?{bottom:"10vh",left:"1.5rem"}:{left:"".concat(d.x,"px"),top:"".concat(d.y,"px"),transform:"none"};return(0,n.jsx)("div",{ref:b,className:"fixed z-[9999] pointer-events-none ".concat(f?"select-none":""),style:w,children:(0,n.jsxs)("div",{className:"bg-black/80 backdrop-blur-md text-white rounded-2xl shadow-2xl p-4 border border-white/10 max-w-sm pointer-events-auto cursor-move",onMouseDown:e=>{var t;if(e.target.closest("button"))return;p(!0);let r=null==(t=b.current)?void 0:t.getBoundingClientRect();r&&g({x:e.clientX-r.left,y:e.clientY-r.top})},onTouchStart:e=>{var t;if(e.target.closest("button"))return;e.preventDefault(),p(!0);let r=e.touches[0],n=null==(t=b.current)?void 0:t.getBoundingClientRect();n&&g({x:r.clientX-n.left,y:r.clientY-n.top})},children:[(0,n.jsxs)("div",{className:"flex items-start gap-3",children:[(0,n.jsx)("div",{className:"flex-shrink-0",children:r.profile_image?(0,n.jsx)("img",{src:r.profile_image,alt:r.username,className:"w-12 h-12 rounded-full object-cover border-2 border-white/20"}):(0,n.jsx)("div",{className:"w-12 h-12 rounded-full bg-gradient-to-br from-purple-500 to-blue-500 flex items-center justify-center",children:(0,n.jsx)("span",{className:"text-white font-medium text-lg",children:(null==(e=r.username)?void 0:e.charAt(0).toUpperCase())||"?"})})}),(0,n.jsxs)("div",{className:"flex-1",children:[(0,n.jsxs)("div",{className:"flex items-center gap-2 mb-1",children:[(0,n.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-4 w-4 text-purple-400",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:(0,n.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M16 7a4 4 0 11-8 0 4 4 0 018 0zM12 14a7 7 0 00-7 7h14a7 7 0 00-7-7z"})}),(0,n.jsx)("span",{className:"text-xs font-medium text-purple-400",children:"Acting as"})]}),(0,n.jsxs)("div",{className:"text-white",children:[(0,n.jsx)("div",{className:"font-semibold text-sm",children:r.name||r.username}),(0,n.jsxs)("div",{className:"text-xs text-white/60",children:["@",r.username,r.agency&&(0,n.jsxs)("span",{className:"ml-2",children:[" ",r.agency.name]})]}),y&&(0,n.jsxs)("div",{className:"mt-2",children:["allowed"===y&&(0,n.jsxs)("div",{className:"flex items-center gap-2 bg-green-500/20 rounded-lg px-2.5 py-1.5 border border-green-500/30",children:[(0,n.jsx)("div",{className:"w-2 h-2 rounded-full bg-green-400 animate-pulse"}),(0,n.jsx)("span",{className:"text-xs text-green-400 font-semibold",children:"Active on this page"})]}),"coming-soon"===y&&(0,n.jsxs)("div",{className:"flex items-center gap-2 bg-yellow-500/20 rounded-lg px-2.5 py-1.5 border border-yellow-500/30",children:[(0,n.jsx)("svg",{className:"w-4 h-4 text-yellow-400",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:(0,n.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 8v4l3 3m6-3a9 9 0 11-18 0 9 9 0 0118 0z"})}),(0,n.jsx)("span",{className:"text-xs text-yellow-400 font-semibold",children:"Coming soon"})]}),"restricted"===y&&(0,n.jsxs)("div",{className:"flex items-center gap-2 bg-orange-500/20 rounded-lg px-2.5 py-1.5 border border-orange-500/30",children:[(0,n.jsx)("svg",{className:"w-4 h-4 text-orange-400",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:(0,n.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 15v2m-6 4h12a2 2 0 002-2v-6a2 2 0 00-2-2H6a2 2 0 00-2 2v6a2 2 0 002 2zm10-10V7a4 4 0 00-8 0v4h8z"})}),(0,n.jsx)("span",{className:"text-xs text-orange-400 font-semibold",children:"Viewing as yourself"})]})]})]})]}),(0,n.jsx)("button",{onClick:e=>{e.preventDefault(),e.stopPropagation(),a()},className:"flex-shrink-0 p-2.5 -m-1 hover:bg-white/10 rounded-lg transition-colors group cursor-pointer relative z-10 min-w-[36px] min-h-[36px] flex items-center justify-center",title:"Exit Acting Mode",type:"button",children:(0,n.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5 text-white/60 group-hover:text-white pointer-events-none",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:(0,n.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]}),(0,n.jsx)("div",{className:"absolute bottom-1 left-1/2 transform -translate-x-1/2 opacity-30",children:(0,n.jsxs)("svg",{width:"20",height:"4",viewBox:"0 0 20 4",fill:"white",children:[(0,n.jsx)("rect",{width:"20",height:"1",rx:"0.5"}),(0,n.jsx)("rect",{y:"3",width:"20",height:"1",rx:"0.5"})]})})]})})}},77328:(e,t,r)=>{e.exports=r(29269)},78567:(e,t,r)=>{"use strict";r.d(t,{A:()=>o});var n=r(39324);let{serverRuntimeConfig:s,publicRuntimeConfig:i}=r.n(n)()(),o={config:i,serverConfig:s}},79331:(e,t,r)=>{"use strict";function n(){throw Object.defineProperty(Error("`forbidden()` is experimental and only allowed to be enabled when `experimental.authInterrupts` is enabled."),"__NEXT_ERROR_CODE",{value:"E488",enumerable:!1,configurable:!0})}Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"forbidden",{enumerable:!0,get:function(){return n}}),r(38811).HTTP_ERROR_FALLBACK_ERROR_CODE,("function"==typeof t.default||"object"==typeof t.default&&null!==t.default)&&void 0===t.default.__esModule&&(Object.defineProperty(t.default,"__esModule",{value:!0}),Object.assign(t.default,t),e.exports=t.default)},80400:(e,t,r)=>{"use strict";r.d(t,{UE:()=>j,ll:()=>_,rD:()=>L,__:()=>E,UU:()=>O,jD:()=>P,ER:()=>q,cY:()=>T,BN:()=>R,Ej:()=>I});var n=r(81040);function s(e,t,r){let s,{reference:i,floating:o}=e,a=(0,n.TV)(t),l=(0,n.Dz)(t),c=(0,n.sq)(l),u=(0,n.C0)(t),d="y"===a,h=i.x+i.width/2-o.width/2,f=i.y+i.height/2-o.height/2,p=i[c]/2-o[c]/2;switch(u){case"top":s={x:h,y:i.y-o.height};break;case"bottom":s={x:h,y:i.y+i.height};break;case"right":s={x:i.x+i.width,y:f};break;case"left":s={x:i.x-o.width,y:f};break;default:s={x:i.x,y:i.y}}switch((0,n.Sg)(t)){case"start":s[l]-=p*(r&&d?-1:1);break;case"end":s[l]+=p*(r&&d?-1:1)}return s}let i=async(e,t,r)=>{let{placement:n="bottom",strategy:i="absolute",middleware:o=[],platform:a}=r,l=o.filter(Boolean),c=await (null==a.isRTL?void 0:a.isRTL(t)),u=await a.getElementRects({reference:e,floating:t,strategy:i}),{x:d,y:h}=s(u,n,c),f=n,p={},m=0;for(let r=0;r<l.length;r++){let{name:o,fn:g}=l[r],{x:y,y:v,data:b,reset:w}=await g({x:d,y:h,initialPlacement:n,placement:f,strategy:i,middlewareData:p,rects:u,platform:a,elements:{reference:e,floating:t}});d=null!=y?y:d,h=null!=v?v:h,p={...p,[o]:{...p[o],...b}},w&&m<=50&&(m++,"object"==typeof w&&(w.placement&&(f=w.placement),w.rects&&(u=!0===w.rects?await a.getElementRects({reference:e,floating:t,strategy:i}):w.rects),{x:d,y:h}=s(u,f,c)),r=-1)}return{x:d,y:h,placement:f,strategy:i,middlewareData:p}};async function o(e,t){var r;void 0===t&&(t={});let{x:s,y:i,platform:o,rects:a,elements:l,strategy:c}=e,{boundary:u="clippingAncestors",rootBoundary:d="viewport",elementContext:h="floating",altBoundary:f=!1,padding:p=0}=(0,n._3)(t,e),m=(0,n.nI)(p),g=l[f?"floating"===h?"reference":"floating":h],y=(0,n.B1)(await o.getClippingRect({element:null==(r=await (null==o.isElement?void 0:o.isElement(g)))||r?g:g.contextElement||await (null==o.getDocumentElement?void 0:o.getDocumentElement(l.floating)),boundary:u,rootBoundary:d,strategy:c})),v="floating"===h?{x:s,y:i,width:a.floating.width,height:a.floating.height}:a.reference,b=await (null==o.getOffsetParent?void 0:o.getOffsetParent(l.floating)),w=await (null==o.isElement?void 0:o.isElement(b))&&await (null==o.getScale?void 0:o.getScale(b))||{x:1,y:1},x=(0,n.B1)(o.convertOffsetParentRelativeRectToViewportRelativeRect?await o.convertOffsetParentRelativeRectToViewportRelativeRect({elements:l,rect:v,offsetParent:b,strategy:c}):v);return{top:(y.top-x.top+m.top)/w.y,bottom:(x.bottom-y.bottom+m.bottom)/w.y,left:(y.left-x.left+m.left)/w.x,right:(x.right-y.right+m.right)/w.x}}function a(e,t){return{top:e.top-t.height,right:e.right-t.width,bottom:e.bottom-t.height,left:e.left-t.width}}function l(e){return n.r_.some(t=>e[t]>=0)}async function c(e,t){let{placement:r,platform:s,elements:i}=e,o=await (null==s.isRTL?void 0:s.isRTL(i.floating)),a=(0,n.C0)(r),l=(0,n.Sg)(r),c="y"===(0,n.TV)(r),u=["left","top"].includes(a)?-1:1,d=o&&c?-1:1,h=(0,n._3)(t,e),{mainAxis:f,crossAxis:p,alignmentAxis:m}="number"==typeof h?{mainAxis:h,crossAxis:0,alignmentAxis:null}:{mainAxis:h.mainAxis||0,crossAxis:h.crossAxis||0,alignmentAxis:h.alignmentAxis};return l&&"number"==typeof m&&(p="end"===l?-1*m:m),c?{x:p*d,y:f*u}:{x:f*u,y:p*d}}var u=r(84974);function d(e){let t=(0,u.L9)(e),r=parseFloat(t.width)||0,s=parseFloat(t.height)||0,i=(0,u.sb)(e),o=i?e.offsetWidth:r,a=i?e.offsetHeight:s,l=(0,n.LI)(r)!==o||(0,n.LI)(s)!==a;return l&&(r=o,s=a),{width:r,height:s,$:l}}function h(e){return(0,u.vq)(e)?e:e.contextElement}function f(e){let t=h(e);if(!(0,u.sb)(t))return(0,n.Jx)(1);let r=t.getBoundingClientRect(),{width:s,height:i,$:o}=d(t),a=(o?(0,n.LI)(r.width):r.width)/s,l=(o?(0,n.LI)(r.height):r.height)/i;return a&&Number.isFinite(a)||(a=1),l&&Number.isFinite(l)||(l=1),{x:a,y:l}}let p=(0,n.Jx)(0);function m(e){let t=(0,u.zk)(e);return(0,u.Tc)()&&t.visualViewport?{x:t.visualViewport.offsetLeft,y:t.visualViewport.offsetTop}:p}function g(e,t,r,s){var i;void 0===t&&(t=!1),void 0===r&&(r=!1);let o=e.getBoundingClientRect(),a=h(e),l=(0,n.Jx)(1);t&&(s?(0,u.vq)(s)&&(l=f(s)):l=f(e));let c=(void 0===(i=r)&&(i=!1),s&&(!i||s===(0,u.zk)(a))&&i)?m(a):(0,n.Jx)(0),d=(o.left+c.x)/l.x,p=(o.top+c.y)/l.y,g=o.width/l.x,y=o.height/l.y;if(a){let e=(0,u.zk)(a),t=s&&(0,u.vq)(s)?(0,u.zk)(s):s,r=e,n=(0,u._m)(r);for(;n&&s&&t!==r;){let e=f(n),t=n.getBoundingClientRect(),s=(0,u.L9)(n),i=t.left+(n.clientLeft+parseFloat(s.paddingLeft))*e.x,o=t.top+(n.clientTop+parseFloat(s.paddingTop))*e.y;d*=e.x,p*=e.y,g*=e.x,y*=e.y,d+=i,p+=o,r=(0,u.zk)(n),n=(0,u._m)(r)}}return(0,n.B1)({width:g,height:y,x:d,y:p})}function y(e,t){let r=(0,u.CP)(e).scrollLeft;return t?t.left+r:g((0,u.ep)(e)).left+r}function v(e,t,r){void 0===r&&(r=!1);let n=e.getBoundingClientRect();return{x:n.left+t.scrollLeft-(r?0:y(e,n)),y:n.top+t.scrollTop}}function b(e,t,r){let s;if("viewport"===t)s=function(e,t){let r=(0,u.zk)(e),n=(0,u.ep)(e),s=r.visualViewport,i=n.clientWidth,o=n.clientHeight,a=0,l=0;if(s){i=s.width,o=s.height;let e=(0,u.Tc)();(!e||e&&"fixed"===t)&&(a=s.offsetLeft,l=s.offsetTop)}return{width:i,height:o,x:a,y:l}}(e,r);else if("document"===t)s=function(e){let t=(0,u.ep)(e),r=(0,u.CP)(e),s=e.ownerDocument.body,i=(0,n.T9)(t.scrollWidth,t.clientWidth,s.scrollWidth,s.clientWidth),o=(0,n.T9)(t.scrollHeight,t.clientHeight,s.scrollHeight,s.clientHeight),a=-r.scrollLeft+y(e),l=-r.scrollTop;return"rtl"===(0,u.L9)(s).direction&&(a+=(0,n.T9)(t.clientWidth,s.clientWidth)-i),{width:i,height:o,x:a,y:l}}((0,u.ep)(e));else if((0,u.vq)(t))s=function(e,t){let r=g(e,!0,"fixed"===t),s=r.top+e.clientTop,i=r.left+e.clientLeft,o=(0,u.sb)(e)?f(e):(0,n.Jx)(1),a=e.clientWidth*o.x,l=e.clientHeight*o.y;return{width:a,height:l,x:i*o.x,y:s*o.y}}(t,r);else{let r=m(e);s={x:t.x-r.x,y:t.y-r.y,width:t.width,height:t.height}}return(0,n.B1)(s)}function w(e){return"static"===(0,u.L9)(e).position}function x(e,t){if(!(0,u.sb)(e)||"fixed"===(0,u.L9)(e).position)return null;if(t)return t(e);let r=e.offsetParent;return(0,u.ep)(e)===r&&(r=r.ownerDocument.body),r}function k(e,t){let r=(0,u.zk)(e);if((0,u.Tf)(e))return r;if(!(0,u.sb)(e)){let t=(0,u.$4)(e);for(;t&&!(0,u.eu)(t);){if((0,u.vq)(t)&&!w(t))return t;t=(0,u.$4)(t)}return r}let n=x(e,t);for(;n&&(0,u.Lv)(n)&&w(n);)n=x(n,t);return n&&(0,u.eu)(n)&&w(n)&&!(0,u.sQ)(n)?r:n||(0,u.gJ)(e)||r}let S=async function(e){let t=this.getOffsetParent||k,r=this.getDimensions,s=await r(e.floating);return{reference:function(e,t,r){let s=(0,u.sb)(t),i=(0,u.ep)(t),o="fixed"===r,a=g(e,!0,o,t),l={scrollLeft:0,scrollTop:0},c=(0,n.Jx)(0);if(s||!s&&!o)if(("body"!==(0,u.mq)(t)||(0,u.ZU)(i))&&(l=(0,u.CP)(t)),s){let e=g(t,!0,o,t);c.x=e.x+t.clientLeft,c.y=e.y+t.clientTop}else i&&(c.x=y(i));o&&!s&&i&&(c.x=y(i));let d=!i||s||o?(0,n.Jx)(0):v(i,l);return{x:a.left+l.scrollLeft-c.x-d.x,y:a.top+l.scrollTop-c.y-d.y,width:a.width,height:a.height}}(e.reference,await t(e.floating),e.strategy),floating:{x:0,y:0,width:s.width,height:s.height}}},C={convertOffsetParentRelativeRectToViewportRelativeRect:function(e){let{elements:t,rect:r,offsetParent:s,strategy:i}=e,o="fixed"===i,a=(0,u.ep)(s),l=!!t&&(0,u.Tf)(t.floating);if(s===a||l&&o)return r;let c={scrollLeft:0,scrollTop:0},d=(0,n.Jx)(1),h=(0,n.Jx)(0),p=(0,u.sb)(s);if((p||!p&&!o)&&(("body"!==(0,u.mq)(s)||(0,u.ZU)(a))&&(c=(0,u.CP)(s)),(0,u.sb)(s))){let e=g(s);d=f(s),h.x=e.x+s.clientLeft,h.y=e.y+s.clientTop}let m=!a||p||o?(0,n.Jx)(0):v(a,c,!0);return{width:r.width*d.x,height:r.height*d.y,x:r.x*d.x-c.scrollLeft*d.x+h.x+m.x,y:r.y*d.y-c.scrollTop*d.y+h.y+m.y}},getDocumentElement:u.ep,getClippingRect:function(e){let{element:t,boundary:r,rootBoundary:s,strategy:i}=e,o=[..."clippingAncestors"===r?(0,u.Tf)(t)?[]:function(e,t){let r=t.get(e);if(r)return r;let n=(0,u.v9)(e,[],!1).filter(e=>(0,u.vq)(e)&&"body"!==(0,u.mq)(e)),s=null,i="fixed"===(0,u.L9)(e).position,o=i?(0,u.$4)(e):e;for(;(0,u.vq)(o)&&!(0,u.eu)(o);){let t=(0,u.L9)(o),r=(0,u.sQ)(o);r||"fixed"!==t.position||(s=null),(i?!r&&!s:!r&&"static"===t.position&&!!s&&["absolute","fixed"].includes(s.position)||(0,u.ZU)(o)&&!r&&function e(t,r){let n=(0,u.$4)(t);return!(n===r||!(0,u.vq)(n)||(0,u.eu)(n))&&("fixed"===(0,u.L9)(n).position||e(n,r))}(e,o))?n=n.filter(e=>e!==o):s=t,o=(0,u.$4)(o)}return t.set(e,n),n}(t,this._c):[].concat(r),s],a=o[0],l=o.reduce((e,r)=>{let s=b(t,r,i);return e.top=(0,n.T9)(s.top,e.top),e.right=(0,n.jk)(s.right,e.right),e.bottom=(0,n.jk)(s.bottom,e.bottom),e.left=(0,n.T9)(s.left,e.left),e},b(t,a,i));return{width:l.right-l.left,height:l.bottom-l.top,x:l.left,y:l.top}},getOffsetParent:k,getElementRects:S,getClientRects:function(e){return Array.from(e.getClientRects())},getDimensions:function(e){let{width:t,height:r}=d(e);return{width:t,height:r}},getScale:f,isElement:u.vq,isRTL:function(e){return"rtl"===(0,u.L9)(e).direction}};function A(e,t){return e.x===t.x&&e.y===t.y&&e.width===t.width&&e.height===t.height}function _(e,t,r,s){let i;void 0===s&&(s={});let{ancestorScroll:o=!0,ancestorResize:a=!0,elementResize:l="function"==typeof ResizeObserver,layoutShift:c="function"==typeof IntersectionObserver,animationFrame:d=!1}=s,f=h(e),p=o||a?[...f?(0,u.v9)(f):[],...(0,u.v9)(t)]:[];p.forEach(e=>{o&&e.addEventListener("scroll",r,{passive:!0}),a&&e.addEventListener("resize",r)});let m=f&&c?function(e,t){let r,s=null,i=(0,u.ep)(e);function o(){var e;clearTimeout(r),null==(e=s)||e.disconnect(),s=null}return!function a(l,c){void 0===l&&(l=!1),void 0===c&&(c=1),o();let u=e.getBoundingClientRect(),{left:d,top:h,width:f,height:p}=u;if(l||t(),!f||!p)return;let m=(0,n.RI)(h),g=(0,n.RI)(i.clientWidth-(d+f)),y={rootMargin:-m+"px "+-g+"px "+-(0,n.RI)(i.clientHeight-(h+p))+"px "+-(0,n.RI)(d)+"px",threshold:(0,n.T9)(0,(0,n.jk)(1,c))||1},v=!0;function b(t){let n=t[0].intersectionRatio;if(n!==c){if(!v)return a();n?a(!1,n):r=setTimeout(()=>{a(!1,1e-7)},1e3)}1!==n||A(u,e.getBoundingClientRect())||a(),v=!1}try{s=new IntersectionObserver(b,{...y,root:i.ownerDocument})}catch(e){s=new IntersectionObserver(b,y)}s.observe(e)}(!0),o}(f,r):null,y=-1,v=null;l&&(v=new ResizeObserver(e=>{let[n]=e;n&&n.target===f&&v&&(v.unobserve(t),cancelAnimationFrame(y),y=requestAnimationFrame(()=>{var e;null==(e=v)||e.observe(t)})),r()}),f&&!d&&v.observe(f),v.observe(t));let b=d?g(e):null;return d&&function t(){let n=g(e);b&&!A(b,n)&&r(),b=n,i=requestAnimationFrame(t)}(),r(),()=>{var e;p.forEach(e=>{o&&e.removeEventListener("scroll",r),a&&e.removeEventListener("resize",r)}),null==m||m(),null==(e=v)||e.disconnect(),v=null,d&&cancelAnimationFrame(i)}}let E=o,T=function(e){return void 0===e&&(e=0),{name:"offset",options:e,async fn(t){var r,n;let{x:s,y:i,placement:o,middlewareData:a}=t,l=await c(t,e);return o===(null==(r=a.offset)?void 0:r.placement)&&null!=(n=a.arrow)&&n.alignmentOffset?{}:{x:s+l.x,y:i+l.y,data:{...l,placement:o}}}}},R=function(e){return void 0===e&&(e={}),{name:"shift",options:e,async fn(t){let{x:r,y:s,placement:i}=t,{mainAxis:a=!0,crossAxis:l=!1,limiter:c={fn:e=>{let{x:t,y:r}=e;return{x:t,y:r}}},...u}=(0,n._3)(e,t),d={x:r,y:s},h=await o(t,u),f=(0,n.TV)((0,n.C0)(i)),p=(0,n.PG)(f),m=d[p],g=d[f];if(a){let e="y"===p?"top":"left",t="y"===p?"bottom":"right",r=m+h[e],s=m-h[t];m=(0,n.qE)(r,m,s)}if(l){let e="y"===f?"top":"left",t="y"===f?"bottom":"right",r=g+h[e],s=g-h[t];g=(0,n.qE)(r,g,s)}let y=c.fn({...t,[p]:m,[f]:g});return{...y,data:{x:y.x-r,y:y.y-s,enabled:{[p]:a,[f]:l}}}}}},O=function(e){return void 0===e&&(e={}),{name:"flip",options:e,async fn(t){var r,s,i,a,l;let{placement:c,middlewareData:u,rects:d,initialPlacement:h,platform:f,elements:p}=t,{mainAxis:m=!0,crossAxis:g=!0,fallbackPlacements:y,fallbackStrategy:v="bestFit",fallbackAxisSideDirection:b="none",flipAlignment:w=!0,...x}=(0,n._3)(e,t);if(null!=(r=u.arrow)&&r.alignmentOffset)return{};let k=(0,n.C0)(c),S=(0,n.TV)(h),C=(0,n.C0)(h)===h,A=await (null==f.isRTL?void 0:f.isRTL(p.floating)),_=y||(C||!w?[(0,n.bV)(h)]:(0,n.WJ)(h)),E="none"!==b;!y&&E&&_.push(...(0,n.lP)(h,w,b,A));let T=[h,..._],R=await o(t,x),O=[],I=(null==(s=u.flip)?void 0:s.overflows)||[];if(m&&O.push(R[k]),g){let e=(0,n.w7)(c,d,A);O.push(R[e[0]],R[e[1]])}if(I=[...I,{placement:c,overflows:O}],!O.every(e=>e<=0)){let e=((null==(i=u.flip)?void 0:i.index)||0)+1,t=T[e];if(t&&("alignment"!==g||S===(0,n.TV)(t)||I.every(e=>e.overflows[0]>0&&(0,n.TV)(e.placement)===S)))return{data:{index:e,overflows:I},reset:{placement:t}};let r=null==(a=I.filter(e=>e.overflows[0]<=0).sort((e,t)=>e.overflows[1]-t.overflows[1])[0])?void 0:a.placement;if(!r)switch(v){case"bestFit":{let e=null==(l=I.filter(e=>{if(E){let t=(0,n.TV)(e.placement);return t===S||"y"===t}return!0}).map(e=>[e.placement,e.overflows.filter(e=>e>0).reduce((e,t)=>e+t,0)]).sort((e,t)=>e[1]-t[1])[0])?void 0:l[0];e&&(r=e);break}case"initialPlacement":r=h}if(c!==r)return{reset:{placement:r}}}return{}}}},I=function(e){return void 0===e&&(e={}),{name:"size",options:e,async fn(t){var r,s;let i,a,{placement:l,rects:c,platform:u,elements:d}=t,{apply:h=()=>{},...f}=(0,n._3)(e,t),p=await o(t,f),m=(0,n.C0)(l),g=(0,n.Sg)(l),y="y"===(0,n.TV)(l),{width:v,height:b}=c.floating;"top"===m||"bottom"===m?(i=m,a=g===(await (null==u.isRTL?void 0:u.isRTL(d.floating))?"start":"end")?"left":"right"):(a=m,i="end"===g?"top":"bottom");let w=b-p.top-p.bottom,x=v-p.left-p.right,k=(0,n.jk)(b-p[i],w),S=(0,n.jk)(v-p[a],x),C=!t.middlewareData.shift,A=k,_=S;if(null!=(r=t.middlewareData.shift)&&r.enabled.x&&(_=x),null!=(s=t.middlewareData.shift)&&s.enabled.y&&(A=w),C&&!g){let e=(0,n.T9)(p.left,0),t=(0,n.T9)(p.right,0),r=(0,n.T9)(p.top,0),s=(0,n.T9)(p.bottom,0);y?_=v-2*(0!==e||0!==t?e+t:(0,n.T9)(p.left,p.right)):A=b-2*(0!==r||0!==s?r+s:(0,n.T9)(p.top,p.bottom))}await h({...t,availableWidth:_,availableHeight:A});let E=await u.getDimensions(d.floating);return v!==E.width||b!==E.height?{reset:{rects:!0}}:{}}}},P=function(e){return void 0===e&&(e={}),{name:"hide",options:e,async fn(t){let{rects:r}=t,{strategy:s="referenceHidden",...i}=(0,n._3)(e,t);switch(s){case"referenceHidden":{let e=a(await o(t,{...i,elementContext:"reference"}),r.reference);return{data:{referenceHiddenOffsets:e,referenceHidden:l(e)}}}case"escaped":{let e=a(await o(t,{...i,altBoundary:!0}),r.floating);return{data:{escapedOffsets:e,escaped:l(e)}}}default:return{}}}}},j=e=>({name:"arrow",options:e,async fn(t){let{x:r,y:s,placement:i,rects:o,platform:a,elements:l,middlewareData:c}=t,{element:u,padding:d=0}=(0,n._3)(e,t)||{};if(null==u)return{};let h=(0,n.nI)(d),f={x:r,y:s},p=(0,n.Dz)(i),m=(0,n.sq)(p),g=await a.getDimensions(u),y="y"===p,v=y?"clientHeight":"clientWidth",b=o.reference[m]+o.reference[p]-f[p]-o.floating[m],w=f[p]-o.reference[p],x=await (null==a.getOffsetParent?void 0:a.getOffsetParent(u)),k=x?x[v]:0;k&&await (null==a.isElement?void 0:a.isElement(x))||(k=l.floating[v]||o.floating[m]);let S=k/2-g[m]/2-1,C=(0,n.jk)(h[y?"top":"left"],S),A=(0,n.jk)(h[y?"bottom":"right"],S),_=k-g[m]-A,E=k/2-g[m]/2+(b/2-w/2),T=(0,n.qE)(C,E,_),R=!c.arrow&&null!=(0,n.Sg)(i)&&E!==T&&o.reference[m]/2-(E<C?C:A)-g[m]/2<0,O=R?E<C?E-C:E-_:0;return{[p]:f[p]+O,data:{[p]:T,centerOffset:E-T-O,...R&&{alignmentOffset:O}},reset:R}}}),q=function(e){return void 0===e&&(e={}),{options:e,fn(t){let{x:r,y:s,placement:i,rects:o,middlewareData:a}=t,{offset:l=0,mainAxis:c=!0,crossAxis:u=!0}=(0,n._3)(e,t),d={x:r,y:s},h=(0,n.TV)(i),f=(0,n.PG)(h),p=d[f],m=d[h],g=(0,n._3)(l,t),y="number"==typeof g?{mainAxis:g,crossAxis:0}:{mainAxis:0,crossAxis:0,...g};if(c){let e="y"===f?"height":"width",t=o.reference[f]-o.floating[e]+y.mainAxis,r=o.reference[f]+o.reference[e]-y.mainAxis;p<t?p=t:p>r&&(p=r)}if(u){var v,b;let e="y"===f?"width":"height",t=["top","left"].includes((0,n.C0)(i)),r=o.reference[h]-o.floating[e]+(t&&(null==(v=a.offset)?void 0:v[h])||0)+(t?0:y.crossAxis),s=o.reference[h]+o.reference[e]+(t?0:(null==(b=a.offset)?void 0:b[h])||0)-(t?y.crossAxis:0);m<r?m=r:m>s&&(m=s)}return{[f]:p,[h]:m}}}},L=(e,t,r)=>{let n=new Map,s={platform:C,...r},o={...s.platform,_c:n};return i(e,t,{...s,platform:o})}},81040:(e,t,r)=>{"use strict";r.d(t,{B1:()=>A,C0:()=>f,Dz:()=>v,Jx:()=>l,LI:()=>o,PG:()=>m,RI:()=>a,Sg:()=>p,T9:()=>i,TV:()=>y,WJ:()=>w,_3:()=>h,bV:()=>S,jk:()=>s,lP:()=>k,nI:()=>C,qE:()=>d,r_:()=>n,sq:()=>g,w7:()=>b});let n=["top","right","bottom","left"],s=Math.min,i=Math.max,o=Math.round,a=Math.floor,l=e=>({x:e,y:e}),c={left:"right",right:"left",bottom:"top",top:"bottom"},u={start:"end",end:"start"};function d(e,t,r){return i(e,s(t,r))}function h(e,t){return"function"==typeof e?e(t):e}function f(e){return e.split("-")[0]}function p(e){return e.split("-")[1]}function m(e){return"x"===e?"y":"x"}function g(e){return"y"===e?"height":"width"}function y(e){return["top","bottom"].includes(f(e))?"y":"x"}function v(e){return m(y(e))}function b(e,t,r){void 0===r&&(r=!1);let n=p(e),s=v(e),i=g(s),o="x"===s?n===(r?"end":"start")?"right":"left":"start"===n?"bottom":"top";return t.reference[i]>t.floating[i]&&(o=S(o)),[o,S(o)]}function w(e){let t=S(e);return[x(e),t,x(t)]}function x(e){return e.replace(/start|end/g,e=>u[e])}function k(e,t,r,n){let s=p(e),i=function(e,t,r){let n=["left","right"],s=["right","left"];switch(e){case"top":case"bottom":if(r)return t?s:n;return t?n:s;case"left":case"right":return t?["top","bottom"]:["bottom","top"];default:return[]}}(f(e),"start"===r,n);return s&&(i=i.map(e=>e+"-"+s),t&&(i=i.concat(i.map(x)))),i}function S(e){return e.replace(/left|right|bottom|top/g,e=>c[e])}function C(e){return"number"!=typeof e?{top:0,right:0,bottom:0,left:0,...e}:{top:e,right:e,bottom:e,left:e}}function A(e){let{x:t,y:r,width:n,height:s}=e;return{width:n,height:s,top:r,left:t,right:t+n,bottom:r+s,x:t,y:r}}},81285:(e,t,r)=>{"use strict";r.d(t,{N:()=>s});var n=r(14232),s=globalThis?.document?n.useLayoutEffect:()=>{}},81383:(e,t,r)=>{!function(){var t=r(71011),n=r(61287).utf8,s=r(6826),i=r(61287).bin,o=function(e,r){e.constructor==String?e=r&&"binary"===r.encoding?i.stringToBytes(e):n.stringToBytes(e):s(e)?e=Array.prototype.slice.call(e,0):Array.isArray(e)||e.constructor===Uint8Array||(e=e.toString());for(var a=t.bytesToWords(e),l=8*e.length,c=0x67452301,u=-0x10325477,d=-0x67452302,h=0x10325476,f=0;f<a.length;f++)a[f]=(a[f]<<8|a[f]>>>24)&0xff00ff|(a[f]<<24|a[f]>>>8)&0xff00ff00;a[l>>>5]|=128<<l%32,a[(l+64>>>9<<4)+14]=l;for(var p=o._ff,m=o._gg,g=o._hh,y=o._ii,f=0;f<a.length;f+=16){var v=c,b=u,w=d,x=h;c=p(c,u,d,h,a[f+0],7,-0x28955b88),h=p(h,c,u,d,a[f+1],12,-0x173848aa),d=p(d,h,c,u,a[f+2],17,0x242070db),u=p(u,d,h,c,a[f+3],22,-0x3e423112),c=p(c,u,d,h,a[f+4],7,-0xa83f051),h=p(h,c,u,d,a[f+5],12,0x4787c62a),d=p(d,h,c,u,a[f+6],17,-0x57cfb9ed),u=p(u,d,h,c,a[f+7],22,-0x2b96aff),c=p(c,u,d,h,a[f+8],7,0x698098d8),h=p(h,c,u,d,a[f+9],12,-0x74bb0851),d=p(d,h,c,u,a[f+10],17,-42063),u=p(u,d,h,c,a[f+11],22,-0x76a32842),c=p(c,u,d,h,a[f+12],7,0x6b901122),h=p(h,c,u,d,a[f+13],12,-0x2678e6d),d=p(d,h,c,u,a[f+14],17,-0x5986bc72),u=p(u,d,h,c,a[f+15],22,0x49b40821),c=m(c,u,d,h,a[f+1],5,-0x9e1da9e),h=m(h,c,u,d,a[f+6],9,-0x3fbf4cc0),d=m(d,h,c,u,a[f+11],14,0x265e5a51),u=m(u,d,h,c,a[f+0],20,-0x16493856),c=m(c,u,d,h,a[f+5],5,-0x29d0efa3),h=m(h,c,u,d,a[f+10],9,0x2441453),d=m(d,h,c,u,a[f+15],14,-0x275e197f),u=m(u,d,h,c,a[f+4],20,-0x182c0438),c=m(c,u,d,h,a[f+9],5,0x21e1cde6),h=m(h,c,u,d,a[f+14],9,-0x3cc8f82a),d=m(d,h,c,u,a[f+3],14,-0xb2af279),u=m(u,d,h,c,a[f+8],20,0x455a14ed),c=m(c,u,d,h,a[f+13],5,-0x561c16fb),h=m(h,c,u,d,a[f+2],9,-0x3105c08),d=m(d,h,c,u,a[f+7],14,0x676f02d9),u=m(u,d,h,c,a[f+12],20,-0x72d5b376),c=g(c,u,d,h,a[f+5],4,-378558),h=g(h,c,u,d,a[f+8],11,-0x788e097f),d=g(d,h,c,u,a[f+11],16,0x6d9d6122),u=g(u,d,h,c,a[f+14],23,-0x21ac7f4),c=g(c,u,d,h,a[f+1],4,-0x5b4115bc),h=g(h,c,u,d,a[f+4],11,0x4bdecfa9),d=g(d,h,c,u,a[f+7],16,-0x944b4a0),u=g(u,d,h,c,a[f+10],23,-0x41404390),c=g(c,u,d,h,a[f+13],4,0x289b7ec6),h=g(h,c,u,d,a[f+0],11,-0x155ed806),d=g(d,h,c,u,a[f+3],16,-0x2b10cf7b),u=g(u,d,h,c,a[f+6],23,0x4881d05),c=g(c,u,d,h,a[f+9],4,-0x262b2fc7),h=g(h,c,u,d,a[f+12],11,-0x1924661b),d=g(d,h,c,u,a[f+15],16,0x1fa27cf8),u=g(u,d,h,c,a[f+2],23,-0x3b53a99b),c=y(c,u,d,h,a[f+0],6,-0xbd6ddbc),h=y(h,c,u,d,a[f+7],10,0x432aff97),d=y(d,h,c,u,a[f+14],15,-0x546bdc59),u=y(u,d,h,c,a[f+5],21,-0x36c5fc7),c=y(c,u,d,h,a[f+12],6,0x655b59c3),h=y(h,c,u,d,a[f+3],10,-0x70f3336e),d=y(d,h,c,u,a[f+10],15,-1051523),u=y(u,d,h,c,a[f+1],21,-0x7a7ba22f),c=y(c,u,d,h,a[f+8],6,0x6fa87e4f),h=y(h,c,u,d,a[f+15],10,-0x1d31920),d=y(d,h,c,u,a[f+6],15,-0x5cfebcec),u=y(u,d,h,c,a[f+13],21,0x4e0811a1),c=y(c,u,d,h,a[f+4],6,-0x8ac817e),h=y(h,c,u,d,a[f+11],10,-0x42c50dcb),d=y(d,h,c,u,a[f+2],15,0x2ad7d2bb),u=y(u,d,h,c,a[f+9],21,-0x14792c6f),c=c+v>>>0,u=u+b>>>0,d=d+w>>>0,h=h+x>>>0}return t.endian([c,u,d,h])};o._ff=function(e,t,r,n,s,i,o){var a=e+(t&r|~t&n)+(s>>>0)+o;return(a<<i|a>>>32-i)+t},o._gg=function(e,t,r,n,s,i,o){var a=e+(t&n|r&~n)+(s>>>0)+o;return(a<<i|a>>>32-i)+t},o._hh=function(e,t,r,n,s,i,o){var a=e+(t^r^n)+(s>>>0)+o;return(a<<i|a>>>32-i)+t},o._ii=function(e,t,r,n,s,i,o){var a=e+(r^(t|~n))+(s>>>0)+o;return(a<<i|a>>>32-i)+t},o._blocksize=16,o._digestsize=16,e.exports=function(e,r){if(null==e)throw Error("Illegal argument "+e);var n=t.wordsToBytes(o(e,r));return r&&r.asBytes?n:r&&r.asString?i.bytesToString(n):t.bytesToHex(n)}}()},81883:(e,t,r)=>{"use strict";function n(){let e,t,r=new Promise((r,n)=>{e=r,t=n});function n(e){Object.assign(r,e),delete r.resolve,delete r.reject}return r.status="pending",r.catch(()=>{}),r.resolve=t=>{n({status:"fulfilled",value:t}),e(t)},r.reject=e=>{n({status:"rejected",reason:e}),t(e)},r}r.d(t,{T:()=>n})},83817:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),!function(e,t){for(var r in t)Object.defineProperty(e,r,{enumerable:!0,get:t[r]})}(t,{UnrecognizedActionError:function(){return r},unstable_isUnrecognizedActionError:function(){return n}});class r extends Error{constructor(...e){super(...e),this.name="UnrecognizedActionError"}}function n(e){return!!(e&&"object"==typeof e&&e instanceof r)}("function"==typeof t.default||"object"==typeof t.default&&null!==t.default)&&void 0===t.default.__esModule&&(Object.defineProperty(t.default,"__esModule",{value:!0}),Object.assign(t.default,t),e.exports=t.default)},84974:(e,t,r)=>{"use strict";function n(){return"undefined"!=typeof window}function s(e){return a(e)?(e.nodeName||"").toLowerCase():"#document"}function i(e){var t;return(null==e||null==(t=e.ownerDocument)?void 0:t.defaultView)||window}function o(e){var t;return null==(t=(a(e)?e.ownerDocument:e.document)||window.document)?void 0:t.documentElement}function a(e){return!!n()&&(e instanceof Node||e instanceof i(e).Node)}function l(e){return!!n()&&(e instanceof Element||e instanceof i(e).Element)}function c(e){return!!n()&&(e instanceof HTMLElement||e instanceof i(e).HTMLElement)}function u(e){return!!n()&&"undefined"!=typeof ShadowRoot&&(e instanceof ShadowRoot||e instanceof i(e).ShadowRoot)}function d(e){let{overflow:t,overflowX:r,overflowY:n,display:s}=v(e);return/auto|scroll|overlay|hidden|clip/.test(t+n+r)&&!["inline","contents"].includes(s)}function h(e){return["table","td","th"].includes(s(e))}function f(e){return[":popover-open",":modal"].some(t=>{try{return e.matches(t)}catch(e){return!1}})}function p(e){let t=g(),r=l(e)?v(e):e;return["transform","translate","scale","rotate","perspective"].some(e=>!!r[e]&&"none"!==r[e])||!!r.containerType&&"normal"!==r.containerType||!t&&!!r.backdropFilter&&"none"!==r.backdropFilter||!t&&!!r.filter&&"none"!==r.filter||["transform","translate","scale","rotate","perspective","filter"].some(e=>(r.willChange||"").includes(e))||["paint","layout","strict","content"].some(e=>(r.contain||"").includes(e))}function m(e){let t=w(e);for(;c(t)&&!y(t);){if(p(t))return t;if(f(t))break;t=w(t)}return null}function g(){return"undefined"!=typeof CSS&&!!CSS.supports&&CSS.supports("-webkit-backdrop-filter","none")}function y(e){return["html","body","#document"].includes(s(e))}function v(e){return i(e).getComputedStyle(e)}function b(e){return l(e)?{scrollLeft:e.scrollLeft,scrollTop:e.scrollTop}:{scrollLeft:e.scrollX,scrollTop:e.scrollY}}function w(e){if("html"===s(e))return e;let t=e.assignedSlot||e.parentNode||u(e)&&e.host||o(e);return u(t)?t.host:t}function x(e){return e.parent&&Object.getPrototypeOf(e.parent)?e.frameElement:null}r.d(t,{$4:()=>w,CP:()=>b,L9:()=>v,Lv:()=>h,Tc:()=>g,Tf:()=>f,ZU:()=>d,_m:()=>x,ep:()=>o,eu:()=>y,gJ:()=>m,mq:()=>s,sQ:()=>p,sb:()=>c,v9:()=>function e(t,r,n){var s;void 0===r&&(r=[]),void 0===n&&(n=!0);let o=function e(t){let r=w(t);return y(r)?t.ownerDocument?t.ownerDocument.body:t.body:c(r)&&d(r)?r:e(r)}(t),a=o===(null==(s=t.ownerDocument)?void 0:s.body),l=i(o);if(a){let t=x(l);return r.concat(l,l.visualViewport||[],d(o)?o:[],t&&n?e(t):[])}return r.concat(o,e(o,[],n))},vq:()=>l,zk:()=>i})},86008:(e,t,r)=>{"use strict";r.d(t,{ff:()=>l,A:()=>c,x:()=>u});let n="__cohort__",s={cohorts:{},flags:{}};class i{#G;#J={};#Y=new Set;#X=s;#Z;#ee;#et=new Set;constructor(e,t={}){this.#G=Object.freeze(e),this.#ee={...e},this.#J=Object.freeze(t)}setConfig=e=>{this.#X=e,this.#er()};identify=(e,t)=>{this.#Z={id:e,...t},this.#er()};isEnabled=e=>this.#ee[e]??!1;subscribe=e=>(this.#et.add(e),()=>this.#et.delete(e));reset=()=>{this.#Z=void 0,this.#en()};#es(e){let t=Object.entries(e),r=this.#Z;return!!(r&&t.every(([e,t])=>r[e]===t))||t.every(([e,t])=>this.#J[e]===t)}#ei(e){let t=this.#Z;return e.some(e=>{if("string"==typeof e){if(e.startsWith(n)){let t=e.slice(n.length);return this.#Y.has(t)}return t&&e===t.id}return"object"==typeof e&&this.#es(e)})}#en(){let e=!1;for(let t in this.#G){let r=this.#ee[t],n=this.#G[t];r!==n&&(this.#ee[t]=n,e=!0)}e&&this.#eo()}#eo(){for(let e of this.#et)e()}#er(){if(!this.#X)return void this.#en();this.#Y.clear();let e=!0,t=0,r=Object.keys(this.#X.cohorts).length;for(;e&&t<r;)for(let r in e=!1,t++,this.#X.cohorts){if(this.#Y.has(r))continue;let t=this.#X.cohorts[r];t&&this.#ei(t)&&(this.#Y.add(r),e=!0)}let n=!1;for(let e in this.#G){let t,r=this.#X.flags[e],s=this.#G[e];if(r){let[e,...n]=r;t=!!e||this.#ei(n)}else t=s;this.#ee[e]!==t&&(this.#ee[e]=t,n=!0)}n&&this.#eo()}}var o=r(14232),a=r(78567);let l=new i({courses:!1,messengerV2:!1},{env:a.A.config.env});async function c(){if(!["staging","production"].includes(a.A.config.env))return;let e=await fetch("/api/ff");if(e.ok){let t=await e.json();l.setConfig(t)}}let u=(e=>t=>{let r=()=>e.isEnabled(t);return o.useSyncExternalStore(e.subscribe,r,r)})(l)},87552:(e,t,r)=>{"use strict";r.d(t,{X:()=>i});var n=r(14232),s=r(81285);function i(e){let[t,r]=n.useState(void 0);return(0,s.N)(()=>{if(e){r({width:e.offsetWidth,height:e.offsetHeight});let t=new ResizeObserver(t=>{let n,s;if(!Array.isArray(t)||!t.length)return;let i=t[0];if("borderBoxSize"in i){let e=i.borderBoxSize,t=Array.isArray(e)?e[0]:e;n=t.inlineSize,s=t.blockSize}else n=e.offsetWidth,s=e.offsetHeight;r({width:n,height:s})});return t.observe(e,{box:"border-box"}),()=>t.unobserve(e)}r(void 0)},[e]),t}},89099:(e,t,r)=>{e.exports=r(16296)},90089:(e,t,r)=>{"use strict";r.d(t,{Q:()=>n});var n=class{constructor(){this.listeners=new Set,this.subscribe=this.subscribe.bind(this)}subscribe(e){return this.listeners.add(e),this.onSubscribe(),()=>{this.listeners.delete(e),this.onUnsubscribe()}}hasListeners(){return this.listeners.size>0}onSubscribe(){}onUnsubscribe(){}}},90376:(e,t,r)=>{"use strict";function n(){throw Object.defineProperty(Error("`unauthorized()` is experimental and only allowed to be used when `experimental.authInterrupts` is enabled."),"__NEXT_ERROR_CODE",{value:"E411",enumerable:!1,configurable:!0})}Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"unauthorized",{enumerable:!0,get:function(){return n}}),r(38811).HTTP_ERROR_FALLBACK_ERROR_CODE,("function"==typeof t.default||"object"==typeof t.default&&null!==t.default)&&void 0===t.default.__esModule&&(Object.defineProperty(t.default,"__esModule",{value:!0}),Object.assign(t.default,t),e.exports=t.default)},91844:(e,t,r)=>{"use strict";r.d(t,{A:()=>o,q:()=>i});var n=r(14232),s=r(37876);function i(e,t){let r=n.createContext(t),i=e=>{let{children:t,...i}=e,o=n.useMemo(()=>i,Object.values(i));return(0,s.jsx)(r.Provider,{value:o,children:t})};return i.displayName=e+"Provider",[i,function(s){let i=n.useContext(r);if(i)return i;if(void 0!==t)return t;throw Error(`\`${s}\` must be used within \`${e}\``)}]}function o(e,t=[]){let r=[],i=()=>{let t=r.map(e=>n.createContext(e));return function(r){let s=r?.[e]||t;return n.useMemo(()=>({[`__scope${e}`]:{...r,[e]:s}}),[r,s])}};return i.scopeName=e,[function(t,i){let o=n.createContext(i),a=r.length;r=[...r,i];let l=t=>{let{scope:r,children:i,...l}=t,c=r?.[e]?.[a]||o,u=n.useMemo(()=>l,Object.values(l));return(0,s.jsx)(c.Provider,{value:u,children:i})};return l.displayName=t+"Provider",[l,function(r,s){let l=s?.[e]?.[a]||o,c=n.useContext(l);if(c)return c;if(void 0!==i)return i;throw Error(`\`${r}\` must be used within \`${t}\``)}]},function(...e){let t=e[0];if(1===e.length)return t;let r=()=>{let r=e.map(e=>({useScope:e(),scopeName:e.scopeName}));return function(e){let s=r.reduce((t,{useScope:r,scopeName:n})=>{let s=r(e)[`__scope${n}`];return{...t,...s}},{});return n.useMemo(()=>({[`__scope${t.scopeName}`]:s}),[s])}};return r.scopeName=t.scopeName,r}(i,...t)]}},92216:(e,t,r)=>{"use strict";r.d(t,{U:()=>i});var n=r(14232),s=r(62146);function i(e,t=globalThis?.document){let r=(0,s.c)(e);n.useEffect(()=>{let e=e=>{"Escape"===e.key&&r(e)};return t.addEventListener("keydown",e,{capture:!0}),()=>t.removeEventListener("keydown",e,{capture:!0})},[r,t])}},93990:(e,t,r)=>{"use strict";r.d(t,{A:()=>n});let n=(0,r(17963).A)("circle-x",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]])},94882:(e,t,r)=>{"use strict";r.d(t,{BN:()=>f,ER:()=>p,Ej:()=>g,UE:()=>v,UU:()=>m,cY:()=>h,jD:()=>y,we:()=>d});var n=r(80400),s=r(14232),i=r(98477),o="undefined"!=typeof document?s.useLayoutEffect:function(){};function a(e,t){let r,n,s;if(e===t)return!0;if(typeof e!=typeof t)return!1;if("function"==typeof e&&e.toString()===t.toString())return!0;if(e&&t&&"object"==typeof e){if(Array.isArray(e)){if((r=e.length)!==t.length)return!1;for(n=r;0!=n--;)if(!a(e[n],t[n]))return!1;return!0}if((r=(s=Object.keys(e)).length)!==Object.keys(t).length)return!1;for(n=r;0!=n--;)if(!({}).hasOwnProperty.call(t,s[n]))return!1;for(n=r;0!=n--;){let r=s[n];if(("_owner"!==r||!e.$$typeof)&&!a(e[r],t[r]))return!1}return!0}return e!=e&&t!=t}function l(e){return"undefined"==typeof window?1:(e.ownerDocument.defaultView||window).devicePixelRatio||1}function c(e,t){let r=l(e);return Math.round(t*r)/r}function u(e){let t=s.useRef(e);return o(()=>{t.current=e}),t}function d(e){void 0===e&&(e={});let{placement:t="bottom",strategy:r="absolute",middleware:d=[],platform:h,elements:{reference:f,floating:p}={},transform:m=!0,whileElementsMounted:g,open:y}=e,[v,b]=s.useState({x:0,y:0,strategy:r,placement:t,middlewareData:{},isPositioned:!1}),[w,x]=s.useState(d);a(w,d)||x(d);let[k,S]=s.useState(null),[C,A]=s.useState(null),_=s.useCallback(e=>{e!==O.current&&(O.current=e,S(e))},[]),E=s.useCallback(e=>{e!==I.current&&(I.current=e,A(e))},[]),T=f||k,R=p||C,O=s.useRef(null),I=s.useRef(null),P=s.useRef(v),j=null!=g,q=u(g),L=u(h),N=u(y),M=s.useCallback(()=>{if(!O.current||!I.current)return;let e={placement:t,strategy:r,middleware:w};L.current&&(e.platform=L.current),(0,n.rD)(O.current,I.current,e).then(e=>{let t={...e,isPositioned:!1!==N.current};D.current&&!a(P.current,t)&&(P.current=t,i.flushSync(()=>{b(t)}))})},[w,t,r,L,N]);o(()=>{!1===y&&P.current.isPositioned&&(P.current.isPositioned=!1,b(e=>({...e,isPositioned:!1})))},[y]);let D=s.useRef(!1);o(()=>(D.current=!0,()=>{D.current=!1}),[]),o(()=>{if(T&&(O.current=T),R&&(I.current=R),T&&R){if(q.current)return q.current(T,R,M);M()}},[T,R,M,q,j]);let U=s.useMemo(()=>({reference:O,floating:I,setReference:_,setFloating:E}),[_,E]),F=s.useMemo(()=>({reference:T,floating:R}),[T,R]),$=s.useMemo(()=>{let e={position:r,left:0,top:0};if(!F.floating)return e;let t=c(F.floating,v.x),n=c(F.floating,v.y);return m?{...e,transform:"translate("+t+"px, "+n+"px)",...l(F.floating)>=1.5&&{willChange:"transform"}}:{position:r,left:t,top:n}},[r,m,F.floating,v.x,v.y]);return s.useMemo(()=>({...v,update:M,refs:U,elements:F,floatingStyles:$}),[v,M,U,F,$])}let h=(e,t)=>({...(0,n.cY)(e),options:[e,t]}),f=(e,t)=>({...(0,n.BN)(e),options:[e,t]}),p=(e,t)=>({...(0,n.ER)(e),options:[e,t]}),m=(e,t)=>({...(0,n.UU)(e),options:[e,t]}),g=(e,t)=>({...(0,n.Ej)(e),options:[e,t]}),y=(e,t)=>({...(0,n.jD)(e),options:[e,t]}),v=(e,t)=>({...(e=>({name:"arrow",options:e,fn(t){let{element:r,padding:s}="function"==typeof e?e(t):e;return r&&({}).hasOwnProperty.call(r,"current")?null!=r.current?(0,n.UE)({element:r.current,padding:s}).fn(t):{}:r?(0,n.UE)({element:r,padding:s}).fn(t):{}}}))(e),options:[e,t]})},95092:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),!function(e,t){for(var r in t)Object.defineProperty(e,r,{enumerable:!0,get:t[r]})}(t,{ReadonlyURLSearchParams:function(){return l.ReadonlyURLSearchParams},RedirectType:function(){return l.RedirectType},ServerInsertedHTMLContext:function(){return c.ServerInsertedHTMLContext},forbidden:function(){return l.forbidden},notFound:function(){return l.notFound},permanentRedirect:function(){return l.permanentRedirect},redirect:function(){return l.redirect},unauthorized:function(){return l.unauthorized},unstable_isUnrecognizedActionError:function(){return u.unstable_isUnrecognizedActionError},unstable_rethrow:function(){return l.unstable_rethrow},useParams:function(){return m},usePathname:function(){return f},useRouter:function(){return p},useSearchParams:function(){return h},useSelectedLayoutSegment:function(){return y},useSelectedLayoutSegments:function(){return g},useServerInsertedHTML:function(){return c.useServerInsertedHTML}});let n=r(14232),s=r(15792),i=r(88797),o=r(37601),a=r(1744),l=r(69591),c=r(14159),u=r(83817),d=void 0;function h(){let e=(0,n.useContext)(i.SearchParamsContext);return(0,n.useMemo)(()=>e?new l.ReadonlyURLSearchParams(e):null,[e])}function f(){return null==d||d("usePathname()"),(0,n.useContext)(i.PathnameContext)}function p(){let e=(0,n.useContext)(s.AppRouterContext);if(null===e)throw Object.defineProperty(Error("invariant expected app router to be mounted"),"__NEXT_ERROR_CODE",{value:"E238",enumerable:!1,configurable:!0});return e}function m(){return null==d||d("useParams()"),(0,n.useContext)(i.PathParamsContext)}function g(e){void 0===e&&(e="children"),null==d||d("useSelectedLayoutSegments()");let t=(0,n.useContext)(s.LayoutRouterContext);return t?function e(t,r,n,s){let i;if(void 0===n&&(n=!0),void 0===s&&(s=[]),n)i=t[1][r];else{var l;let e=t[1];i=null!=(l=e.children)?l:Object.values(e)[0]}if(!i)return s;let c=i[0],u=(0,o.getSegmentValue)(c);return!u||u.startsWith(a.PAGE_SEGMENT_KEY)?s:(s.push(u),e(i,r,!1,s))}(t.parentTree,e):null}function y(e){void 0===e&&(e="children"),null==d||d("useSelectedLayoutSegment()");let t=g(e);if(!t||0===t.length)return null;let r="children"===e?t[0]:t[t.length-1];return r===a.DEFAULT_SEGMENT_KEY?null:r}("function"==typeof t.default||"object"==typeof t.default&&null!==t.default)&&void 0===t.default.__esModule&&(Object.defineProperty(t.default,"__esModule",{value:!0}),Object.assign(t.default,t),e.exports=t.default)},95947:(e,t,r)=>{"use strict";r.d(t,{A:()=>l,a:()=>a});var n=r(37876),s=r(14232),i=r(16632);let o=(0,s.createContext)({current:null,forceStopPlayback:!1,muted:!0,stopPlayback:()=>{},toggleMute:()=>{},setVideoVisibility:()=>{},resetVideoVisibility:()=>{},manualPlayPause:()=>{}}),a=()=>(0,s.useContext)(o),l=e=>{let{children:t}=e,[r,a]=(0,s.useState)(null),[l,c]=(0,s.useState)(!1),[u,d]=(0,s.useState)(!0),h=(0,s.useRef)([]),f=(0,s.useRef)(null),p=(0,s.useMemo)(()=>(f.current=r,r),[r]);return(0,n.jsx)(o.Provider,{value:{current:p,forceStopPlayback:l,muted:u,stopPlayback:e=>{e?c(!0):c(!1)},toggleMute:e=>{d(e)},setVideoVisibility:(e,t)=>{let r=-1;try{(r=h.current.findIndex(t=>t.id==e))>=0?h.current[r]={id:e,visibility:t}:h.current.push({id:e,visibility:t})}catch(e){}let n=[...h.current];if(n.sort((e,t)=>e.visibility-t.visibility),n.length>0)if(i.Pl){let e=n.pop();e&&e.id==f.current&&e.visibility>=.4?a(e.id):a(null)}else{let e=n.pop();e&&e.visibility>=.4?a(e.id):a(null)}else a(null)},resetVideoVisibility:()=>{h.current=[],a(null)},manualPlayPause:e=>{a(e)}},children:t})}},96822:(e,t,r)=>{"use strict";r.d(t,{C:()=>o});var n=r(14232),s=r(10714),i=r(81285),o=e=>{let{present:t,children:r}=e,o=function(e){var t,r;let[s,o]=n.useState(),l=n.useRef(null),c=n.useRef(e),u=n.useRef("none"),[d,h]=(t=e?"mounted":"unmounted",r={mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}},n.useReducer((e,t)=>r[e][t]??e,t));return n.useEffect(()=>{let e=a(l.current);u.current="mounted"===d?e:"none"},[d]),(0,i.N)(()=>{let t=l.current,r=c.current;if(r!==e){let n=u.current,s=a(t);e?h("MOUNT"):"none"===s||t?.display==="none"?h("UNMOUNT"):r&&n!==s?h("ANIMATION_OUT"):h("UNMOUNT"),c.current=e}},[e,h]),(0,i.N)(()=>{if(s){let e,t=s.ownerDocument.defaultView??window,r=r=>{let n=a(l.current).includes(CSS.escape(r.animationName));if(r.target===s&&n&&(h("ANIMATION_END"),!c.current)){let r=s.style.animationFillMode;s.style.animationFillMode="forwards",e=t.setTimeout(()=>{"forwards"===s.style.animationFillMode&&(s.style.animationFillMode=r)})}},n=e=>{e.target===s&&(u.current=a(l.current))};return s.addEventListener("animationstart",n),s.addEventListener("animationcancel",r),s.addEventListener("animationend",r),()=>{t.clearTimeout(e),s.removeEventListener("animationstart",n),s.removeEventListener("animationcancel",r),s.removeEventListener("animationend",r)}}h("ANIMATION_END")},[s,h]),{isPresent:["mounted","unmountSuspended"].includes(d),ref:n.useCallback(e=>{l.current=e?getComputedStyle(e):null,o(e)},[])}}(t),l="function"==typeof r?r({present:o.isPresent}):n.Children.only(r),c=(0,s.s)(o.ref,function(e){let t=Object.getOwnPropertyDescriptor(e.props,"ref")?.get,r=t&&"isReactWarning"in t&&t.isReactWarning;return r?e.ref:(r=(t=Object.getOwnPropertyDescriptor(e,"ref")?.get)&&"isReactWarning"in t&&t.isReactWarning)?e.props.ref:e.props.ref||e.ref}(l));return"function"==typeof r||o.isPresent?n.cloneElement(l,{ref:c}):null};function a(e){return e?.animationName||"none"}o.displayName="Presence"},98275:(e,t,r)=>{"use strict";r.d(t,{m:()=>i});var n=r(90089),s=r(37149),i=new class extends n.Q{#ea;#M;#D;constructor(){super(),this.#D=e=>{if(!s.S$&&window.addEventListener){let t=()=>e();return window.addEventListener("visibilitychange",t,!1),()=>{window.removeEventListener("visibilitychange",t)}}}}onSubscribe(){this.#M||this.setEventListener(this.#D)}onUnsubscribe(){this.hasListeners()||(this.#M?.(),this.#M=void 0)}setEventListener(e){this.#D=e,this.#M?.(),this.#M=e(e=>{"boolean"==typeof e?this.setFocused(e):this.onFocus()})}setFocused(e){this.#ea!==e&&(this.#ea=e,this.onFocus())}onFocus(){let e=this.isFocused();this.listeners.forEach(t=>{t(e)})}isFocused(){return"boolean"==typeof this.#ea?this.#ea:globalThis.document?.visibilityState!=="hidden"}}}},e=>{var t=t=>e(e.s=t);e.O(0,[6593,8792],()=>(t(92),t(16296))),_N_E=e.O()}]);